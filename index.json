[{"categories":["å­¦ä¹ "],"content":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","date":"2021-11-02","objectID":"/go-test2/","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"httptest åœ¨Webå¼€å‘åœºæ™¯ä¸‹çš„å•å…ƒæµ‹è¯•ï¼Œå¦‚æœæ¶‰åŠåˆ°HTTPè¯·æ±‚æ¨èå¤§å®¶ä½¿ç”¨Goæ ‡å‡†åº“net/http/httptestè¿›è¡Œæµ‹è¯•ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡æ•ˆç‡ã€‚ åœ¨è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬ä»¥å¸¸è§çš„ginæ¡†æ¶ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä¸ºhttp serverç¼–å†™å•å…ƒæµ‹è¯• å‡è®¾æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘æ˜¯æ­å»ºä¸€ä¸ªhttp serverç«¯ï¼Œå¯¹å¤–æä¾›httpæœåŠ¡ã€‚æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªhelloHandleå‡½æ•°ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·è¯·æ±‚ã€‚ // gin.go package httptest_demo import ( \"fmt\" \"net/http\" \"github.com/gin-gonic/gin\" ) // Param è¯·æ±‚å‚æ•° type Param struct { Name string `json:\"name\"` } // helloHandle /helloè¯·æ±‚å¤„ç†å‡½æ•° func helloHandler(c *gin.Context) { var p Param if err := c.ShouldBindJSON(\u0026p); err != nil { c.JSON(http.StatusOK, gin.H{ \"msg\": \"we need a name\", }) return } c.JSON(http.StatusOK, gin.H{ \"msg\": fmt.Sprintf(\"hello %s\", p.Name) }) } // è·¯ç”± func SetupRouter() *gin.Engine { router := gin.Default() router.POST(\"/hello\", helloHandler) return router } ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸ºhelloHanderå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨httptestè¿™ä¸ªå·¥å…·mockä¸€ä¸ªHTTPè¯·æ±‚å’Œå“åº”è®°å½•å™¨ï¼Œè®©æˆ‘ä»¬çš„serverç«¯æ¥æ”¶å¹¶å¤„ç†æˆ‘ä»¬mockçš„HTTPè¯·æ±‚ï¼ŒåŒæ—¶ä½¿ç”¨å“åº”è®°å½•å™¨æ¥è®°å½•serverç«¯è¿”å›çš„å“åº”å†…å®¹ã€‚ å•å…ƒæµ‹è¯•çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š // gin_test.go package httptest_demo import ( \"encoding/json\" \"net/http\" \"net/http/httptest\" \"strings\" \"testing\" \"github.com/stretchr/testify/assert\" ) func Test_helloHandler(t *testing.T) { // å®šä¹‰ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹ tests := []struct{ name string param string expect string } { {\"base case\", `{\"name\": \"cc\"}`, \"hello cc\"}, {\"bad case\", \"\", \"we need a name\"}, } r := SetupRouter() for _, tt := range tests { t.Run(tt.name, func(t *testing.T) { // mockä¸€ä¸ªhttpè¯·æ±‚ req := httptest.NewRequest( // è¯·æ±‚æ–¹æ³• \"POST\", // è¯·æ±‚URL \"/hello\", // è¯·æ±‚å‚æ•° strings.NewReader(tt.Param), ) // mockä¸€ä¸ªå“åº”è®°å½•å™¨ w := httptest.NewRecorder() // è®©serverç«¯å¤„ç†mockè¯·æ±‚å¹¶è®°å½•è¿”å›çš„å“åº”å†…å®¹ r.ServeHttp(w, req) // æ ¡éªŒçŠ¶æ€ç æ˜¯å¦ç¬¦åˆé¢„æœŸ assert.Equal(t, http.StatusOK, w.Code) // è§£æå¹¶æ£€éªŒå“åº”å†…å®¹æ˜¯å¦ç¬¦åˆé¢„æœŸ var resp map[string]string err := json.Unmarshal([]byte(w.Body.String()), \u0026resp) assert.Nil(t, err) assert.Equal(t, tt.expect, resp[\"msg\"]) }) } } é€šè¿‡è¿™ä¸ªç¤ºä¾‹æˆ‘ä»¬å°±æŒæ¡äº†å¦‚ä½•ä½¿ç”¨httpteståœ¨HTTP ServeræœåŠ¡ä¸­ä¸ºè¯·æ±‚å¤„ç†å‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•äº†ã€‚ ","date":"2021-11-02","objectID":"/go-test2/:1:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"gock ä¸Šé¢çš„ç¤ºä¾‹ä»‹ç»äº†å¦‚ä½•åœ¨HTTP ServeræœåŠ¡ç±»åœºæ™¯ä¸‹ä¸ºè¯·æ±‚å¤„ç†å‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æ˜¯åœ¨ä»£ç ä¸­è¯·æ±‚å¤–éƒ¨APIçš„åœºæ™¯(æ¯”å¦‚é€šè¿‡APIè°ƒç”¨å…¶ä»–æœåŠ¡è·å–è¿”å›å€¼)åˆè¯¥æ€ä¹ˆç¼–å†™å•å…ƒæµ‹è¯•å‘¢ï¼Ÿ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä¾èµ–å¤–éƒ¨APIï¼šhttp://your-api.com/postæä¾›çš„æ•°æ®ã€‚ // api.go // ReqParam APIè¯·æ±‚å‚æ•° type ReqParam struct { X int `json:\"x\"` } // Result APIè¿”å›ç»“æœ type Result struct { Value int `json:\"value\"` } func GetResultByAPI(x, y int) int { p := \u0026ReqParam{X: x} b, _ := json.Marshal(p) // è°ƒç”¨å…¶ä»–æœåŠ¡çš„API resp, err := http.Post( \"http://your-api.com/post\", \"application/json\", bytes.NewBuffer(b), ) if err != nil { return -1 } body, _ := ioutil.ReadAll(resp.Body) var ret Result if err := json.Unmarshal(body, \u0026ret); err != nil { return -1 } // è¿™é‡Œæ˜¯å¯¹APIè¿”å›çš„æ•°æ®åšä¸€äº›é€»è¾‘å¤„ç† return ret.Value + y } åœ¨å¯¹ç±»ä¼¼ä¸Šè¿°è¿™ç±»ä¸šåŠ¡ä»£ç ç¼–å†™å•å…ƒæµ‹è¯•çš„æ—¶å€™ï¼Œå¦‚æœä¸æƒ³åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­çœŸæ­£å»å‘é€è¯·æ±‚æˆ–è€…ä¾èµ–çš„å¤–éƒ¨æ¥å£è¿˜æ²¡å¼€å‘å®Œæˆæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å•å…ƒæµ‹è¯•ä¸­å¯¹ä¾èµ–çš„APIè¿›è¡Œmockã€‚ ","date":"2021-11-02","objectID":"/go-test2/:2:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"å®‰è£… go get -u gopkg.in/h2non/gock.v1 ","date":"2021-11-02","objectID":"/go-test2/:2:1","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨ç¤ºä¾‹ ä½¿ç”¨gockå¯¹å¤–éƒ¨APIè¿›è¡Œmockï¼Œå³mockæŒ‡å®šå‚æ•°è¿”å›çº¦å®šå¥½çš„å“åº”å†…å®¹ã€‚ä¸‹é¢çš„ä»£ç ä¸­mockäº†ä¸¤ç»„æ•°æ®ï¼Œç»„æˆäº†ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹ // api_test.go package gock_demo import ( \"testing\" \"github.com/stretchr/testify/assert\" \"gopkg.in/h2non/gock.v1\" ) func TestGetResultByAPI(t *testing.T) { // æµ‹è¯•æ‰§è¡Œç»“æŸååˆ·æ–°æŒ‚èµ·çš„mock defer gock.Off() // mockè¯·æ±‚å¤–éƒ¨apiæ—¶ä¼ å‚x=1è¿”å›100 gock.New(\"http://your-api.com\"). Post(\"/post\"). MatchType(\"json\"). JSON(map[string]int{\"x\": 1}). Reply(200). JSON(map[string]int{\"value\": 100}) // è°ƒç”¨æˆ‘ä»¬çš„ä¸šåŠ¡å‡½æ•° res := GetResultByAPI(1, 1) // æ ¡éªŒè¿”å›ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ assert.Equal(t, res, 101) // mockè¯·æ±‚å¤–éƒ¨APIæ—¶ä¼ å‚x=2è¿”å›200 gock.New(\"http://your-api.com\"). Post(\"/post\"). MatchType(\"json\"). JSON(map[string]int{\"x\": 2}). Reply(200). JSON(map[string]int{\"value\": 200}) // è°ƒç”¨æˆ‘ä»¬çš„ä¸šåŠ¡å‡½æ•° res = GetResultByAPI(2, 2) // æ ¡éªŒè¿”å›ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ assert.Equal(t, res, 202) // æ–­è¨€mockè¢«è§¦å‘ assert.True(t, gock.IsDone()) } æµ‹è¯•ç»“æœå’Œé¢„æœŸå®Œå…¨ä¸€è‡´ ","date":"2021-11-02","objectID":"/go-test2/:2:2","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"æ€»ç»“ ä½œä¸ºæ—¥å¸¸å¼€å‘ä¸­ä¸ºä»£ç ç¼–å†™å•å…ƒæµ‹è¯•æ—¶å¦‚ä½•å¤„ç†å¤–éƒ¨ä¾èµ–æ˜¯æœ€å¸¸è§çš„é—®é¢˜ï¼Œæœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨httptestå’Œgockå·¥å…·mockç›¸å…³ä¾èµ–ã€‚ ","date":"2021-11-02","objectID":"/go-test2/:3:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ2-ç½‘ç»œæµ‹è¯•","uri":"/go-test2/"},{"categories":["å­¦ä¹ "],"content":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","date":"2021-10-31","objectID":"/go-test1/","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"Goè¯­è¨€æµ‹è¯• ","date":"2021-10-31","objectID":"/go-test1/:1:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"go testå·¥å…· Goè¯­è¨€ä¸­çš„æµ‹è¯•ä¾èµ–go testå‘½ä»¤ã€‚ç¼–å†™æµ‹è¯•ä»£ç å’Œç¼–å†™æ™®é€šçš„Goä»£ç è¿‡ç¨‹æ˜¯ç±»ä¼¼çš„ï¼Œå¹¶ä¸éœ€è¦å­¦ä¹ æ–°çš„è¯­æ³•ã€è§„åˆ™å’Œå·¥å…·ã€‚ go testå‘½ä»¤æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸€å®šçº¦å®šå’Œç»„ç»‡çš„æµ‹è¯•ä»£ç çš„é©±åŠ¨ç¨‹åºã€‚åœ¨åŒ…ç›®å½•å†…ï¼Œæ‰€æœ‰ä»¥_test.goä¸ºåç¼€åçš„æºä»£ç æ–‡ä»¶éƒ½æ˜¯go testæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«go buildç¼–è¯‘åˆ°æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ åœ¨*_test.goæ–‡ä»¶ä¸­æœ‰ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼Œå•å…ƒæµ‹è¯•å‡½æ•°ã€åŸºå‡†æµ‹è¯•å‡½æ•°å’Œç¤ºä¾‹å‡½æ•°ã€‚ ç±»å‹ æ ¼å¼ ä½œç”¨ æµ‹è¯•å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºTest æµ‹è¯•ç¨‹åºçš„ä¸€äº›é€»è¾‘è¡Œä¸ºæ˜¯å¦æ­£ç¡® åŸºå‡†å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºBenchmark æµ‹è¯•å‡½æ•°çš„æ€§èƒ½ ç¤ºä¾‹å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºExample ä¸ºæ–‡æ¡£æä¾›ç¤ºä¾‹æ–‡æ¡£ go testå‘½ä»¤ä¼šéå†æ‰€æœ‰çš„*_test.goæ–‡ä»¶ä¸­ç¬¦åˆä¸Šè¿°å‘½åè§„åˆ™çš„å‡½æ•°ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„mainåŒ…ç”¨äºè°ƒç”¨ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œç„¶åæ„å»ºå¹¶è¿è¡Œã€æŠ¥å‘Šæµ‹è¯•ç»“æœï¼Œæœ€åæ¸…ç†æµ‹è¯•ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ã€‚ ","date":"2021-10-31","objectID":"/go-test1/:1:1","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"å•å…ƒæµ‹è¯•å‡½æ•° æ ¼å¼ æ¯ä¸ªå‡½æ•°å¿…é¡»å¯¼å…¥testingåŒ…ï¼Œæµ‹è¯•å‡½æ•°çš„åŸºæœ¬æ ¼å¼(ç­¾å)å¦‚ä¸‹ï¼š func TestName(t *testing.T) { // ... } æµ‹è¯•å‡½æ•°çš„åå­—å¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¯é€‰çš„åç¼€åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š func TestAdd(t *testing.T) {} func TestSum(t *testing.T) {} func TestLog(t *testing.T) {} å…¶ä¸­å‚æ•°tç”¨äºæŠ¥å‘Šæµ‹è¯•å¤±è´¥å’Œé™„åŠ çš„æ—¥å¿—ä¿¡æ¯ã€‚testing.Tæ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š func (c *T) Cleanup(func()) func (c *T) Error(args ...interface{}) func (c *T) Errorf(format string, args ...interface{}) func (c *T) Fail() func (c *T) FailNow() ... ","date":"2021-10-31","objectID":"/go-test1/:1:2","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"å•å…ƒæµ‹è¯•ç¤ºä¾‹ å°±åƒç»†èƒæ˜¯æ„æˆæˆ‘ä»¬èº«ä½“çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªè½¯ä»¶ç¨‹åºä¹Ÿæ˜¯ç”±å¾ˆå¤šå•å…ƒç»„ä»¶æ„æˆçš„ã€‚å•å…ƒç»„ä»¶å¯ä»¥æ˜¯å‡½æ•°ã€ç»“æ„ä½“ã€æ–¹æ³•å’Œæœ€ç»ˆç”¨æˆ·å¯èƒ½ä¾èµ–çš„ä»»æ„ä¸œè¥¿ã€‚æ€»ä¹‹æˆ‘ä»¬éœ€è¦ç¡®ä¿è¿™äº› ç»„ä»¶æ˜¯èƒ½å¤Ÿæ­£å¸¸è¿è¡Œçš„ã€‚å•å…ƒæµ‹è¯•æ˜¯ä¸€äº›åˆ©ç”¨å„ç§æ–¹æ³•æµ‹è¯•å•å…ƒç»„ä»¶çš„ç¨‹åºï¼Œå®ƒä¼šå°†ç»“æœä¸é¢„æœŸè¾“å‡ºè¿›è¡Œæ¯”è¾ƒã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨base_demoåŒ…ä¸­å®šä¹‰äº†ä¸€ä¸ªSplitå‡½æ•°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š package base_demo import \"strings\" // Split æŠŠå­—ç¬¦ä¸²sæŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦sepè¿›è¡Œåˆ†å‰²è¿”å›å­—ç¬¦ä¸²åˆ‡ç‰‡ func Split(s, sep string) (result []string) { i := strings.Index(s, sep) for i \u003e -1 { result = append(result, s[:i]) s = s[i+1:] i = strings.Index(s, sep) } result = append(result, s) return } åœ¨å½“å‰ç›®å½•ä¸‹æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªsplit_test.goçš„æµ‹è¯•æ–‡ä»¶ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªæµ‹è¯•å‡½æ•°å¦‚ä¸‹ï¼š package split import( \"reflect\" \"testing\" ) // å‡½æ•°åå¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¿…é¡»æ¥æ”¶ä¸€ä¸ª*testing.Tç±»å‹å‚æ•° func TestSplit(t *testing.T) { // ç¨‹åºè¾“å‡ºç»“æœ got := Split(\"ağŸ…±ï¸c\", \":\") // æœŸæœ›çš„ç»“æœ want := []string{\"a\", \"b\", \"c\"} // å› ä¸ºsliceä¸èƒ½æ¯”è¾ƒç›´æ¥ï¼Œå€ŸåŠ©åå°„åŒ…ä¸­çš„æ–¹æ³•æ¯”è¾ƒ if !reflect.DeepEqual(want, got) { // æµ‹è¯•å¤±è´¥è¾“å‡ºé”™è¯¯æç¤º t.Errorf(\"expected: %v, got: %v\", want, got) } } åœ¨å½“å‰è·¯å¾„ä¸‹æ‰§è¡Œgo testå‘½ä»¤ï¼Œå¯ä»¥çœ‹è§è¾“å‡ºç»“æœ ","date":"2021-10-31","objectID":"/go-test1/:1:3","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"go test -v ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æœ‰ç‚¹å•è–„ï¼Œæˆ‘ä»¬å†ç¼–å†™ä¸€ä¸ªæµ‹è¯•ä½¿ç”¨å¤šä¸ªå­—ç¬¦åˆ‡å‰²å­—ç¬¦ä¸²çš„ä¾‹å­ï¼Œåœ¨split_test.goä¸­æ·»åŠ å¦‚ä¸‹æµ‹è¯•å‡½æ•°ï¼š func TestSplitWithComplexSep(t *testing.T) { got := Split(\"abcd\", \"bc\") want := []string{\"a\", \"d\"} if !reflect.DeepEqual(want, got) { t.Errorf(\"expected: %v, got: %v\", want, got) } } ç°åœ¨æˆ‘ä»¬æœ‰å¤šä¸ªæµ‹è¯•ç”¨ä¾‹äº†ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„åœ¨è¾“å‡ºç»“æœä¸­çœ‹è§æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œæƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºgo testå‘½ä»¤æ·»åŠ -vå‚æ•°ï¼Œè®©å®ƒè¾“å‡ºå®Œæ•´çš„æµ‹è¯•ç»“æœ ä»è¾“å‡ºç»“æœæˆ‘ä»¬èƒ½æ¸…æ¥šçš„çœ‹åˆ°TestSplitWithComplexSepè¿™ä¸ªæµ‹è¯•ç”¨ä¾‹æ²¡æœ‰æµ‹è¯•é€šè¿‡ã€‚ ","date":"2021-10-31","objectID":"/go-test1/:1:4","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"go test -run å•å…ƒæµ‹è¯•çš„ç»“æœè¡¨æ˜splitè¿™ä¸ªå‡½æ•°çš„å®ç°å¹¶ä¸å¯é ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°ä¼ å…¥çš„sepå‚æ•°æ˜¯å¤šä¸ªå­—ç¬¦çš„æƒ…å†µï¼Œä¸‹é¢ä¿®å¤è¿™ä¸ªbugï¼š package base_demo import \"strings\" // Split æŠŠå­—ç¬¦ä¸²sæŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦sepè¿›è¡Œåˆ†å‰²è¿”å›å­—ç¬¦ä¸²åˆ‡ç‰‡ func Split(s, sep string) (result []string) { i := strings.Index(s, sep) for i \u003e -1 { result = append(result, s[:i]) // è¿™é‡Œä½¿ç”¨len(sep)è·å–sepçš„é•¿åº¦ s = s[i+len(sep):] i = strings.Index(s, sep) } result = append(result, s) return } åœ¨æ‰§è¡Œgo testå‘½ä»¤çš„æ—¶å€™å¯ä»¥æ·»åŠ -runå‚æ•°ï¼Œå®ƒå¯¹åº”çš„æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæœ‰å‡½æ•°ååŒ¹é…ä¸Šçš„æµ‹è¯•å‡½æ•°æ‰ä¼šè¢«go testå‘½ä»¤æ‰§è¡Œ ä¾‹å¦‚é€šè¿‡ç»™go testæ·»åŠ -run=Sepå‚æ•°æ¥å‘Šè¯‰å®ƒæœ¬æ¬¡æµ‹è¯•åªè¿è¡ŒTestSplitWithComplexSepè¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ ","date":"2021-10-31","objectID":"/go-test1/:1:5","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"å›å½’æµ‹è¯• ä¿®æ”¹ä»£ç åä»…ä»…æ‰§è¡Œé‚£äº›å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹æˆ–æ–°å¼•å…¥çš„æµ‹è¯•ç”¨ä¾‹æ˜¯é”™è¯¯ä¸”å±é™©çš„ï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯å®Œæ•´è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¿è¯ä¸ä¼šå› ä¸ºä¿®æ”¹ä»£ç è€Œå¼•å…¥æ–°çš„é—®é¢˜ é€šè¿‡è¿™ä¸ªç¤ºä¾‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº†å•å…ƒæµ‹è¯•å°±èƒ½å¤Ÿåœ¨ä»£ç æ”¹åŠ¨åå¿«é€Ÿè¿›è¡Œå›å½’æµ‹è¯•ï¼Œæå¤§åœ°æé«˜å¼€å‘æ•ˆç‡å’Œä¿è¯ä»£ç çš„è´¨é‡ã€‚ ","date":"2021-10-31","objectID":"/go-test1/:1:6","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"è·³è¿‡æŸäº›æµ‹è¯•ç”¨ä¾‹ ä¸ºäº†èŠ‚çœæ—¶é—´æ”¯æŒåœ¨å•å…ƒæµ‹è¯•æ—¶è·³è¿‡æŸäº›è€—æ—¶çš„æµ‹è¯•ç”¨ä¾‹ func TestTimeConsuming(t *testing.T) { if testing.Short() { t.Skip(\"Short æ¨¡å¼ä¸‹ä¼šè·³è¿‡è¯¥æµ‹è¯•ç”¨ä¾‹\") } } å½“æ‰§è¡Œgo test shortæ—¶å°±ä¸ä¼šæ‰§è¡Œä¸Šé¢çš„TestTimeConsumingæµ‹è¯•ç”¨ä¾‹ ","date":"2021-10-31","objectID":"/go-test1/:1:7","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"å­æµ‹è¯• åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­æˆ‘ä»¬ä¸ºæ¯ä¸€ä¸ªæµ‹è¯•æ•°æ®ç¼–å†™ä¸€ä¸ªæµ‹è¯•å‡½æ•°ï¼Œè€Œé€šå¸¸å•å…ƒæµ‹è¯•ä¸­éœ€è¦å¤šç»„æµ‹è¯•æ•°æ®ä¿è¯æµ‹è¯•çš„æ•ˆæœã€‚Go1.7+ä¸­æ–°å¢äº†å­æµ‹è¯•ï¼Œæ”¯æŒåœ¨æµ‹è¯•å‡½æ•°ä¸­ä½¿ç”¨t.Runæ‰§è¡Œä¸€ç»„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä¸ºä¸ç”¨çš„æµ‹è¯•æ•°æ®å®šä¹‰å¤šä¸ªæµ‹è¯•å‡½æ•°äº† func TestXXX(t *testing.T) { t.Run(\"case1\", func(t *testing.T){}) t.Run(\"case2\", func(t *testing.T){}) t.Run(\"case3\", func(t *testing.T){}) } ","date":"2021-10-31","objectID":"/go-test1/:1:8","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"è¡¨æ ¼é©±åŠ¨æµ‹è¯• ä»‹ç» è¡¨æ ¼é©±åŠ¨æµ‹è¯•ä¸æ˜¯å·¥å…·ã€åŒ…æˆ–å…¶ä»–ä»»ä½•ä¸œè¥¿ï¼Œå®ƒåªæ˜¯ç¼–å†™æ›´æ¸…æ™°æµ‹è¯•çš„ä¸€ç§æ–¹å¼å’Œè§†è§’ ç¼–å†™å¥½çš„æµ‹è¯•å¹¶éæ˜“äº‹ï¼Œä½†åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¡¨æ ¼é©±åŠ¨æµ‹è¯•å¯ä»¥æ¶µç›–å¾ˆå¤šæ–¹é¢ï¼šè¡¨æ ¼é‡Œçš„æ¯ä¸€ä¸ªæ¡ç›®éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…å«è¾“å…¥å’Œé¢„æœŸç»“æœï¼Œæœ‰æ—¶è¿˜åŒ…å«æµ‹è¯•åç§°ç­‰é™„åŠ ä¿¡æ¯ï¼Œä»¥ä½¿æµ‹è¯•è¾“å‡ºæ˜“äºé˜…è¯»ã€‚ ä½¿ç”¨è¡¨æ ¼é©±åŠ¨æµ‹è¯•èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„ç»´æŠ¤å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œé¿å…åœ¨ç¼–å†™å•å…ƒæµ‹è¯•æ—¶é¢‘ç¹çš„å¤åˆ¶ç²˜è´´ã€‚ è¡¨æ ¼é©±åŠ¨æµ‹è¯•çš„æ­¥éª¤é€šå¸¸æ˜¯å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹è¡¨æ ¼ï¼Œç„¶åéå†è¡¨æ ¼ï¼Œå¹¶ä½¿ç”¨t.Runå¯¹æ¯ä¸€ä¸ªæ¡ç›®æ‰§è¡Œå¿…è¦çš„æµ‹è¯•ã€‚ ç¤ºä¾‹ å®˜æ–¹æ ‡å‡†åº“ä¸­æœ‰å¾ˆå¤šè¡¨æ ¼é©±åŠ¨æµ‹è¯•çš„ç¤ºä¾‹ï¼Œä¾‹å¦‚fmtåŒ…ä¸­å°±æœ‰å¦‚ä¸‹æµ‹è¯•ä»£ç ï¼š var flagtests = []struct { in string out string }{ {\"%a\", \"[%a]\"}, {\"%-a\", \"[%-a]\"}, {\"%+a\", \"[%+a]\"}, {\"%#a\", \"[%#a]\"}, {\"% a\", \"[% a]\"}, {\"%0a\", \"[%0a]\"}, {\"%1.2a\", \"[%1.2a]\"}, {\"%-1.2a\", \"[%-1.2a]\"}, {\"%+1.2a\", \"[%+1.2a]\"}, {\"%-+1.2a\", \"[%+-1.2a]\"}, {\"%-+1.2abc\", \"[%+-1.2a]bc\"}, {\"%-1.2abc\", \"[%-1.2a]bc\"}, } func TestFlagParser(t *testing.T) { var flagprinter flagPrinter for _, tt := range flagtests { t.Run(tt.in, func(t *testing.T) { s := Sprintf(tt.in, \u0026flagprinter) if s != tt.out { t.Errorf(\"got %q, want %q\", s, tt.out) } }) } } é€šå¸¸è¡¨æ ¼æ˜¯åŒ¿åç»“æ„ä½“çš„åˆ‡ç‰‡ï¼Œå¯ä»¥å®šä¹‰ç»“æ„ä½“æˆ–ä½¿ç”¨å·²ç»å­˜åœ¨çš„ç»“æ„è¿›è¡Œç»“æ„ä½“æ•°ç»„å£°æ˜ã€‚nameå±æ€§ç”¨æ¥æè¿°ç‰¹å®šçš„æµ‹è¯•ç”¨ä¾‹ã€‚ æ¥ä¸‹æ¥è®©æˆ‘ä»¬è¯•ç€è‡ªå·±ç¼–å†™è¡¨æ ¼é©±åŠ¨æµ‹è¯•ï¼š func TestSplitAll(t *testing.T) { // å®šä¹‰æµ‹è¯•è¡¨æ ¼ // è¿™é‡Œä½¿ç”¨åŒ¿åç»“æ„ä½“å®šä¹‰äº†è‹¥å¹²ä¸ªæµ‹è¯•ç”¨ä¾‹ // å¹¶ä¸”ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è®¾ç½®äº†ä¸€ä¸ªåç§° tests := []struct { name string input string sep string want []string }{ {\"base case\", \"ağŸ…±ï¸c\", \":\", []string{\"a\", \"b\", \"c\"}}, {\"wrong sep\", \"ağŸ…±ï¸c\", \",\", []string{\"ağŸ…±ï¸c\"}}, {\"more sep\", \"abcd\", \"bc\", []string{\"a\", \"d\"}}, {\"leading sep\", \"æ²™æ²³æœ‰æ²™åˆæœ‰æ²³\", \"æ²™\", []string{\"\", \"æ²³æœ‰\", \"åˆæœ‰æ²³\"}}, } // éå†æµ‹è¯•ç”¨ä¾‹ for _, tt := range tests { t.Run(tt.name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯• got := Split(tt.input, tt.sep) if !reflect.DeepEqual(got, tt.want) { t.Errorf(\"expected:%#v, got:%#v\", tt.want, got) } }) } } åœ¨ç»ˆç«¯æ‰§è¡Œgo test -vï¼Œ ä¼šå¾—åˆ°æµ‹è¯•è¾“å‡ºç»“æœ å¹¶è¡Œæµ‹è¯• è¡¨æ ¼é©±åŠ¨æµ‹è¯•ä¸­é€šå¸¸ä¼šå®šä¹‰æ¯”è¾ƒå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œè€ŒGoè¯­è¨€åˆå¤©ç”Ÿæ”¯æŒå¹¶å‘ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å°±å‘æŒ¥è‡ªèº«å¹¶å‘ä¼˜åŠ¿å°†è¡¨æ ¼é©±åŠ¨æµ‹è¯•å¹¶è¡ŒåŒ–ã€‚æƒ³è¦åœ¨å•å…ƒæµ‹è¯•è¿‡ç¨‹ä¸­ä½¿ç”¨å¹¶è¡Œæµ‹è¯•ï¼Œå¯ä»¥åƒä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­é‚£æ ·é€šè¿‡æ·»åŠ t.Parallel()æ¥å®ç° func TestSplitAll(t *testing.T) { t.Parallel() // å°† TLog æ ‡è®°ä¸ºèƒ½å¤Ÿä¸å…¶ä»–æµ‹è¯•å¹¶è¡Œè¿è¡Œ // å®šä¹‰æµ‹è¯•è¡¨æ ¼ // è¿™é‡Œä½¿ç”¨åŒ¿åç»“æ„ä½“å®šä¹‰äº†è‹¥å¹²ä¸ªæµ‹è¯•ç”¨ä¾‹ // å¹¶ä¸”ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è®¾ç½®äº†ä¸€ä¸ªåç§° tests := []struct { name string input string sep string want []string }{ {\"base case\", \"ağŸ…±ï¸c\", \":\", []string{\"a\", \"b\", \"c\"}}, {\"wrong sep\", \"ağŸ…±ï¸c\", \",\", []string{\"ağŸ…±ï¸c\"}}, {\"more sep\", \"abcd\", \"bc\", []string{\"a\", \"d\"}}, {\"leading sep\", \"æ²™æ²³æœ‰æ²™åˆæœ‰æ²³\", \"æ²™\", []string{\"\", \"æ²³æœ‰\", \"åˆæœ‰æ²³\"}}, } // éå†æµ‹è¯•ç”¨ä¾‹ for _, tt := range tests { tt := tt // æ³¨æ„è¿™é‡Œé‡æ–°å£°æ˜ttå˜é‡ï¼ˆé¿å…å¤šä¸ªgoroutineä¸­ä½¿ç”¨äº†ç›¸åŒçš„å˜é‡ï¼‰ t.Run(tt.name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯• t.Parallel() // å°†æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ ‡è®°ä¸ºèƒ½å¤Ÿå½¼æ­¤å¹¶è¡Œè¿è¡Œ got := Split(tt.input, tt.sep) if !reflect.DeepEqual(got, tt.want) { t.Errorf(\"expected:%#v, got:%#v\", tt.want, got) } }) } } è¿™æ ·æˆ‘ä»¬æ‰§è¡Œgo test -vçš„æ—¶å€™å°±ä¼šçœ‹åˆ°æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¹¶ä¸æ˜¯æŒ‰ç…§æˆ‘ä»¬å®šä¹‰çš„é¡ºåºæ‰§è¡Œçš„ï¼Œè€Œæ˜¯äº’ç›¸å¹¶è¡Œçš„ã€‚ ä½¿ç”¨å·¥å…·ç”Ÿæˆæµ‹è¯•ä»£ç  ç¤¾åŒºé‡Œæœ‰å¾ˆå¤šè‡ªåŠ¨ç”Ÿæˆè¡¨æ ¼é©±åŠ¨æµ‹è¯•å‡½æ•°çš„å·¥å…·ï¼Œæ¯”å¦‚gotestsç­‰ï¼Œå¾ˆå¤šç¼–è¾‘å™¨å¦‚Golandä¹Ÿæ”¯æŒå¿«é€Ÿç”Ÿæˆæµ‹è¯•æ–‡ä»¶ã€‚è¿™é‡Œç®€å•æ¼”ç¤ºä¸€ä¸‹gotestsçš„ä½¿ç”¨ã€‚ å®‰è£… go get -u github.com/cweill/gotests/... æ‰§è¡Œ gotests -all -w split.go ä¸Šé¢çš„å‘½ä»¤è¡¨ç¤ºï¼Œä¸ºsplit.goæ–‡ä»¶çš„æ‰€æœ‰å‡½æ•°ç”Ÿæˆæµ‹è¯•ä»£ç è‡³split_test.goæ–‡ä»¶(ç›®å½•ä¸‹å¦‚æœäº‹å…ˆå­˜åœ¨è¿™ä¸ªæ–‡ä»¶å°±ä¸å†ç”Ÿæˆäº†) ä»£ç æ ¼å¼ä¸æˆ‘ä»¬ä¸Šé¢çš„ç±»ä¼¼ï¼Œåªéœ€è¦åœ¨TODOä½ç½®æ·»åŠ æˆ‘ä»¬çš„æµ‹è¯•é€»è¾‘å°±å¯ä»¥äº† ","date":"2021-10-31","objectID":"/go-test1/:1:9","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•è¦†ç›–ç‡æ˜¯æŒ‡ä»£ç è¢«æµ‹è¯•å¥—ä»¶è¦†ç›–çš„ç™¾åˆ†æ¯”ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨çš„è¯­å¥éƒ½æ˜¯æœ‰è¦†ç›–ç‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æµ‹è¯•ä¸­è‡³å°‘è¢«è¿è¡Œä¸€æ¬¡çš„ä»£ç å æ€»ä»£ç çš„æ¯”ä¾‹ã€‚åœ¨å…¬å¸å†…éƒ¨ä¸€èˆ¬ä¼šè¦æ±‚æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°80%å·¦å³ã€‚ Goæä¾›å†…ç½®åŠŸèƒ½æ¥æ£€æŸ¥ä½ çš„ä»£ç è¦†ç›–ç‡ï¼Œå³ä½¿ç”¨go test -coveræ¥æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡ Goè¿˜æä¾›äº†ä¸€ä¸ªé¢å¤–çš„-coverprofileå‚æ•°ï¼Œç”¨æ¥å°†è¦†ç›–ç‡ç›¸å…³çš„è®°å½•ä¿¡æ¯è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ã€‚ go test -cover -coverprofil=c.out ä¸Šé¢çš„å‘½ä»¤ä¼šå°†è¦†ç›–ç‡ç›¸å…³çš„ä¿¡æ¯è¾“å‡ºåˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹é¢çš„c.outæ–‡ä»¶ä¸­ ç„¶åæˆ‘ä»¬æ‰§è¡Œgo tool cover -html=c.outï¼Œä½¿ç”¨coverå·¥å…·æ¥å¤„ç†ç”Ÿæˆçš„è®°å½•ä¿¡æ¯ï¼Œè¯¥å‘½ä»¤ä¼šæ‰“å¼€æœ¬åœ°çš„æµè§ˆå™¨çª—å£ç”Ÿæˆä¸€ä¸ªhtmlæŠ¥å‘Š ","date":"2021-10-31","objectID":"/go-test1/:1:10","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"testify/assert testifyæ˜¯ä¸€ä¸ªç¤¾åŒºéå¸¸æµè¡Œçš„Goå•å…ƒæµ‹è¯•å·¥å…·åŒ…ï¼Œå…¶ä¸­ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯å®ƒæä¾›çš„æ–­è¨€å·¥å…·â€“testify/assertæˆ–testify/require ","date":"2021-10-31","objectID":"/go-test1/:2:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"å®‰è£… go get github.com/stretchr/testify ","date":"2021-10-31","objectID":"/go-test1/:2:1","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨ç¤ºä¾‹ æˆ‘ä»¬åœ¨å†™å•å…ƒæµ‹è¯•çš„æ—¶å€™ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨æ–­è¨€æ¥æ ¡éªŒæµ‹è¯•ç»“æœï¼Œä½†æ˜¯ç”±äºGoè¯­è¨€å®˜æ–¹æ²¡æœ‰æä¾›æ–­è¨€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå†™å‡ºå¾ˆå¤šçš„if...else...è¯­å¥ã€‚è€Œtestify/assertä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šå¸¸ç”¨çš„æ–­è¨€å‡½æ•°ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¾“å‡ºå‹å¥½ï¼Œæ˜“äºé˜…è¯»çš„é”™è¯¯æè¿°ä¿¡æ¯ã€‚ æ¯”å¦‚ä¹‹å‰åœ¨TestSplitæµ‹è¯•å‡½æ•°ä¸­å°±ä½¿ç”¨äº†reflect.DeepEqualæ¥åˆ¤æ–­æœŸå¾…ç»“æœä¸å®é™…ç»“æœæ˜¯å¦ä¸€è‡´ã€‚ t.Run(tt.name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯• got := Split(tt.input, tt.sep) if !reflect.DeepEqual(got, tt.want) { t.Errorf(\"expected:%#v, got:%#v\", tt.want, got) } }) ä½¿ç”¨testify/assertä¹‹åå°±èƒ½å°†ä¸Šè¿°åˆ¤æ–­è¿‡ç¨‹ç®€åŒ–å¦‚ä¸‹ï¼š t.Run(tt.name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯• got := Split(tt.input, tt.sep) assert.Equal(t, got, tt.want) // ä½¿ç”¨assertæä¾›çš„æ–­è¨€å‡½æ•° }) å½“æˆ‘ä»¬æœ‰å¤šä¸ªæ–­è¨€è¯­å¥æ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨assert := assert.New(t)åˆ›å»ºä¸€ä¸ªassertå¯¹è±¡ï¼Œå®ƒæ‹¥æœ‰å‰é¢æ‰€æœ‰çš„æ–­è¨€æ–¹æ³•ï¼Œåªæ˜¯ä¸éœ€è¦å†ä¼ å…¥Testing.Tå‚æ•°äº†ã€‚ ","date":"2021-10-31","objectID":"/go-test1/:2:2","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["å­¦ä¹ "],"content":"æ€»ç»“ æœ¬æ–‡ä»‹ç»äº†Goè¯­è¨€å•å…ƒæµ‹è¯•çš„åŸºæœ¬ç”¨æ³•ï¼Œé€šè¿‡ä¸ºSplitå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•çš„çœŸå®æ¡ˆä¾‹ï¼Œæ¨¡æ‹Ÿäº†æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­çš„åœºæ™¯ï¼Œä¸€æ­¥ä¸€æ­¥è¯¦ç»†ä»‹ç»äº†è¡¨æ ¼é©±åŠ¨æµ‹è¯•ã€å›å½’æµ‹è¯•å’Œå¸¸ç”¨çš„æµ‹è¯•å·¥å…·testify/assertçš„ä½¿ç”¨ã€‚ ","date":"2021-10-31","objectID":"/go-test1/:3:0","tags":["Golangæµ‹è¯•"],"title":"Goæµ‹è¯•ä»é›¶åˆ°æºœ1-å•å…ƒæµ‹è¯•","uri":"/go-test1/"},{"categories":["ç”Ÿæ´»"],"content":"20211028æ„Ÿæ…¨","date":"2021-10-28","objectID":"/20211028sighwithemotion/","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"åˆºæ¿€çš„å‘¨ä¸€ä¸‹åˆ æ—¥å¸¸å¼€å‘çš„å‘¨ä¸€ä¸‹åˆï¼ˆ2021å¹´10æœˆ25æ—¥ï¼‰ï¼Œåˆç¡å®Œä¹‹åæ€€ç–‘äººç”Ÿçš„ä¸€æ®µæ‚ é—²æ—¶å…‰è¿‡åï¼Œåˆšè¦æŠŠä¸€ä¸ªcommitæäº¤ã€‚å¿½ç„¶ä¸€å£°å¤§å–ï¼šâ€œæ‰€æœ‰äººèµ·ç«‹ï¼ŒåŒæ‰‹æŠ±å¤´!â€ã€‚å“ˆå“ˆå“ˆï¼Œä¸€è„¸æ‡µé€¼ï¼Œçœ‹ç€å‘¨å›´çš„äººéƒ½èµ·ç«‹åŒæ‰‹æŠ±å¤´ã€‚æˆ‘å½“ç„¶ä¹Ÿæ˜¯ä¸ä¾‹å¤–å•¦ã€‚å½±è§†ä½œå“é‡Œå‘ç”Ÿçš„äº‹æƒ…ç»ˆäºè¿˜æ˜¯è½åœ¨äº†æˆ‘çš„å¤´ä¸Šï¼Œå“ˆå“ˆå“ˆï¼Œç¬‘æ­»ã€‚éšåä¾¿æ˜¯ä¸€é˜µæ²‰é»˜ï¼Œæ‰€æœ‰äººéƒ½ä¸æ‡‚å‘ç”Ÿäº†ä»€ä¹ˆã€‚æˆ‘çœ‹ç€å‘¨å›´çš„äººï¼ŒåŸºæœ¬ä¸Šéƒ½ä¸æ‡‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæœ‰çš„äººè„¸ä¸Šéœ²å‡ºæ¥ç„¦è™‘çš„ç¥è‰²ï¼Œå¯èƒ½æ˜¯æƒ³åˆ°ä»¥åçš„å·¥ä½œå±¥å†ä¸å¥½æ“ä½œå§ï¼ˆæˆ‘çŒœçš„ï¼Œæˆ‘ä¹Ÿæœ‰è¿™æ ·æƒ³ï¼‰ã€‚ç„¶åé‚£äº›ç®—æ˜¯è­¦å®˜å§ï¼Œä»äººäº‹é‚£æ‹¿äº†å¥½å¤šç™½çº¸ï¼Œè®©æˆ‘ä»¬åˆ†åˆ«å¡«ä¸Šè‡ªå·±çš„ä¿¡æ¯ï¼Œåœ¨å…¬å¸çš„èŒåŠ¡ï¼Œå…¥èŒæ—¶é—´ç­‰ç­‰ã€‚å¡«å®Œä¹‹åï¼Œé‚£äº›è­¦å®˜ç£¨è¹­ä¸€ä¼šï¼Œå¸¦äº†ä¸€äº›é«˜å±‚å»èŒ¶æ°´é—´é—®è¯ï¼ˆé¬¼çŸ¥é“ä»–ä»¬è¯´ä»€ä¹ˆï¼‰ã€‚é‚£ä¸ªæ—¶å€™æˆ‘ç”šè‡³å¤„åœ¨ä¸€ä¸ªçœ‹çƒ­é—¹çš„çŠ¶æ€ï¼ˆå“ˆå“ˆå“ˆï¼ŒçœŸæ˜¯ä¸æ€•æ­»ï¼‰ï¼Œéšåæˆ‘ä»¬ä¸€ç¾¤å°å–½å•°ä¾¿è¢«ç‚¹åä¸€ä¸ªæ¥ä¸€ä¸ªçš„å»åˆ°äº†ä¼šè®®å®¤ã€‚åœ¨é‡Œé¢ä¹Ÿå¾ˆæ— èŠï¼Œå¡«å†™ä¸ªäººä¿¡æ¯ã€‚ä¹‹åä¾¿æ˜¯åœ¨é‚£é‡Œå‘†åç€ã€‚æœŸé—´ä¸€ç¾¤äººè¦å»ä¸Šå•æ‰€ï¼ˆå¤ªç´§å¼ äº†ï¼Ÿå®³æ€•ï¼Ÿï¼‰ã€‚åæ­£é‚£ä¸€æ®µæ—¶é—´åŸºæœ¬å»å•æ‰€æ’é˜Ÿçš„äººæ˜¯ä¸€ç›´éƒ½æœ‰çš„ã€‚è¿‡äº†å¥½é•¿ä¸€æ®µæ—¶é—´ï¼ˆæœŸé—´æˆ‘ä»¿ä½›ä¸€ä¸ªæ— å…³äººå£«ï¼Œä»¥ä¸€ä¸ªä¸Šå¸è§†è§’çœ‹ç€å‘¨å›´çš„äººã€‚å°¤å…¶æ˜¯é‡Œé¢çš„æœ€å¤§èŒåŠ¡å…¬å¸çš„æ³•äººâ€“è€€å“¥ï¼Œåªè§ä»–ä¸€ç›´æ‘¸å¤´å¥½åƒå¾ˆç´§å¼ çš„æ ·å­ã€‚æˆ‘é‚£æ—¶å€™ä»¥ä¸ºä»–åº”è¯¥æ˜¯ç„¦è™‘è¡€æœ¬æ— å½’å§ï¼Œä½†æˆ‘ç°åœ¨ä¸æ˜¯è¿™æ ·æƒ³çš„ï¼‰ã€‚ ç»ˆäºäº‹æƒ…ç»“æŸäº†ï¼Œè­¦å¯Ÿèµ°äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¼€å§‹åšè‡ªå·±çš„äº‹äº†ã€‚è¿‡äº†ä¸€ä¼šï¼Œè€€å“¥åˆ†åˆ«ç»„ç»‡äººå‘˜å»ä¼šè®®å®¤è§£é‡Šåˆšåˆšçš„æƒ…å†µï¼Œè¯´æ˜¯å…¬å¸çš„ä¸Šä¸€ä¸ªé¡¹ç›®å‡ºäº‹äº†ï¼ˆä¸Šä¸€ä¸ªé¡¹ç›®å–ç»™äº†æ³‰å·çš„ä¸€å®¶å…¬å¸ï¼Œé‚£å®¶å…¬å¸æ‹¿ç€è¿™ä¸ªè½¯ä»¶å»åšäº†è¯ˆéª—è¿˜æ˜¯è¿æ³•çš„ä¸€äº›äº‹ï¼‰ï¼Œåæ­£æˆ‘ä»¬å…¬å¸é‡Œæœ‰æ¥è§¦ä¸Šä¸€ä¸ªé¡¹ç›®çš„é«˜å±‚éƒ½å»äº†ã€‚è§£é‡Šå®Œä¹‹åï¼Œæˆ‘ä»¬å°±åˆ†åˆ«å›å»å·¥ä½œäº†ï¼Œä»¿ä½›æ²¡æœ‰å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚åªç•™ä¸‹äº†ä¸€ä¸ªå¯ä»¥è®©äººé—²è¯çš„è¯é¢˜ã€‚ å‘¨ä¸€çš„ä¸‹åˆç»“æŸäº†ï¼ ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:1:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"å¹³é™çš„å‘¨äºŒ è¿™ä¸ªå‘¨äºŒæ˜¯ä¸ªæ— èŠçš„ä¸€å¤©ï¼Œå’Œä¹‹å‰ä¸€æ ·è¿›è¡Œç€æ—¥å¸¸çš„å¼€å‘ã€‚é™¤äº†å‡ ä¸ªæ²¡ç»å†è¿‡å‘¨ä¸€çš„å°ä¼™ä¼´åœ¨ä»–äººçš„æ»”æ»”ä¸ç»ä¸‹äº†è§£äº†å½“æ—¶çš„æƒ…å½¢ï¼Œå¹¶å‘è¡¨äº†è‹¥æœ‰è‹¥æ— çš„çœ‹æ³•ã€‚é‚£åˆæœ‰ä»€ä¹ˆé¬¼ç”¨å‘¢ã€‚ä¸‹åˆé‚£äº›è¢«èµ°çš„å‡ ä½å›æ¥äº†ï¼Œå„ä¸ªæ²¹å¤´ï¼Œå“ˆå“ˆå“ˆã€‚ç¨å¾®äº†è§£äº†ä¸€ä¸‹ä»–ä»¬çš„äº‹æƒ…ï¼Œæˆ‘ä¹Ÿå·®ä¸å¤šæ’¤äº†ï¼Œå›å®¶ï¼åæ­£è¿™ä¸ªå¹³é™çš„å‘¨äºŒå°±è¿™æ ·æœ‰æƒŠæ— é™©çš„è¿‡äº†ã€‚ ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:2:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"æœ€åçš„å‘¨ä¸‰ è¿‡äº†ä¸€ä¸ªå¹³é™çš„å‘¨äºŒï¼Œæœ¬ä»¥ä¸ºé‚£ä»¶äº‹æƒ…ç»ˆäºæ˜¯è¿‡å»äº†ã€‚ä¸€åˆ‡ç”Ÿæ´»å›å½’æ­£å¸¸äº†ã€‚å“ˆå“ˆå“ˆï¼Œäº‹æƒ…æ˜¯è¿‡å»äº†ï¼Œæˆ‘ä¹Ÿåˆè¢«è¾èŒäº†ã€‚å”‰ã€‚å‘¨ä¸‰çš„æ—©ä¸Šè¿˜æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å¹³é™çš„æ—©ä¸Šï¼Œæˆ‘åœ¨é‚£é»˜é»˜çš„æ‘¸é±¼ï¼Œä¸€ä¸ªæ—©ä¸Šå°±è¿‡å»äº†ã€‚å“ˆå“ˆå“ˆï¼Œè½»æ¾å•Šï¼ä¸­åˆå’ŒåŒäº‹å»åƒä¸ªé¥­ï¼Œå’Œå¹³å¸¸æ— äºŒçš„åˆç¡ï¼Œåˆç¡ä¹‹åçš„æ€€ç–‘äººç”Ÿã€‚ä¹‹åå°±çœŸçš„æ€€ç–‘äººç”Ÿäº†ã€‚é¦–å…ˆæ˜¯ä¸€äº›äº§å“uiä¹‹ç±»çš„å»äº†ä¼šè®®å®¤ï¼Œä¹‹åå®¢æˆ·ç«¯çš„å°ä¼™ä¼´ä¹Ÿå»äº†ã€‚é‚£æ—¶å€™æˆ‘è¿˜ä»¥ä¸ºå°±æ˜¯è¦å¼€å¯ä¸‹ä¸€é˜¶æ®µäº†ï¼Œåœ¨è®¨è®ºéœ€æ±‚äº†å§ã€‚ç´§éšå…¶åï¼Œæˆ‘ä»¬ä¹Ÿå¼€ä¼šäº†ï¼Œæˆ‘TMç”šè‡³è¿˜å¸¦äº†ç¬”è®°æœ¬å»ã€‚å“ˆå“ˆå“ˆï¼Œç¬‘æ­»ï¼Œå°±æˆ‘ä¸€ä¸ªå¸¦äº†ç¬”è®°æœ¬ã€‚ç»“æœè¿›å»å¹¶ä¸æ˜¯ä»€ä¹ˆè®¨è®ºéœ€æ±‚ï¼Œè€Œæ˜¯è¢«è¾èŒå¤§ä¼šã€‚é¦–å…ˆï¼Œè€æ¿çš„å°èˆ…å­åˆå†ä¸€æ¬¡è¯´æ˜äº†å‘¨ä¸€çš„æƒ…å†µï¼Œç„¶åè¯´ä¸ºäº†ä¿æŠ¤æˆ‘ä»¬ä¸è¢«ç‰µè¿ï¼Œå¸Œæœ›æˆ‘ä»¬å¯ä»¥è‡ªå·±è¾èŒã€‚è€æ¿è¢«æŠ“èµ°äº†ï¼Œä¸€æ—¶åŠä¼šå›ä¸æ¥äº†ï¼Œè¶ç°åœ¨è¿˜æœ‰ç‚¹é’±ï¼ŒæŠŠæˆ‘ä»¬å·¥èµ„ç»“äº†ã€‚éšåä¾¿æ˜¯è‹¦æƒ…ç­–ç•¥äº†ï¼Œç›´æ¥å¼€å“­ã€‚ç¬‘æ­»ï¼Œä¸€ä¸ªå¤§ç”·äººè¯´å“­å°±å“­ï¼Œç‰›çš®ã€‚å”‰ï¼Œæœ€åä¸¾æ‰‹è¡¨å†³æ„¿ä¸æ„¿æ„äº†ã€‚å“ˆå“ˆå“ˆï¼Œå¤§å®¶éƒ½ä¸¾æ‰‹äº†ï¼Œæˆ‘èƒ½å¹²å˜›ï¼Œè›®ä¸¾ç€å§ã€‚ç„¶åå°±å·®ä¸å¤šæ•£ä¼šäº†ã€‚æ•£ä¼šäº†ä¹‹åå°±åœ¨å·¥ä½ä¸ŠçèŠå‘—ï¼Œç­‰äººäº‹é€šçŸ¥å‘—ï¼Œæœ€åä¸€ä»½åŒå®‰é¦™éª¨é¸¡è…¿ä½œä¸ºç®€å•çš„æ•£ä¼™é¥­äº†ï¼Œä¹Ÿæ˜¯æç¬‘ã€‚æœ¬æ¥é‚£æ—¶å€™æˆ‘ä¹ŸæŒºæ— æ‰€è°“çš„ï¼Œä½†æ˜¯åé¢è¶Šæƒ³è¶Šä¸å¯¹ï¼ˆç°åœ¨å¿ƒç”Ÿæ¼ç«ï¼Œè‰¹ï¼ï¼ï¼ï¼‰ã€‚æ•£ä¼™é¥­åƒå®Œï¼Œå’Œç°åœ¨çš„ç›¸äº²å¥½å‹ä¸€èµ·åƒäº†é¡¿é¥­ï¼Œåº”è¯¥å•¥ä¹Ÿæ²¡æœ‰æš´éœ²å§ã€‚æˆ‘é‚£æ—¶å€™ä¸æƒ³å›å®¶ï¼Œä¸æƒ³è®©ä»–ä»¬çŸ¥é“ã€‚æ™šä¸Šä¹Ÿè¿˜è¡Œç©çš„æŒºå¼€å¿ƒçš„ã€‚ä¸‹ç­ä¹‹åï¼Œå‡ ä¸ªåŒäº‹çš„æœ‹å‹åœˆä¹Ÿæ˜¯æŒºæœ‰æ„æ€çš„ï¼ æœ€æ¼ç«çš„æ˜¯å›å®¶ä¹‹åçœ‹äº†bossç›´è˜ä¸Šå±…ç„¶æœ‰å…¬å¸çš„æ‹›è˜å²—ä½ã€‚å‘µå‘µï¼Œç©è¿™æ‹›ï¼Œå¤ŸæŸå•Šã€‚é¡¹ç›®å¼€å‘å®Œæ¯•ï¼Œç„¶åæŠŠç¬¬ä¸€æ³¢å¼€å‘äººå‘˜éƒ½ç‚’äº†ï¼Œæ”¹æ‹›å‡ ä¸ªå…¶ä»–çš„äººæ¥è¿›è¡Œå¼€å‘ã€‚çœŸTMæœ‰æ„æ€ã€‚èµ„æœ¬ä¸»ä¹‰ã€‚ å°±å¸Œæœ›ä»–ä»¬è¯´çš„æ˜¯çœŸçš„ï¼Œå…¬å¸bossç›´æ¥ç»™æŠ“èµ°ã€‚å“ˆå“ˆå“ˆï¼Œæˆ‘ä¹Ÿæ˜¯è€ç‹—ä¸€æ¡äº†ã€‚ ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:3:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"åŒäº‹çš„æœ‰è¶£æœ‹å‹åœˆ äº‘æ·±ä¸çŸ¥å¤„ï¼ˆåˆå½¬ï¼‰ï¼š ä»Šå¤©ä¸‹ç­çœŸæ—© å¥½ä¹…æ²¡æœ‰è¿™ä¹ˆæ—©ä¸‹ç­è¿‡äº† çœŸçˆ½ åé¢å‡ å¤©ä¹Ÿä¸ç”¨ä¸Šç­äº† å§æ§½åŸæ¥å¤±ä¸šäº† åˆ«äººçš„å¤©ç©º æˆ‘çš„å¤©ç©ºğŸ˜± åŠ äº†å‡ ä¸ªæœˆçš„ç­ éƒ½ç®—ä¸Šçº¿äº† ç»“æœæè¿™å‡º çœ¼çœ‹æœå®å°±è¦æˆç†Ÿäº† ç»“æœä¸€å£å± ç‹—å¤´ ç‹—å¤´ ç‹—å¤´ åˆ«äººçš„å¤©ç©º\u0026ldquo;åˆ«äººçš„å¤©ç©º\u0026rdquo; \"\råˆ«äººçš„å¤©ç©º\r æˆ‘çš„å¤©ç©º\u0026ldquo;æˆ‘çš„å¤©ç©º\u0026rdquo; \"\ræˆ‘çš„å¤©ç©º\r ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:4:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"c:å“ˆå“ˆå“ˆï¼Œè€é˜´é˜³æ€ªæ°”äº†ï¼ï¼ˆæŒºæœ‰æ„æ€çš„ï¼‰ nicklosï¼ˆå°å›ï¼‰ï¼š è¡Œè·¯éš¾ï¼Œå¤šæ­§è·¯ï¼Œä»Šå®‰åœ¨ï¼Ÿé•¿é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ·ã€‚ ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:5:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"c:æ€ä¹ˆè¯´å‘¢ã€‚å…±å‹‰å§ã€‚æ€»æ„Ÿè§‰è¿™äººå’Œé«˜å±‚æœ‰ç‚¹ä¸æ˜å…³ç³»ï¼ˆæ€»æ„Ÿè§‰è¿™æ¬¡äº‹ä»¶ä»–åº”è¯¥ä¹Ÿæœ‰ç‚¹ä¸œè¥¿ï¼‰ä½†æ„¿æ˜¯æˆ‘è¯¯ä¼š æµ®è‹ï¼ˆåŸåŸï¼‰ï¼š ç”Ÿæ´»å¯èƒ½çœŸçš„å¾ˆéš¾å§ï¼Œæ¯æ¯çœ‹è§ä¸€ç‚¹ç›¼å¤´ï¼Œå•ªï¼Œä¸€å·´æŒåˆæ‰“å›å»äº† ä½†æ˜¯ï¼Œä½†æ˜¯å•Šï¼Œç”Ÿæ´»ä¸æ˜¯ä¸€ä¸ªäººçš„ï¼Œæ˜¯ä¸€å®¶äººçš„ï¼Œæ›´è¦ç›¸ä¿¡ï¼Œç°åœ¨é­å—çš„å›°è‹¦ï¼Œéƒ½æ˜¯å°†æ¥å›æŠ¥çš„è´¢å¯Œ æ°¸è¿œä¸è¦å¤±å»çœ¼é‡Œçš„å…‰ ä¸è¦å¤±å»çœ¼é‡Œçš„å…‰\u0026ldquo;ä¸è¦å¤±å»çœ¼é‡Œçš„å…‰\u0026rdquo; \"\rä¸è¦å¤±å»çœ¼é‡Œçš„å…‰\r ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:6:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["ç”Ÿæ´»"],"content":"c:æˆ‘æ°¸è¿œä¸ä¼šå¤±å»çœ¼é‡Œçš„å…‰(å“ˆå“ˆå“ˆ) ","date":"2021-10-28","objectID":"/20211028sighwithemotion/:7:0","tags":["ç”Ÿæ´»æ„Ÿæ…¨"],"title":"20211028æ„Ÿæ…¨","uri":"/20211028sighwithemotion/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€6","date":"2021-09-29","objectID":"/rabbitmq6/","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(RPC) åœ¨ç¬¬äºŒä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨å·¥ä½œé˜Ÿåˆ—åœ¨å¤šä¸ªworkerä¹‹é—´åˆ†é…è€—æ—¶çš„ä»»åŠ¡ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨è¿œç¨‹è®¡ç®—æœºä¸Šè¿è¡Œå‡½æ•°å¹¶ç­‰å¾…ç»“æœæ€ä¹ˆåŠï¼Ÿå¥½å§ï¼Œé‚£æ˜¯ä¸€ä¸ªä¸åŒçš„æ•…äº‹ã€‚è¿™ç§æ¨¡å¼é€šå¸¸ç§°ä¸º\"è¿œç¨‹è°ƒç”¨\"æˆ–RPCã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨RabbitMQæ„å»ºä¸€ä¸ªRPCç³»ç»Ÿï¼šå®¢æˆ·ç«¯å’Œå¯ä¼¸ç¼©RPCæœåŠ¡å™¨ã€‚ç”±äºæˆ‘ä»¬æ²¡æœ‰å€¼å¾—åˆ†é…çš„å®šæ—¶ä»»åŠ¡ï¼Œå› æ­¤æˆ‘ä»¬å°†å°†æ„å»ºä¸€ä¸ªè™šæ‹Ÿçš„RPCæœåŠ¡ï¼Œè¯¥æœåŠ¡è¿”å›æ–æ³¢é‚£å¥‘æ•°ã€‚ æœ‰å…³RPCçš„è¯´æ˜ å°½ç®¡RPCæ˜¯è®¡ç®—ä¸­éå¸¸å¸¸è§çš„æ¨¡å¼ï¼Œä½†å®ƒç»å¸¸å—åˆ°æ‰¹è¯„ã€‚ å½“ç¨‹åºå‘˜ä¸çŸ¥é“å‡½æ•°è°ƒç”¨æ˜¯æœ¬åœ°çš„è¿˜æ˜¯ç¼“æ…¢çš„RPCæ—¶ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚è¿™æ ·çš„æ··ä¹±ä¼šå¯¼è‡´ç³»ç»Ÿå˜å¹»è«æµ‹ï¼Œå¹¶ç»™è°ƒè¯•å¢åŠ äº†ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚æ»¥ç”¨RPCå¯èƒ½ä¼šå¯¼è‡´æ— æ³•ç»´æŠ¤çš„æ„å¤§åˆ©é¢æ¡å¼ä»£ç è€Œä¸æ˜¯ç®€åŒ–è½¯ä»¶ã€‚ ç‰¢è®°è¿™ä¸€ç‚¹ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹å»ºè®®ï¼š 1.ç¡®å®šé‚£ä¸ªå‡½æ•°è°ƒç”¨æ˜¯æœ¬åœ°çš„ï¼Œé‚£ä¸ªæ˜¯è¿œç¨‹çš„ 2.ä¸ºä½ çš„ç³»ç»Ÿç¼–å†™æ–‡æ¡£ã€‚æ˜ç¡®ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³» 3.å¤„ç†é”™è¯¯æƒ…å†µã€‚å½“RPCæœåŠ¡å™¨é•¿æ—¶é—´å…³é—­æ—¶ï¼Œå®¢æˆ·ç«¯åº”å¦‚ä½•å¤„ç† ","date":"2021-09-29","objectID":"/rabbitmq6/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"å›è°ƒé˜Ÿåˆ— é€šå¸¸ï¼Œé€šè¿‡RabbitMQè¿›è¡ŒRPCå¾ˆå®¹æ˜“ã€‚å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯å‘é€ç›¸åº”æ¶ˆæ¯ã€‚ä¸ºäº†æ¥å—å“åº”ï¼Œæˆ‘ä»¬éœ€è¦å‘é€å¸¦æœ‰\"å›è°ƒ\"é˜Ÿåˆ—åœ°å€çš„è¯·æ±‚ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é»˜è®¤é˜Ÿåˆ—ã€‚è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ï¼š q, err := ch.QueueDeclare( // ä¸æŒ‡å®šé˜Ÿåˆ—åï¼Œé»˜è®¤ä½¿ç”¨éšæœºç”Ÿæˆçš„é˜Ÿåˆ—å \"\", // durable false, // delete when unused false, // exclusive true, // noWait false, // arguments nil, ) err = ch.Publish( // exchange \"\", // routing key \"rpc_queue\", // mandatory false, // immediate false, amqp.Publishing{ ContentType: \"text/plain\", CorrelationId: corrId, // åœ¨è¿™é‡ŒæŒ‡å®šcallbacké˜Ÿåˆ—åï¼Œä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜Ÿåˆ—ç­‰å›å¤ ReplyTo: q.Name, Body: []byte(strconv.Itoa(n)), } ) æ¶ˆæ¯å±æ€§ AMQP 0-9-1åè®®é¢„å®šä¹‰äº†æ¶ˆæ¯é™„å¸¦çš„14ä¸ªå±æ€§é›†ã€‚é™¤ä»¥ä¸‹å±æ€§å¤–ï¼Œå¤§å¤šæ•°å±æ€§å¾ˆå°‘ç”¨ï¼š 1. persistent:å°†æ¶ˆæ¯æ ‡è®°ä¸ºæŒä¹…æ€§(å€¼ä¸ºtrue)æˆ–ç¬æ€(false)ã€‚ä½ å¯èƒ½è¿˜è®°å¾—ç¬¬äºŒä¸ªæ•™ç¨‹ä¸­çš„æ­¤å±æ€§ã€‚ 2. content_type:ç”¨äºæè¿°ç¼–ç çš„mimeç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºç»å¸¸ä½¿ç”¨çš„JSONç¼–ç ï¼Œå°†æ­¤å±æ€§è®¾ç½®ä¸ºapplication/jsonæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ 3. reply_to:å¸¸ç”¨äºå‘½åå›è°ƒé˜Ÿåˆ— 4. correlation_id:æœ‰åŠ©äºå°†RPCå“åº”ä¸è¯·æ±‚ç›¸å…³è” ","date":"2021-09-29","objectID":"/rabbitmq6/:2:0","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"å…³è”ID (Correlation Id) åœ¨ä¸Šé¢ä»‹ç»çš„æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å»ºè®®æ¯ä¸ªRPCè¯·æ±‚åˆ›å»ºä¸€ä¸ªå›è°ƒé˜Ÿåˆ—ã€‚è¿™æ˜¯ç›¸å½“ä½æ•ˆçš„ï¼Œä½†æ˜¯å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•â€“è®©æˆ‘ä»¬ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªå›è°ƒé˜Ÿåˆ—ã€‚ è¿™å°±å¼•å‘äº†ä¸€ä¸ªæ–°é—®é¢˜ï¼Œåœ¨è¯¥é˜Ÿåˆ—ä¸­æ”¶åˆ°å“åº”åï¼Œå°šä¸æ¸…æ¥šå±äºå“ªä¸ªè¯·æ±‚ã€‚è¿™ä¸ªæ—¶å€™å°±åº”è¯¥ä½¿ç”¨correlation_idè¿™ä¸ªå±æ€§äº†ã€‚é’ˆå¯¹æ¯ä¸ªè¯·æ±‚æˆ‘ä»¬å°†å…¶è®¾ç½®ä¸€ä¸ªå”¯ä¸€å€¼ã€‚éšåï¼Œå½“æˆ‘ä»¬åœ¨å›è°ƒé˜Ÿåˆ—ä¸­æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œæˆ‘ä»¬å°†æŸ¥çœ‹è¯¥å±æ€§ï¼Œå¹¶åŸºäºè¿™ä¸ªå±æ€§å°†å“åº”ä¸è¯·æ±‚è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœæˆ‘ä»¬çœ‹åˆ°æœªçŸ¥çš„correlation_idå€¼ï¼Œåˆ™å¯ä»¥æ”¾å¿ƒåœ°ä¸¢å¼ƒè¯¥æ¶ˆæ¯â€“å®ƒä¸å±äºæˆ‘ä»¬çš„è¯·æ±‚ã€‚ ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥å¿½ç•¥å›è°ƒé˜Ÿåˆ—ä¸­çš„æœªçŸ¥æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯æŠ¥é”™è€Œå¤±è´¥ï¼Ÿè¿™æ˜¯ç”±äºæœåŠ¡å™¨ç«¯å¯èƒ½å‡ºç°ç«äº‰çŠ¶å†µã€‚å°½ç®¡å¯èƒ½æ€§ä¸å¤§ï¼Œä½†RPCæœåŠ¡å™¨å¯èƒ½ä¼šåœ¨å‘æˆ‘ä»¬å‘é€ç­”æ¡ˆä¹‹åï¼Œåœ¨å‘é€è¯·æ±‚çš„ç¡®è®¤æ¶ˆæ¯ä¹‹å‰æ­»äº¡ã€‚å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œé‡æ–°å¯åŠ¨RPCæœåŠ¡å™¨å°†å†æ¬¡å¤„ç†è¯¥è¯·æ±‚ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å®¢æˆ·ç«¯ä¸Šæˆ‘ä»¬å¿…é¡»å¦¥å–„å¤„ç†é‡å¤çš„å“åº”ï¼Œå¹¶ä¸”ç†æƒ³æƒ…å†µä¸‹RPCåº”è¯¥æ˜¯å¹‚ç­‰çš„ã€‚ ","date":"2021-09-29","objectID":"/rabbitmq6/:3:0","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"æ€»ç»“ æˆ‘ä»¬çš„RPCå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š å®¢æˆ·ç«¯å¯åŠ¨æ—¶ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªåŒ¿åæ’ä»–å›è°ƒé˜Ÿåˆ— å¯¹äºRPCè¯·æ±‚ï¼Œå®¢æˆ·ç«¯å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šreply_to(è®¾ç½®ä¸ºå›è°ƒé˜Ÿåˆ—)å’Œcorrelation_id(è®¾ç½®ä¸ºæ¯ä¸ªè¯·æ±‚çš„å”¯ä¸€å€¼) è¯¥è¯·æ±‚è¢«å‘é€åˆ°rpc_queueé˜Ÿåˆ— RPCå·¥ä½œç¨‹åº(åˆåï¼šæœåŠ¡å™¨)æ­£åœ¨ç­‰å¾…è¯¥é˜Ÿåˆ—ä¸Šçš„è¯·æ±‚ã€‚å½“å‡ºç°è¯·æ±‚æ—¶ï¼Œå®ƒä¼šå®Œæˆè®¡ç®—å·¥ä½œå¹¶æŠŠç»“æœä½œä¸ºæ¶ˆæ¯ä½¿ç”¨replay_toå­—æ®µä¸­çš„é˜Ÿåˆ—å‘å›ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯ç­‰å¾…å›è°ƒé˜Ÿåˆ—ä¸Šçš„æ•°æ®ã€‚å‡ºç°æ¶ˆæ¯æ—¶ï¼Œå®ƒå°†æ£€æŸ¥correlation_idå±æ€§ã€‚å¦‚æœå®ƒä¸è¯·æ±‚ä¸­çš„å€¼åŒ¹é…ï¼Œåˆ™å°†å“åº”è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚ ","date":"2021-09-29","objectID":"/rabbitmq6/:4:0","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"å®Œæ•´ç¤ºä¾‹ æ–æ³¢é‚£å¥‘å‡½æ•°ï¼š func fib(n int) int { if n == 0 { return 0 } else if n == 1 { return 1 } else { return fib(n-1) + fib(n-2) } } å£°æ˜æˆ‘ä»¬çš„æ–æ³¢é‚£å¥‘å‡½æ•°ã€‚å®ƒä»…å‡è®¾æœ‰æ•ˆçš„æ­£æ•´æ•°è¾“å…¥ã€‚(ä¸è¦æŒ‡æœ›è¿™ç§æ–¹æ³•é€‚ç”¨äºå¤§é‡ç”¨æˆ·ï¼Œå®ƒå¯èƒ½æ˜¯æœ€æ…¢çš„é€’å½’å®ç°) æˆ‘ä»¬çš„RPCæœåŠ¡å™¨rpc_server.goçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š package main import ( \"log\" \"strconv\" \"github.com/streadway/amqp\" ) func failOnError(err error, msg string) { if err != nil { log.Fatalf(\"%s: %s\", msg, err) } } func fib(n int) int { if n == 0 { return 0 } else if n == 1 { return 1 } else { return fib(n-1) + fib(n-2) } } func main() { conn, err := amqp.Dial(\"amqp://guest:guest@localhost:5672/\") failOnError(err, \"Failed to connect to RabbitMQ\") defer conn.Close() ch, err := conn.Channel() failOnError(err, \"Failed to open a channel\") defer ch.Close() q, err := ch.QueueDeclare( // name \"rpc_queue\", // durable false, // delete when unused false, // exclusive false, // no-wait false, // arguments nil, ) failOnError(err, \"Failed to declare a queue\") q, err := ch.Qos( // prefetch count 1, // prefetch size 0, // global false, ) failOnError(err, \"Failed to set Qos\") msgs, err := ch.Consume( // queue q.Name, // consumer \"\", // auto-ack false, // exclusive false, // no-local false, // no-wait false, // args nil, ) failOnError(err, \"Failed to register a consumer\") forever := make(chan bool) go func() { for d := range msgs { n, err := strconv.Atoi(string(d.body)) failOnError(err, \"Failed to convert body to integer\") log.Printf(\" [.] fib(%d)\", n) response := fib(n) err = ch.Publish( \"\", d.ReplyTo, false, false, amqp.Publishing{ ContentType: \"text/plain\", CorrelationId: d.CorrelationId, Body: []byte(strconv.Itoa(response)), } ) failOnError(err, \"failed to publish a message\") d.Ask(false) } }() log.Printf(\" [*] Awaiting RPC requests\") \u003c-forever } æœåŠ¡å™¨ä»£ç éå¸¸ç®€å•ï¼š å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬é¦–å…ˆå»ºç«‹è¿æ¥ï¼Œé€šé“å¹¶å£°æ˜é˜Ÿåˆ— æˆ‘ä»¬å¯èƒ½è¦è¿è¡Œå¤šä¸ªæœåŠ¡å™¨è¿›ç¨‹ã€‚ä¸ºäº†å°†è´Ÿè½½å¹³å‡åˆ†é…ç»™å¤šä¸ªæœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é€šé“ä¸Šè®¾ç½®prefetshè®¾ç½® æˆ‘ä»¬ä½¿ç”¨Channel.Consumeè·å–å»é˜Ÿåˆ—ï¼Œæˆ‘ä»¬ä»é˜Ÿåˆ—ä¸­æ¥æ”¶æ¶ˆæ¯ã€‚ç„¶åæˆ‘ä»¬è¿›å…¥goroutineè¿›è¡Œå·¥ä½œï¼Œå¹¶å°†å“åº”å‘é€å›å»ã€‚ æˆ‘ä»¬çš„RPCå®¢æˆ·ç«¯rpc_clientçš„ä»£ç  package main import ( \"log\" \"math/rand\" \"os\" \"strconv\" \"strings\" \"time\" \"github.com/streadway/amqp\" ) func failOnError(err error, msg string) { if err != nil { log.Fatalf(\"%s: %s\", msg, err) } } func randomString(l int) string { bytes := make([]byte, l) for int i := 0; i \u003c l; i++ { bytes[i] := byte(randInt(65, 90)) } return string(bytes) } func randInt(min int, max int) int { return min + rand.Intn(max-min) } func fibonacciRPC(n int) (res int, err error) { conn, err := amqp.Dial(\"amqp://guest:guest@localhost:5672/\") failOnError(err, \"Failed to connect to RabbitMQ\") defer conn.Close() ch, err := conn.Channel() failOnError(err, \"Failed to open a channel\") defer ch.Close() q, err := ch.QueueDeclare( // name \"\", // durable false, // delete when unused false, // exclusive true, // noWait false, // arguments nil, ) failOnError(err, \"Failed to declare a queue\") msg, err := ch.Consume( // queue q.Name, // consumer \"\", // auto-ack true, // exclusive false, // no-local false, // no-wait false, // args nil, ) failOnError(err, \"Failed to register a consumer\") corrId := randomString(32) err = ch.Publish( \"\", \"rpc_queue\", false, false, amqp.Publishing{ ContentType: \"text/plain\", CorrelationId: corrId, ReplyTo: q.Name, Body: []byte(strconv.Itoa(n)), } ) failOnError(err, \"Failed to publish a message\") for d := range msgs { if corrId == d.CorrelationId { res, err := strconv.Atoi(string(d.Body)) failOnError(err, \"Failed to convert body to integer\") break } } return } func main() { rand.Seed(time.Now().UTC().UnixNano()) n := bodyFrom(os.Args) log.Printf(\" [X] Requesting fib (%d)\", n) res, err := fibonacciRPC(n) failOnError(err, \"Failed to handle RPC request\") log.Printf(\" [.] Got %d\", res) } func bodyFrom(args []string) int { var s string if (len(args) \u003c 2) || args[1] == \"\" { s = \"30\" } else { s = strings.Join(args[1:], \" \") } n, err := strconv.Atoi(s) failOnError(err, \"Failed to convert arg to integer\") return n } è¿™é‡Œä»‹ç»çš„è®¾è®¡ä¸æ˜¯RPCæœåŠ¡å”¯ä¸€å¯èƒ½çš„å®ç°ï¼Œä½†æ˜¯å®ƒå…·æœ‰ä¸€äº›é‡è¦çš„ç‰¹ç‚¹ï¼š å¦‚æœRPCæœåŠ¡å™¨å¤ªæ…¢ï¼Œåˆ™å¯ä»¥é€šè¿‡è¿è¡Œå¦ä¸€å°RPCæœåŠ¡å™¨æ¥è¿›è¡Œæ‰©å±•ã€‚å°è¯•åœ¨æ–°æ§åˆ¶å°ä¸­è¿è¡Œå¦ä¸€ä¸ªrpc_server.go åœ¨å®¢æˆ·ç«¯ï¼ŒRPCåªéœ€è¦å‘é€å’Œæ¥æ”¶ä¸€æ¡æ¶ˆæ¯ã€‚ç»“æœï¼ŒRPCå®¢æˆ·ç«¯åªéœ€è¦ä¸€ä¸ªç½‘ç»œå¾€è¿”å°±å¯ä»¥å¤„ç†å•ä¸ªRPCè¯·æ±‚ æˆ‘ä»¬çš„ä»£ç ä»ç„¶éå¸¸ç®€å•ï¼Œå¹¶ä¸”ä¸ä¼šå°è¯•è§£å†³æ›´å¤æ‚ï¼ˆä½†å¾ˆé‡è¦ï¼‰çš„é—®","date":"2021-09-29","objectID":"/rabbitmq6/:5:0","tags":["RabbitMQ"],"title":"RabbitMQ6","uri":"/rabbitmq6/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€5","date":"2021-09-25","objectID":"/rabbitmq5/","tags":["RabbitMQ"],"title":"RabbitMQ5","uri":"/rabbitmq5/"},{"categories":["å­¦ä¹ "],"content":"topicäº¤æ¢å™¨(ä¸»é¢˜äº¤æ¢å™¨) å‘é€åˆ°topicäº¤æ¢å™¨çš„æ¶ˆæ¯ä¸èƒ½å…·æœ‰éšæ„çš„routing_key â€“ å®ƒå¿…é¡»æ˜¯å•è¯åˆ—è¡¨ï¼Œä»¥ç‚¹åˆ†å‰²ã€‚è¿™äº›è¯å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œä½†é€šå¸¸å®ƒä»¬æŒ‡å®šä¸æ¶ˆæ¯ç›¸å…³çš„æŸäº›åŠŸèƒ½ã€‚ä¸€äº›æœ‰æ•ˆçš„routing_keyç¤ºä¾‹ï¼šâ€œstock.usd.nyseâ€, â€œnyse.vmwâ€, â€œquick.orange.rabbitâ€ã€‚ â€œrouting_key\"ä¸­å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªå•è¯ï¼Œæœ€å¤š255ä¸ªå­—èŠ‚ã€‚ ç»‘å®šé”®ä¹Ÿå¿…é¡»é‡‡ç”¨ç›¸åŒçš„å½¢å¼ã€‚topicäº¤æ¢å™¨èƒŒåçš„é€»è¾‘ç±»ä¼¼directäº¤æ¢å™¨â€“ç”¨ç‰¹å®šè·¯ç”±å™¨å‘é€æ¶ˆæ¯å°†ä¼ é€’åˆ°æ‰€æœ‰åŒ¹é…ç»‘å®šé”®ç»‘å®šçš„é˜Ÿåˆ—ã€‚ä½†æ˜¯ï¼Œç»‘å®šé”®æœ‰ä¸¤ä¸ªé‡è¦çš„ç‰¹æ®Šæƒ…å†µï¼š *å¯ä»¥ä»£æ›¿ä¸€ä¸ªå•è¯ #å¯ä»¥ä»£æ›¿é›¶ä¸ªæˆ–å¤šä¸ªå•è¯ é€šè¿‡ä¸‹é¢è¿™ä¸ªç¤ºä¾‹å¯ä»¥å¾ˆå®¹æ˜“çœ‹æ˜ç™½è¿™ä¸€ç‚¹ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†å‘é€ä¸€äº›éƒ½æ˜¯æè¿°åŠ¨ç‰©çš„ä¿¡æ¯ã€‚å°†ä½¿ç”¨åŒ…å«ä¸‰ä¸ªè¯(ä¸¤ä¸ªç‚¹)çš„è·¯ç”±å¯†é’¥å‘é€æ¶ˆæ¯ã€‚è·¯ç”±é”®ä¸­çš„ç¬¬ä¸€ä¸ªå•è¯å°†æè¿°é€Ÿåº¦ï¼Œç¬¬äºŒä¸ªæ˜¯é¢œè‰²ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ç§ç±» â€œ\u003cspeed\u003e.\u003ccolour\u003e.\u003cspecies\u003e\"ã€‚ æˆ‘ä»¬åˆ›å»ºä¸‰ä¸ªç»‘å®šå…³ç³»ï¼šQ1ä¸ç»‘å®šé”®*.orange.*ç»‘å®šï¼ŒQ2ä¸ç»‘å®šé”®*.*.rabbitå’Œlazy.#ç»‘å®šã€‚ è¿™äº›ç»‘å®šå¯ä»¥æ€»ç»“ä¸ºï¼š Q1å¯¹æ‰€æœ‰æ©™è‰²åŠ¨ç‰©éƒ½æ„Ÿå…´è¶£ Q2æƒ³æ¥æ”¶æœ‰å…³å…”å­(rabbit)çš„ä¸€åˆ‡æ¶ˆæ¯ï¼Œä»¥åŠæœ‰å…³æ‡’æƒ°(lazy)åŠ¨ç‰©çš„ä¸€åˆ‡æ¶ˆæ¯ã€‚ è·¯ç”±é”®è®¾ç½®ä¸ºquick.orange.rabbitçš„æ¶ˆæ¯å°†ä¼ é€’åˆ°ä¸¤ä¸ªé˜Ÿåˆ—ã€‚æ¶ˆæ¯lazy.orange.elephantä¹Ÿå°†å‘é€ç»™ä»–ä»¬ä¸¤ä¸ªã€‚å¦ä¸€æ–¹é¢ï¼Œquick.orange.foxå°†ä»…è¿›å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè€Œlazy.pink.rabbitä¸ä¸¤ä¸ªç»‘å®šåŒ¹é…ç»‘å®š(åŒ¹é…ç»‘å®šQ2çš„ä¸¤ä¸ªç»‘å®š)ï¼Œä¹Ÿåªä¼šä¼ é€’åˆ°ç¬¬äºŒä¸ªé˜Ÿåˆ—ä¸€æ¬¡ã€‚quick.brown.foxä¸ä»»ä½•ç»‘å®šéƒ½ä¸åŒ¹é…ï¼Œå› æ­¤å°†è¢«ä¸¢å¼ƒã€‚ å¦‚æœæˆ‘ä»¬æ‰“ç ´çº¦å®šå¹¶å‘é€ä¸€ä¸ªæˆ–å››ä¸ªå•è¯çš„æ¶ˆæ¯ï¼Œä¾‹å¦‚orangeæˆ–quick.orange.male.rabbitï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå¥½å§ï¼Œè¿™äº›æ¶ˆæ¯å°†ä¸åŒ¹é…ä»»ä½•ç»‘å®šï¼Œå¹¶ä¸”å°†ä¼šä¸¢å¤±ã€‚ å¦å¤–ï¼Œlazy.orange.male.rabbitå³ä½¿æœ‰å››ä¸ªå•è¯ï¼Œä¹Ÿå°†åŒ¹é…æœ€åä¸€ä¸ªç»‘å®šï¼Œå¹¶å°†å…¶ä¼ é€åˆ°ç¬¬äºŒä¸ªé˜Ÿåˆ—ã€‚ topicäº¤æ¢å™¨ topäº¤æ¢å™¨åŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥åƒå…¶ä»–äº¤æ¢å™¨ä¸€æ ·è¿è¡Œã€‚ å½“é˜Ÿåˆ—ç”¨#ç»‘å®šé”®ç»‘å®šæ—¶ï¼Œå®ƒå°†æ¥æ”¶æ‰€æœ‰æ¶ˆæ¯ï¼Œè€Œä¸è·¯ç”±é”®æ— å…³ï¼Œå°±åƒåœ¨fanoutäº¤æ¢å™¨ä¸­ä¸€æ ·ã€‚ å½“ç»‘å®šä¸­ä¸ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦*å’Œ#æ—¶ï¼Œtopicäº¤æ¢å™¨çš„è¡Œä¸ºå°±åƒdirectäº¤æ¢å™¨ä¸€æ ·ã€‚ ","date":"2021-09-25","objectID":"/rabbitmq5/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ5","uri":"/rabbitmq5/"},{"categories":["å­¦ä¹ "],"content":"å®Œæ•´ç¤ºä¾‹ æˆ‘ä»¬å°†åœ¨æ—¥å¿—è®°å½•ç³»ç»Ÿä¸­ä½¿ç”¨topicäº¤æ¢å™¨ã€‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªå¯è¡Œçš„å‡è®¾å¼€å§‹ï¼Œå³æ—¥å¿—çš„è·¯ç”±é”®å°†åŒ…å«ä¸¤ä¸ªè¯ï¼š\u003cfacility\u003e.\u003cserverity\u003e ","date":"2021-09-25","objectID":"/rabbitmq5/:2:0","tags":["RabbitMQ"],"title":"RabbitMQ5","uri":"/rabbitmq5/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€4","date":"2021-08-15","objectID":"/rabbitmq4/","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"è·¯ç”± åœ¨ä¸Šä¸€æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªç®€å•çš„æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚æˆ‘ä»¬èƒ½å¤Ÿå‘è®¸å¤šæ¥æ”¶è€…å¹¿æ’­æ—¥å¿—æ¶ˆæ¯ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å®ƒæ·»åŠ ä¸€ä¸ªç‰¹æ€§â€“æˆ‘ä»¬å°†ä½¿å®ƒèƒ½å¤Ÿåªè®¢é˜…æ¶ˆæ¯çš„ä¸€ä¸ªå­é›†ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†åªèƒ½å°†é”™è¯¯æ¶ˆæ¯å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶(ä»¥èŠ‚çœç£ç›˜ç©ºé—´)ï¼ŒåŒæ—¶ä»ç„¶èƒ½å¤Ÿåœ¨æ§åˆ¶å°ä¸Šæ‰“å°æ‰€æœ‰æ—¥å¿—æ¶ˆæ¯ã€‚ ","date":"2021-08-15","objectID":"/rabbitmq4/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"ç»‘å®š åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»åœ¨åˆ›å»ºç»‘å®šã€‚ä½ å¯èƒ½ä¼šæƒ³èµ·ä»¥ä¸‹ä»£ç ï¼š err = ch.QueueBind( // queue name q.Name, // routing key \"\", // exchange \"logs\", false, nil, ) ç»‘å®šæ˜¯äº¤æ¢å™¨å’Œé˜Ÿåˆ—ä¹‹é—´çš„å…³ç³»ã€‚è¿™å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼šé˜Ÿåˆ—å¯¹æ¥è‡ªæ­¤äº¤æ¢å™¨çš„æ¶ˆæ¯æ„Ÿå…´è¶£ã€‚ ç»‘å®šå¯ä»¥é‡‡ç”¨é¢å¤–çš„routing_keyå‚æ•°ã€‚ä¸ºäº†é¿å…ä¸Channel.Publishå‚æ•°æ··æ·†ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºbinding keyã€‚è¿™æ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨é”®åˆ›å»ºç»‘å®šçš„æ–¹æ³•ï¼š err = ch.QueueBind( // queue name q.Name, // routing key \"black\", // exchange \"logs\", false, nil, ) ç»‘å®šå¯†é’¥çš„å«ä¹‰å–å†³äºäº¤æ¢å™¨çš„ç±»å‹ã€‚æˆ‘ä»¬ä»¥å‰ä½¿ç”¨çš„fanoutäº¤æ¢å™¨åªæ˜¯å¿½ç•¥äº†è¿™ä¸ªå€¼ã€‚ ","date":"2021-08-15","objectID":"/rabbitmq4/:1:1","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"ç›´è¿äº¤æ¢å™¨ æˆ‘ä»¬ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­çš„æ—¥å¿—ç³»ç»Ÿå°†æ‰€æœ‰æ¶ˆæ¯å¹¿æ’­ç»™æ‰€æœ‰æ¶ˆè´¹è€…ã€‚æˆ‘ä»¬å¸Œæœ›æ‰©å±•è¿™ä¸€ç‚¹ï¼Œå…è®¸æ ¹æ®æ¶ˆæ¯çš„ä¸¥é‡æ€§è¿‡æ»¤æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å°†æ—¥å¿—æ¶ˆæ¯å†™å…¥ç£ç›˜çš„è„šæœ¬åªæ¥å—ä¸¥é‡é”™è¯¯ï¼Œè€Œä¸ä¼šåœ¨warningæˆ–infoæ—¥å¿—æ¶ˆæ¯ä¸Šæµªè´¹ç£ç›˜ç©ºé—´ã€‚ æˆ‘ä»¬æ˜¯æœ‰fanoutäº¤æ¢å™¨ï¼Œè¿™å¹¶æ²¡æœ‰ç»™æˆ‘ä»¬å¾ˆå¤§çš„çµæ´»æ€§â€“å®ƒåªèƒ½æ— è„‘å¹¿æ’­ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨directäº¤æ¢å™¨ã€‚directäº¤æ¢å™¨èƒŒåçš„è·¯ç”±ç®—æ³•å¾ˆç®€å•â€“æ¶ˆæ¯è¿›å…¥å…¶binding keyä¸æ¶ˆæ¯çš„routing keyå®Œå…¨åŒ¹é…çš„é˜Ÿåˆ—ã€‚ ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè¯·è€ƒè™‘ä¸€ä¸‹è®¾ç½®ï¼š åœ¨æ­¤è®¾ç½®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹è§ç»‘å®šäº†ä¸¤ä¸ªé˜Ÿåˆ—çš„directäº¤æ¢å™¨xã€‚ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ç»‘å®šé”®ä¸ºorangeï¼Œç¬¬äºŒä¸ªé˜Ÿåˆ—ç»‘å®šä¸ºä¸¤ä¸ªï¼Œä¸€ä¸ªç»‘å®šé”®ä¸ºblackï¼Œå¦ä¸€ä¸ªä¸ºgreenã€‚ åœ¨è¿™ç§è®¾ç½®ç”¨ï¼Œä½¿ç”¨orangeè·¯ç”±é”®å‘å¸ƒåˆ°äº¤æ¢å™¨çš„æ¶ˆæ¯å°†è¢«è·¯ç”±åˆ°é˜Ÿåˆ—Q1ã€‚è·¯ç”±é”®ä¸ºblackæˆ–greençš„æ¶ˆæ¯å°†è½¬åˆ°Q2ã€‚æ‰€æœ‰å…¶ä»–æ¶ˆæ¯å°†è¢«ä¸¢å¼ƒã€‚ ","date":"2021-08-15","objectID":"/rabbitmq4/:1:2","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"å¤šé‡ç»‘å®š ç”¨ç›¸åŒçš„ç»‘å®šé”®ç»‘å®šå¤šä¸ªé˜Ÿåˆ—æ˜¯å®Œå…¨åˆæ³•çš„ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»‘å®šé”®blackåœ¨xå’ŒQ1ä¹‹é—´æ·»åŠ ç»‘å®šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œdirectäº¤æ¢å™¨å°†ç±»ä¼¼fanoutï¼Œå¹¶å°†æ¶ˆæ¯å¹¿æ’­åˆ°æ‰€æœ‰åŒ¹é…çš„é˜Ÿåˆ—ã€‚å¸¦æœ‰blackè·¯ç”±é”®çš„æ¶ˆæ¯åŒæ—¶ä¼ é€’ç»™Q1å’ŒQ2ï¼Œ ","date":"2021-08-15","objectID":"/rabbitmq4/:1:3","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"å‘é€æ—¥å¿— æˆ‘ä»¬å°†æ—¥å¿—ç³»ç»Ÿä¸­ä½¿ç”¨è¿™ä¸ªæ¨¡å‹ã€‚æˆ‘ä»¬å°†å‘é€æ¶ˆæ¯åˆ°directäº¤æ¢å™¨ï¼Œè€Œä¸æ˜¯fanoutã€‚æˆ‘ä»¬å°†æä¾›ä¸¥é‡æ€§ï¼ˆé€šå¸¸æˆ‘ä»¬å°†æ—¥å¿—çº§åˆ«åˆ’åˆ†ä¸ºæ—¥å¿—ä¿¡æ¯çš„ä¸¥é‡æ€§ï¼‰ä½œä¸ºè·¯ç”±é”®ã€‚è¿™æ ·ï¼Œæ¥æ”¶è„šæœ¬å°†èƒ½å¤Ÿé€‰æ‹©å…¶æƒ³æ¥æ”¶çš„æ—¥å¿—çº§åˆ«ã€‚è®©æˆ‘ä»¬é¦–å…ˆå…³æ³¨å‘é€æ—¥å¿—ã€‚ å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåˆ›å»ºä¸€ä¸ªäº¤æ¢å™¨ err = ch.ExchangeDeclare*=( // name \"logs_direct\", // type \"direct\", // durable true, // auto_deleted false, // internal false, // no_wait false, // arguments nil, ) æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å‘é€ä¸€æ¡æ¶ˆæ¯ err = ch.ExchangeDeclare*=( // name \"logs_direct\", // type \"direct\", // durable true, // auto_deleted false, // internal false, // no_wait false, // arguments nil, ) failOnError(err, \"Failed to declare an exchange\") body := bodyFrom(os.Args) err = ch.Publish( \"logs_direct\", severityFrom(os.Args), false, false, amqp.Publish{ ContentType: \"text/plain\", Body: []byte(body) } ) ä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œæˆ‘ä»¬å‡è®¾â€œä¸¥é‡æ€§â€å¯ä»¥æ˜¯\"info\", â€œwarningâ€, â€œerror\"ä¹‹ä¸€ã€‚ ","date":"2021-08-15","objectID":"/rabbitmq4/:1:4","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"è®¢é˜… æ¥æ”¶æ¶ˆæ¯çš„å·¥ä½œæ–¹å¼ä¸ä¸Šä¸€æ•™ç¨‹ä¸€æ ·ï¼Œä½†æœ‰ä¸€ä¸ªä¾‹å¤–â€“æˆ‘ä»¬å°†ä¸ºæ„Ÿå…´è¶£çš„æ¯ç§ä¸¥é‡æ€§ï¼ˆæ—¥å¿—çº§åˆ«ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„ç»‘å®šã€‚ q, err := ch.QueueDeclare( // name \"\", // durable false, // delect when unused false, // exclusive true, // no_wait false, // arguments nil, ) failOnError(err, \"Failed to declare a queue\") if len(os.Args) \u003c 2 { log.Printf(\"Usage: %s [info] [warning] [error]\", os.Args[0]) os.Exit(0) } // å»ºç«‹å¤šä¸ªç»‘å®šå…³ç³» for _, s := range os.Args[1:] { log.Printf(\"Binding queue %s to exchange %s with routing key %s\", q.Name, \"log_direct\", s) err = ch.QueueBind( // queue name q.Name, // routing key s, // exchange \"logs_direct\", false, nil, ) failOnError(err, \"Failed to bind a queue\") } ","date":"2021-08-15","objectID":"/rabbitmq4/:1:5","tags":["RabbitMQ"],"title":"RabbitMQ4","uri":"/rabbitmq4/"},{"categories":["å­¦ä¹ "],"content":"Go Study 18-validatoråº“å‚æ•°æ ¡éªŒè‹¥å¹²å®ç”¨æŠ€å·§","date":"2021-07-25","objectID":"/go-study18/","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"åœ¨webå¼€å‘ä¸­ä¸€ä¸ªä¸å¯é¿å…çš„ç¯èŠ‚å°±æ˜¯å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œé€šå¸¸æˆ‘ä»¬å¯¹åœ¨ä»£ç ä¸­å®šä¹‰å’Œè¯·æ±‚å‚æ•°ç›¸å¯¹åº”çš„æ¨¡å‹(ç»“æ„ä½“)ï¼Œå€ŸåŠ©æ¨¡å‹ç»‘å®šå¿«æ·åœ°è§£æè¯·æ±‚ä¸­çš„å‚æ•°ï¼Œä¾‹å¦‚ginæ¡†æ¶ä¸­çš„Bindå’ŒShouldBindç³»åˆ—çš„æ–¹æ³•ã€‚æœ¬æ–‡å°±ä»¥ginæ¡†æ¶çš„è¯·æ±‚å‚æ•°æ ¡éªŒä¸ºä¾‹ï¼Œä»‹ç»ä¸€äº›validatoråº“çš„å®ç”¨æŠ€å·§ã€‚ ginæ¡†æ¶ä½¿ç”¨çš„æ˜¯github.com/go-playground/validatorè¿›è¡Œå‚æ•°æ ¡éªŒï¼Œç›®å‰å·²ç»æ”¯æŒgithub.com/go-playground/validator/v10äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®šä¹‰ç»“æ„ä½“æ—¶ä½¿ç”¨binding tagæ ‡è¯†ç›¸å…³æ ¡éªŒè§„åˆ™ã€‚ ","date":"2021-07-25","objectID":"/go-study18/:0:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬ç¤ºä¾‹ é¦–å…ˆæ¥çœ‹ginæ¡†æ¶å†…ç½®ä½¿ç”¨validatoråšå‚æ•°æ ¡éªŒçš„åŸºæœ¬ç¤ºä¾‹ã€‚ package main import ( \"net/http\" \"github.com/gin-gonic/gin\" ) type SignUpParam struct { Age uint8 `json:\"age\" binding:\"gte=1, lte=130\"` Name string `json:\"name\" binding:\"required\"` Email string `json:\"email\" binding:\"required, email\"` Password string `json:\"password\" binding:\"required\"` RePassword string `josn:\"re_password\" binding:\"required, eqfield=Password\"` } func main() { r := gin.Default() r.POST(\"/signup\", func(c *gin.Context) { var u SignUpParam if err := c.ShouldBind(\u0026u), err != nil { c.JSON(http/StatusOK, gin.H{ \"msg\": err.Error(), }) return } // ä¿å­˜å…¥åº“ç­‰ä¸šåŠ¡é€»è¾‘ä»£ç ... c.JSON(http.StatusOK, \"success\") }) _ := r.Run(\":8999\") } æˆ‘ä»¬ä½¿ç”¨curlå‘é€ä¸€ä¸ªPOSTè¯·æ±‚æµ‹è¯•ä¸‹ curl -H \"Content-type: application/json\" -X POST -d '{\"name\": \"q1mi\", \"age\": 18, \"email\": \"123.com\"}' http://127.0.0.1:8999/signup è¾“å‡ºç»“æœ {\"msg\":\"Key: 'SignUpParam.Email' Error:Field validation for 'Email' failed on the 'email' tag\\nKey: 'SignUpParam.Password' Error:Field validation for 'Password' failed on the 'required' tag\\nKey: 'SignUpParam.RePassword' Error:Field validation for 'RePassword' failed on the 'required' tag\"} ä»æœ€ç»ˆçš„è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°validatorçš„æ£€éªŒç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯é”™è¯¯æç¤ºçš„å­—æ®µä¸æ˜¯ç‰¹åˆ«å‹å¥½ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†å®ƒç¿»è¯‘æˆä¸­æ–‡ ","date":"2021-07-25","objectID":"/go-study18/:1:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"ç¿»è¯‘æ ¡éªŒé”™è¯¯æç¤ºä¿¡æ¯ validatoråº“æœ¬èº«æ˜¯æ”¯æŒå›½é™…åŒ–çš„ï¼Œå€ŸåŠ©ç›¸åº”çš„è¯­è¨€åŒ…å¯ä»¥å®ç°æ ¡éªŒé”™è¯¯æç¤ºä¿¡æ¯çš„è‡ªåŠ¨ç¿»è¯‘ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°†é”™è¯¯æç¤ºä¿¡æ¯ç¿»è¯‘æˆä¸­æ–‡ï¼Œç¿»è¯‘æˆå…¶ä»–è¯­è¨€çš„æ–¹æ³•ç±»ä¼¼ã€‚ package main import ( \"fmt\" \"net/http\" \"github.com/gin-gonic/gin\" \"github.com/gin-gonic/gin/binding\" \"github.com/go-playground/locales/en\" \"github.com/go-playground/locales/zh\" ut \"github.com/go-playground/universal-translator\" \"github.com/go-playground/validator/v10\" enTranslations \"github.com/go-playground/validator/v10/translations/en\" zhTranslations \"github.com/go-playground/validator/v10/translations/zh\" ) // å®šä¹‰ä¸€ä¸ªå…¨å±€ç¿»è¯‘å™¨T var trans ut.Translator // InitTrans åˆå§‹åŒ–ç¿»è¯‘å™¨ func InitTrans(locale string) (err error) { if v, ok := binding.Validator.Engine().(*validator.Validate); ok { // ä¸­æ–‡ç¿»è¯‘å™¨ zhT := zh.New() // è‹±æ–‡ç¿»è¯‘å™¨ enT := en.New() // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤‡ç”¨(fallback)çš„è¯­è¨€ç¯å¢ƒ // åé¢çš„å‚æ•°æ˜¯åº”è¯¥æ”¯æŒçš„è¯­è¨€ç¯å¢ƒ(æ”¯æŒå¤šä¸ª) // uni := ut.New(zhT, zhT)ä¹Ÿæ˜¯å¯ä»¥çš„ uni := ut.New(enT, zhT, enT) // localeé€šå¸¸å–å†³äºhttpè¯·æ±‚å¤´çš„'Accept-Language' var ok bool // ä¹Ÿå¯ä»¥ä½¿ç”¨uni.FindTranslator(...)ä¼ å…¥å¤šä¸ªlocaleè¿›è¡ŒæŸ¥æ‰¾ trans, ok = uni.GetTranslator(locale) if !ok { return fmt.Errorf(\"uni.GetTranslator(%s) failed\", locale) } // æ³¨å†Œç¿»è¯‘å™¨ switch locale { case \"en\": err = enTranslations.RegisterDefaultTranslations(v, trans) case \"zh\": err = zhTranslations.RegisterDefaultTranslations(v, trans) default: err = enTranslations.RegisterDefaultTranslations(v, trans) } return } return } type SignUpParam struct { Age uint8 `json:\"age\" binding:\"gte=1,lte=130\"` Name string `json:\"name\" binding:\"required\"` Email string `json:\"email\" binding:\"required,email\"` Password string `json:\"password\" binding:\"required\"` RePassword string `json:\"re_password\" binding:\"required,eqfield=Password\"` } func main() { if err := InitTrans(\"zh\"); err != nil { fmt.Printf(\"init trans failed, err:%v\\n\", err) return } r := gin.Default() r.POST(\"/signup\", func(c *gin.Context) { var u SignUpParam if err := c.ShouldBind(\u0026u); err != nil { // è·å–validator.ValidationErrorsç±»å‹çš„errors errs, ok := err.(validator.ValidationErrors) if !ok { // évalidator.ValidationErrorsç±»å‹é”™è¯¯ç›´æ¥è¿”å› c.JSON(http.StatusOK, gin.H{ \"msg\": err.Error(), }) return } // validator.ValidationErrorsç±»å‹é”™è¯¯åˆ™è¿›è¡Œç¿»è¯‘ c.JSON(http.Status, gin.H{ \"msg\": errs.Translate(trans), }) return } // ä¿å­˜å…¥åº“ç­‰å…·ä½“ä¸šåŠ¡é€»è¾‘ä»£ç ... c.JSON(http.StatusOK, \"success\") }) _ = r.Run(\":8999\") } æˆ‘ä»¬ä½¿ç”¨curlå‘é€ä¸€ä¸ªPOSTè¯·æ±‚æµ‹è¯•ä¸‹ï¼š curl -H \"Content-type: application/json\" -X POST -d '{\"name\":\"q1mi\", \"age\":18, \"email\":\"123.com\"}' http://127.0.0.1:8999/signup è¾“å‡ºç»“æœï¼š {\"msg\": \"Key: 'SignUpParam.Email' Error:Field validation for 'Email' failed on the 'email' tag\\nKey: 'SignUpParam.Password' Error:Field validation for 'Password' failed on the 'required' tag\\nKey: 'SignUpParam.RePassword' Error:Field validation for 'RePassword' failed on the 'required' tag\"} ä»æœ€ç»ˆçš„è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°validatorçš„æ£€éªŒç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯é”™è¯¯æç¤ºçš„å­—æ®µä¸æ˜¯å¾ˆå‹å¥½ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†å®ƒç¿»è¯‘æˆä¸­æ–‡ ","date":"2021-07-25","objectID":"/go-study18/:2:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"ç¿»è¯‘æ ¡éªŒé”™è¯¯æç¤ºä¿¡æ¯ validatoråº“æœ¬èº«æ˜¯æ”¯æŒå›½é™…åŒ–çš„ï¼Œå€ŸåŠ©ç›¸åº”çš„è¯­è¨€åŒ…å¯ä»¥å®ç°æ ¡éªŒé”™è¯¯æç¤ºä¿¡æ¯çš„è‡ªåŠ¨ç¿»è¯‘ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°†é”™è¯¯æç¤ºä¿¡æ¯ç¿»è¯‘æˆä¸­æ–‡ï¼Œç¿»è¯‘æˆå…¶ä»–è¯­è¨€çš„æ–¹æ³•ç±»ä¼¼ package main import ( \"fmt\" \"net/http\" \"github.com/gin-gonic/gin\" \"github.com/gin-gonic/gin/binding\" \"github.com/go-playground/locales/en\" \"github.com/go-playground/locales/zh\" ut \"github.com/go-playground/universal-translator\" \"github.com/go-playground/validator/v10\" enTranslations \"github.com/go-playground/validator/v10/translations/en\" zhTranslations \"github.com/go-playground/validator/v10/translations/zh\" ) // å®šä¹‰ä¸€ä¸ªå…¨å±€ç¿»è¯‘å™¨T var trans ut.Translator // åˆå§‹åŒ–ç¿»è¯‘å™¨ func InitTrans(locale string) (err error) { // ä¿®æ”¹ginæ¡†æ¶ä¸­çš„Validatorå¼•æ“å±æ€§ï¼Œå®ç°è‡ªå®šåˆ¶ if v, ok := binding.Validator.Engine().(*validator.Validate); ok { zhT := zh.New() // ä¸­æ–‡ç¿»è¯‘å™¨ enT := en.New() // è‹±æ–‡ç¿»è¯‘å™¨ // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤‡ç”¨ï¼ˆfallbackï¼‰çš„è¯­è¨€ç¯å¢ƒ // åé¢çš„å‚æ•°æ˜¯åº”è¯¥æ”¯æŒçš„è¯­è¨€ç¯å¢ƒï¼ˆæ”¯æŒå¤šä¸ªï¼‰ // uni := ut.New(zhT, zhT) ä¹Ÿæ˜¯å¯ä»¥çš„ uni := ut.New(enT, zhT, enT) // locale é€šå¸¸å–å†³äº http è¯·æ±‚å¤´çš„ 'Accept-Language' var ok bool // ä¹Ÿå¯ä»¥ä½¿ç”¨ uni.FindTranslator(...) ä¼ å…¥å¤šä¸ªlocaleè¿›è¡ŒæŸ¥æ‰¾ trans, ok = uni.GetTranslator(locale) if !ok { return fmt.Errorf(\"uni.GetTranslator(%s) failed\", locale) } // æ³¨å†Œç¿»è¯‘å™¨ switch locale { case \"en\": err = enTranslations.RegisterDefaultTranslations(v, trans) case \"zh\": err = zhTranslations.RegisterDefaultTranslations(v, trans) default: err = enTranslations.RegisterDefaultTranslations(v, trans) } return } return } type SignUpParam struct { Age uint8 `json:\"age\" binding:\"gte=1,lte=130\"` Name string `json:\"name\" binding:\"required\"` Email string `json:\"email\" binding:\"required,email\"` Password string `json:\"password\" binding:\"required\"` RePassword string `json:\"re_password\" binding:\"required,eqfield=Password\"` } func main() { if err := InitTrans(\"zh\"); err != nil { fmt.Printf(\"init trans failed, err:%v\\n\", err) return } r := gin.Default() r.POST(\"/signup\", func(c *gin.Context) { var u SignUpParam if err := c.ShouldBind(\u0026u); err != nil { // è·å–validator.ValidationErrorsç±»å‹çš„errors errs, ok := err.(validator.ValidationErrors) if !ok { // évalidator.ValidationErrorsç±»å‹é”™è¯¯ç›´æ¥è¿”å› c.JSON(http.StatusOK, gin.H{ \"msg\": err.Error(), }) return } // validator.ValidationErrorsç±»å‹é”™è¯¯åˆ™è¿›è¡Œç¿»è¯‘ c.JSON(http.StatusOK, gin.H{ \"msg\":errs.Translate(trans), }) return } // ä¿å­˜å…¥åº“ç­‰å…·ä½“ä¸šåŠ¡é€»è¾‘ä»£ç ... c.JSON(http.StatusOK, \"success\") }) _ = r.Run(\":8999\") } åŒæ ·çš„è¯·æ±‚å†æ¥ä¸€æ¬¡ curl -H \"Content-type: application/json\" -X POST -d '{\"name\":\"q1mi\",\"age\":18,\"email\":\"123.com\"}' http://127.0.0.1:8999/signup è¿™æ¬¡çš„è¾“å‡ºç»“æœå¦‚ä¸‹ {\"msg\":{\"SignUpParam.Email\":\"Emailå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ç®±\",\"SignUpParam.Password\":\"Passwordä¸ºå¿…å¡«å­—æ®µ\",\"SignUpParam.RePassword\":\"RePasswordä¸ºå¿…å¡«å­—æ®µ\"}} ","date":"2021-07-25","objectID":"/go-study18/:3:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"è‡ªå®šä¹‰é”™è¯¯æç¤ºä¿¡æ¯çš„å­—æ®µå ä¸Šé¢çš„é”™è¯¯æç¤ºçœ‹èµ·æ¥å¯ä»¥äº†ï¼Œä½†æ˜¯è¿˜æ˜¯å·®ç‚¹æ„æ€ï¼Œé¦–å…ˆæ˜¯é”™è¯¯æç¤ºä¸­çš„å­—æ®µå¹¶ä¸æ˜¯è¯·æ±‚ä¸­ä½¿ç”¨çš„å­—æ®µï¼Œä¾‹å¦‚ï¼šRePasswordä½¿æˆ‘ä»¬åç«¯å®šä¹‰çš„ç»“æ„ä½“ä¸­çš„å­—æ®µåï¼Œè€Œè¯·æ±‚ä¸­ä½¿ç”¨çš„æ˜¯re_passwordå­—æ®µã€‚å¦‚ä½•ä½¿é”™è¯¯æç¤ºä¸­çš„å­—æ®µä½¿ç”¨è‡ªå®šä¹‰çš„åç§°ï¼Œä¾‹å¦‚json tagæŒ‡å®šçš„å€¼ï¼Ÿ åªéœ€è¦åœ¨åˆå§‹åŒ–ç¿»è¯‘å™¨çš„æ—¶å€™åƒä¸‹é¢ä¸€æ ·æ·»åŠ ä¸€ä¸ªè·å–json tagçš„è‡ªå®šä¹‰æ–¹æ³•å³å¯ã€‚ // InitTrans åˆå§‹åŒ–ç¿»è¯‘å™¨ func InitTrans(locale string) (err error) { // ä¿®æ”¹ginæ¡†æ¶ä¸­çš„Validatorå¼•æ“å±æ€§ï¼Œå®ç°è‡ªå®šåˆ¶ if v, ok := binding.Validator.Engine().(*validator.Validate); ok { // æ³¨å†Œä¸€ä¸ªè·å–json tagçš„è‡ªå®šä¹‰æ–¹æ³• v.RegisterTagNameFunc(func(fld reflect.StructField) string { name := strings.SplitN(fld.Tag.Get(\"json\"), \",\", 2)[0] if name == \"-\" { return \"\" } return name }) zhT := zh.New() // ä¸­æ–‡ç¿»è¯‘å™¨ enT := en.New() // è‹±æ–‡ç¿»è¯‘å™¨ // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤‡ç”¨ï¼ˆfallbackï¼‰çš„è¯­è¨€ç¯å¢ƒ // åé¢çš„å‚æ•°æ˜¯åº”è¯¥æ”¯æŒçš„è¯­è¨€ç¯å¢ƒï¼ˆæ”¯æŒå¤šä¸ªï¼‰ // uni := ut.New(zhT, zhT) ä¹Ÿæ˜¯å¯ä»¥çš„ uni := ut.New(enT, zhT, enT) // ... liwenzhou.com ... } å†å°è¯•å‘è¯·æ±‚ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœï¼š {\"msg\":{\"SignUpParam.email\":\"emailå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ç®±\",\"SignUpParam.password\":\"passwordä¸ºå¿…å¡«å­—æ®µ\",\"SignUpParam.re_password\":\"re_passwordä¸ºå¿…å¡«å­—æ®µ\"}} å¯ä»¥çœ‹åˆ°ç°åœ¨é”™è¯¯æç¤ºä¿¡æ¯ä¸­ä½¿ç”¨çš„å°±æ˜¯æˆ‘ä»¬ç»“æ„ä½“ä¸­json tagè®¾ç½®çš„åç§°äº† ä½†æ˜¯è¿˜æ˜¯æœ‰ç‚¹ç‘•ç–µï¼Œé‚£å°±æ˜¯æœ€ç»ˆçš„é”™è¯¯æç¤ºä¿¡æ¯ä¸­å¿ƒè¿˜æ˜¯æœ‰æˆ‘ä»¬åç«¯å®šä¹‰çš„ç»“æ„ä½“åç§°â€“SignUpParamï¼Œè¿™ä¸ªåç§°å…¶å®æ˜¯ä¸éœ€è¦éšé”™è¯¯æç¤ºè¿”å›ç»™å‰ç«¯çš„ï¼Œå‰ç«¯å¹¶ä¸éœ€è¦è¿™ä¸ªå€¼ã€‚æˆ‘ä»¬éœ€è¦æƒ³åŠæ³•æŠŠå®ƒå»æ‰ã€‚ è¿™é‡Œå‚è€ƒhttps://github.com/go-playground/validator/issues/633#issuecomment-654382345æä¾›çš„æ–¹æ³•ï¼Œå®šä¹‰ä¸€ä¸ªå»æ‰ç»“æ„ä½“åç§°å‰ç¼€çš„è‡ªå®šä¹‰æ–¹æ³•ï¼š func removeTopStruct(fields map[string]string) map[string]string { res := map[string]string{} for field, err := range fields { res[field[strings.Index(field, \".\")+1:]] = err } return res } æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ä¸Šè¿°å‡½æ•°å°†ç¿»è¯‘åçš„errorsåšä¸€ä¸‹å¤„ç†å³å¯ï¼š if err := c.ShouldBind(\u0026u); err != nil { // è·å–validator.ValidationErrorsç±»å‹çš„errors errs, ok := err.(validator.ValidationErrors) if !ok { // évalidator.ValidationErrorsç±»å‹é”™è¯¯ç›´æ¥è¿”å› c.JSON(http.StatusOK, gin.H{ \"msg\": err.Error(), }) return } // validator.ValidationErrorsç±»å‹é”™è¯¯åˆ™è¿›è¡Œç¿»è¯‘ // å¹¶ä½¿ç”¨removeTopStructå‡½æ•°å»é™¤å­—æ®µåä¸­çš„ç»“æ„ä½“åç§°æ ‡è¯† c.JSON(http.StatusOK, gin.H{ \"msg\": removeTopStruct(errs.Translate(trans)), }) return } çœ‹ä¸€ä¸‹æœ€ç»ˆçš„æ•ˆæœ {\"msg\":{\"email\":\"emailå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ç®±\",\"password\":\"passwordä¸ºå¿…å¡«å­—æ®µ\",\"re_password\":\"re_passwordä¸ºå¿…å¡«å­—æ®µ\"}} è¿™ä¸€æ¬¡çœ‹èµ·æ¥å°±æ¯”è¾ƒç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„æ ‡å‡†äº†ã€‚ ","date":"2021-07-25","objectID":"/go-study18/:4:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"è‡ªå®šä¹‰ç»“æ„ä½“æ ¡éªŒæ–¹æ³• ä¸Šé¢çš„æ ¡éªŒè¿˜æ˜¯æœ‰ç‚¹å°é—®é¢˜ï¼Œå°±æ˜¯å½“æ¶‰åŠåˆ°ä¸€äº›å¤æ‚çš„æ ¡éªŒè§„åˆ™ï¼Œæ¯”å¦‚re_passwordå­—æ®µéœ€è¦ä¸passwordå­—æ®µçš„å€¼ç›¸ç­‰è¿™æ ·çš„æ ¡éªŒè§„åˆ™ï¼Œæˆ‘ä»¬çš„è‡ªå®šä¹‰é”™è¯¯æç¤ºå­—æ®µåç§°æ–¹æ³•å°±ä¸èƒ½å¾ˆå¥½è§£å†³é”™è¯¯æç¤ºä¿¡æ¯ä¸­çš„å…¶ä»–å­—æ®µåç§°äº†ã€‚ curl -H \"Content-type: application/json\" -X POST -d '{\"name\":\"q1mi\",\"age\":18,\"email\":\"123.com\",\"password\":\"123\",\"re_password\":\"321\"}' http://127.0.0.1:8999/signup æœ€åè¾“å‡ºçš„é”™è¯¯æç¤ºä¿¡æ¯å¦‚ä¸‹ {\"msg\":{\"email\":\"emailå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ç®±\",\"re_password\":\"re_passwordå¿…é¡»ç­‰äºPassword\"}} å¯ä»¥çœ‹åˆ°re_passwordå­—æ®µçš„æç¤ºä¿¡æ¯ä¸­è¿˜æ˜¯å‡ºç°äº†Passwordè¿™ä¸ªç»“æ„ä½“å­—æ®µåç§°ã€‚è¿™æœ‰ç‚¹å°å°çš„é—æ†¾ï¼Œæ¯•ç«Ÿè‡ªå®šä¹‰å­—æ®µåç§°çš„æ–¹æ³•ä¸èƒ½å½±å“è¢«å½“æˆparamä¼ å…¥çš„å€¼ã€‚ æ­¤æ—¶å¦‚æœæƒ³è¦è¿½æ±‚æ›´å¥½çš„æç¤ºæ•ˆæœï¼Œå°†ä¸Šé¢çš„Passwordå­—æ®µä¹Ÿæ”¹ä¸ºå’Œjson tagä¸€è‡´çš„åç§°ï¼Œå°±éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰ç»“æ„ä½“æ ¡éªŒçš„æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸ºSignUpParamè‡ªå®šä¹‰ä¸€ä¸ªæ ¡éªŒæ–¹æ³•å¦‚ä¸‹ï¼š // SignUpParamStructLevelValidation è‡ªå®šä¹‰SignUpParamç»“æ„ä½“æ ¡éªŒå‡½æ•° func SignUpParamStructLevelValidation(sl validator.StructLevel) { su := sl.Current().Interface().(SignUpParam) if su.Password != su.RePassword { // è¾“å‡ºé”™è¯¯æç¤ºä¿¡æ¯ï¼Œæœ€åä¸€ä¸ªå‚æ•°å°±æ˜¯ä¼ é€’çš„param sl.ReportError(su.RePassword, \"re_password\", \"RePassword\", \"eqfield\", \"password\") } } ç„¶ååœ¨åˆå§‹åŒ–æ ¡éªŒå™¨çš„å‡½æ•°ä¸­æ³¨å†Œè¯¥è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•å³å¯ï¼š func InitTrans(locale string) (err error) { // ä¿®æ”¹ginæ¡†æ¶ä¸­çš„Validatorå¼•æ“å±æ€§ï¼Œå®ç°è‡ªå®šåˆ¶ if v, ok := binding.Validator.Engine().(*validator.Validate); ok { // ... liwenzhou.com ... // ä¸ºSignUpParamæ³¨å†Œè‡ªå®šä¹‰æ ¡éªŒæ–¹æ³• v.RegisterStructValidation(SignUpParamStructLevelValidation, SignUpParam{}) zhT := zh.New() // ä¸­æ–‡ç¿»è¯‘å™¨ enT := en.New() // è‹±æ–‡ç¿»è¯‘å™¨ // ... liwenzhou.com ... } æœ€ç»ˆå†è¯·æ±‚ä¸€æ¬¡ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœï¼š {\"msg\":{\"email\":\"emailå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ç®±\",\"re_password\":\"re_passwordå¿…é¡»ç­‰äºpassword\"}} è¿™ä¸€æ¬¡re_passwordå­—æ®µçš„é”™è¯¯æç¤ºä¿¡æ¯å°±ç¬¦åˆæˆ‘ä»¬é¢„æœŸäº†ã€‚ ","date":"2021-07-25","objectID":"/go-study18/:5:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"è‡ªå®šä¹‰å­—æ®µæ ¡éªŒæ–¹æ³• é™¤äº†ä¸Šé¢ä»‹ç»åˆ°çš„è‡ªå®šä¹‰ç»“æ„ä½“æ ¡éªŒæ–¹æ³•ï¼Œvalidatorè¿˜æ”¯æŒä¸ºæŸä¸ªå­—æ®µè‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•ï¼Œå¹¶ä½¿ç”¨RegisterValidation()æ³¨å†Œåˆ°æ ¡éªŒå™¨å®ä¾‹ä¸­ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¸ºSignUpParamæ·»åŠ ä¸€ä¸ªéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•checkDateåšå‚æ•°æ ¡éªŒçš„å­—æ®µDateã€‚ type SignUpParam struct { Age uint8 `json:\"age\" binding:\"gte=1,lte=130\"` Name string `json:\"name\" binding:\"required\"` Email string `json:\"email\" binding:\"required,email\"` Password string `json:\"password\" binding:\"required\"` RePassword string `json:\"re_password\" binding:\"required,eqfield=Password\"` // éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•checkDateåšå‚æ•°æ ¡éªŒçš„å­—æ®µDate Date string `json:\"date\" binding:\"required,datetime=2006-01-02,checkDate\"` } å…¶ä¸­datetime=2006-01-02æ˜¯å†…ç½®çš„ç”¨äºæ ¡éªŒæ—¥æœŸç±»å‚æ•°æ˜¯å¦æ»¡è¶³æŒ‡å®šæ ¼å¼è¦æ±‚çš„tagã€‚ å¦‚æœä¼ å…¥çš„dateå‚æ•°ä¸æ»¡è¶³2006-01-02è¿™ç§æ ¼å¼å°±ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š {\"msg\":{\"date\":\"dateçš„æ ¼å¼å¿…é¡»æ˜¯2006-01-02\"}} é’ˆå¯¹dateå­—æ®µé™¤äº†å†…ç½®çš„datetime=2006-01-02æä¾›çš„æ ¼å¼è¦æ±‚å¤–ï¼Œå‡è®¾æˆ‘ä»¬è¿˜è¦æ±‚è¯¥å­—æ®µçš„æ—¶é—´å¿…é¡»æ˜¯ä¸€ä¸ªæœªæ¥çš„æ—¶é—´ï¼ˆæ™šäºå½“å‰æ—¶é—´ï¼‰ï¼Œåƒè¿™æ ·é’ˆå¯¹æŸä¸ªå­—æ®µçš„ç‰¹æ®Šæ ¡éªŒéœ€æ±‚å°±éœ€è¦æˆ‘ä»¬ä½¿ç”¨è‡ªå®šä¹‰å­—æ®µæ ¡éªŒæ–¹æ³•äº†ã€‚ é¦–å…ˆæˆ‘ä»¬è¦åœ¨éœ€è¦æ‰§è¡Œè‡ªå®šä¹‰æ ¡éªŒçš„å­—æ®µåé¢æ·»åŠ è‡ªå®šä¹‰tagï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯checkDateï¼Œæ³¨æ„ä½¿ç”¨è‹±æ–‡åˆ†å·åˆ†éš”å¼€ã€‚ // customFunc è‡ªå®šä¹‰å­—æ®µçº§åˆ«æ ¡éªŒæ–¹æ³• func customFunc(fl validator.FieldLevel) bool { date, err := time.Parse(\"2006-01-02\", fl.Field().String()) if err != nil { return false } if date.Before(time.Now()) { return false } return true } å®šä¹‰å¥½äº†å­—æ®µåŠå…¶è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•åï¼Œå°±éœ€è¦å°†å®ƒä»¬è”ç³»èµ·æ¥å¹¶æ³¨å†Œåˆ°æˆ‘ä»¬çš„æ ¡éªŒå™¨å®ä¾‹ä¸­ã€‚ // åœ¨æ ¡éªŒå™¨æ³¨å†Œè‡ªå®šä¹‰çš„æ ¡éªŒæ–¹æ³• if err := v.RegisterValidation(\"checkDate\", customFunc); err != nil { return err } è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹è¯·æ±‚å‚æ•°ä¸­dateå­—æ®µæ‰§è¡Œè‡ªå®šä¹‰çš„checkDateè¿›è¡Œæ ¡éªŒäº†ã€‚ æˆ‘ä»¬å‘é€å¦‚ä¸‹è¯·æ±‚æµ‹è¯•ä¸€ä¸‹ï¼š curl -H \"Content-type: application/json\" -X POST -d '{\"name\":\"q1mi\",\"age\":18,\"email\":\"123@qq.com\",\"password\":\"123\", \"re_password\": \"123\", \"date\":\"2020-01-02\"}' http://127.0.0.1:8999/signup æ­¤æ—¶å¾—åˆ°çš„å“åº”ç»“æœæ˜¯ï¼š {\"msg\":{\"date\":\"Key: 'SignUpParam.date' Error:Field validation for 'date' failed on the 'checkDate' tag\"}} è¿™â€¦è‡ªå®šä¹‰å­—æ®µçº§åˆ«çš„æ ¡éªŒæ–¹æ³•çš„é”™è¯¯æç¤ºä¿¡æ¯å¾ˆâ€œç®€å•ç²—æš´â€ï¼Œå’Œæˆ‘ä»¬ä¸Šé¢çš„ä¸­æ–‡æç¤ºé£æ ¼æœ‰å‡ºå…¥ï¼Œå¿…é¡»æƒ³åŠæ³•æå®šå®ƒå‘€ï¼ ","date":"2021-07-25","objectID":"/go-study18/:6:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"è‡ªå®šä¹‰ç¿»è¯‘æ–¹æ³• æˆ‘ä»¬ç°åœ¨éœ€è¦ä¸ºè‡ªå®šä¹‰å­—æ®µæ ¡éªŒæ–¹æ³•æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„ç¿»è¯‘æ–¹æ³•ï¼Œä»è€Œå®ç°è¯¥å­—æ®µé”™è¯¯æç¤ºä¿¡æ¯çš„è‡ªå®šä¹‰æ˜¾ç¤ºã€‚ // registerTranslator ä¸ºè‡ªå®šä¹‰å­—æ®µæ·»åŠ ç¿»è¯‘åŠŸèƒ½ func registerTranslator(tag string, msg string) validator.RegisterTranslationsFunc { return func(trans ut.Translator) error { if err := trans.Add(tag, msg, false); err != nil { return err } return nil } } // translate è‡ªå®šä¹‰å­—æ®µçš„ç¿»è¯‘æ–¹æ³• func translate(trans ut.Translator, fe validator.FieldError) string { msg, err := trans.T(fe.Tag(), fe.Field()) if err != nil { panic(fe.(error).Error()) } return msg } å®šä¹‰å¥½äº†ç›¸å…³ç¿»è¯‘æ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬åœ¨InitTranså‡½æ•°ä¸­é€šè¿‡è°ƒç”¨RegisterTranslation()æ–¹æ³•æ¥æ³¨å†Œæˆ‘ä»¬è‡ªå®šä¹‰çš„ç¿»è¯‘æ–¹æ³•ã€‚ // InitTrans åˆå§‹åŒ–ç¿»è¯‘å™¨ func InitTrans(locale string) (err error) { // ...liwenzhou.com... // æ³¨å†Œç¿»è¯‘å™¨ switch locale { case \"en\": err = enTranslations.RegisterDefaultTranslations(v, trans) case \"zh\": err = zhTranslations.RegisterDefaultTranslations(v, trans) default: err = enTranslations.RegisterDefaultTranslations(v, trans) } if err != nil { return err } // æ³¨æ„ï¼å› ä¸ºè¿™é‡Œä¼šä½¿ç”¨åˆ°transå®ä¾‹ // æ‰€ä»¥è¿™ä¸€æ­¥æ³¨å†Œè¦æ”¾åˆ°transåˆå§‹åŒ–çš„åé¢ if err := v.RegisterTranslation( \"checkDate\", trans, registerTranslator(\"checkDate\", \"{0}å¿…é¡»è¦æ™šäºå½“å‰æ—¥æœŸ\"), translate, ); err != nil { return err } return } return } è¿™æ ·å†æ¬¡å°è¯•å‘é€è¯·æ±‚ï¼Œå°±èƒ½å¾—åˆ°æƒ³è¦çš„é”™è¯¯æç¤ºä¿¡æ¯äº†ã€‚ {\"msg\":{\"date\":\"dateå¿…é¡»è¦æ™šäºå½“å‰æ—¥æœŸ\"}} ","date":"2021-07-25","objectID":"/go-study18/:7:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"æ€»ç»“ æœ¬æ–‡æ€»ç»“çš„ginæ¡†æ¶ä¸­validatorçš„ä½¿ç”¨æŠ€å·§åŒæ ·ä¹Ÿé€‚ç”¨äºç›´æ¥ä½¿ç”¨validatoråº“ï¼ŒåŒºåˆ«ä»…ä»…åœ¨äºæˆ‘ä»¬é…ç½®çš„æ˜¯ginæ¡†æ¶ä¸­çš„æ ¡éªŒå™¨è¿˜æ˜¯ç”±validator.New()åˆ›å»ºçš„æ ¡éªŒå™¨ã€‚åŒæ—¶ä½¿ç”¨validatoråº“ç¡®å®èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘æˆ‘ä»¬çš„ç¼–ç é‡ï¼Œä½†æ˜¯å®ƒä¸å¤ªå¯èƒ½å®Œç¾è§£å†³æˆ‘ä»¬æ‰€æœ‰éœ€æ±‚ï¼Œæ‰€ä»¥ä½ éœ€è¦æ‰¾åˆ°ä¸¤è€…ä¹‹é—´çš„å¹³è¡¡ç‚¹ã€‚ ","date":"2021-07-25","objectID":"/go-study18/:8:0","tags":["golang"],"title":"Go Study18","uri":"/go-study18/"},{"categories":["å­¦ä¹ "],"content":"Go Study 17-selectè¯­å¥ä¸­å®ç°ä¼˜å…ˆçº§","date":"2021-07-22","objectID":"/go-study17/","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"selectè¯­å¥ä»‹ç» Goè¯­è¨€ä¸­çš„selectè¯­å¥ç”¨äºç›‘æ§å¹¶é€‰æ‹©ä¸€ç»„caseè¯­å¥æ‰§è¡Œç›¸åº”çš„ä»£ç ã€‚å®ƒçœ‹èµ·æ¥ç±»ä¼¼äºswitchè¯­å¥ï¼Œä½†æ˜¯selectè¯­å¥ä¸­æ‰€æœ‰caseä¸­çš„è¡¨è¾¾å¼å¿…é¡»æ˜¯channelçš„å‘é€æˆ–è€…æ¥å—æ“ä½œã€‚ä¸€ä¸ªå…¸å‹çš„selectçš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š select { case \u003c- ch1: fmt.Println(\"liwenzhou.com\") case ch2 \u003c- 1: fmt.Println(\"qimi\") } Goè¯­è¨€ä¸­selectå…³é”®å­—ä¹Ÿèƒ½å¤Ÿè®©å½“å‰goroutineåŒæ—¶ç­‰å¾…ch1çš„å¯è¯»å’Œch2çš„å¯å†™ï¼Œåœ¨ch1å’Œch2çŠ¶æ€æ”¹å˜ä¹‹å‰ï¼Œselectä¼šä¸€ç›´å µå¡ä¸‹å»ï¼Œç›´åˆ°å…¶ä¸­çš„ä¸€ä¸ªchannelè½¬ä¸ºå°±ç»ªçŠ¶æ€æ—¶æ‰§è¡Œå¯¹åº”çš„caseåˆ†æ”¯çš„ä»£ç ã€‚å¦‚æœå¤šä¸ªchannelåŒæ—¶å°±ç»ªçš„è¯åˆ™éšæœºé€‰æ‹©ä¸€ä¸ªcaseæ‰§è¡Œã€‚ å¤„ç†ä¸Šé¢å±•ç¤ºçš„å…¸å‹å®ä¾‹å¤–ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€ä¸€ä»‹ç»ä¸€äº›selectçš„ç‰¹æ®Šç¤ºä¾‹ ","date":"2021-07-22","objectID":"/go-study17/:1:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"ç©ºselect ç©ºselectæŒ‡çš„æ˜¯å†…éƒ¨ä¸åŒ…å«ä»»ä½•caseï¼Œä¾‹å¦‚ï¼š select { } ç©ºçš„selectè¯­å¥ä¼šç›´æ¥å µå¡å½“å‰çš„goroutineï¼Œä½¿å¾—è¯¥goroutineè¿›å…¥æ— æ³•å”¤é†’çš„æ°¸ä¹…ä¼‘çœ çŠ¶æ€ ","date":"2021-07-22","objectID":"/go-study17/:2:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"åªæœ‰ä¸€ä¸ªcase å¦‚æœselectä¸­åªåŒ…å«ä¸€ä¸ªcaseï¼Œé‚£ä¹ˆè¯¥selectå°±å˜æˆäº†ä¸€ä¸ªå µå¡çš„channelè¯»/å†™æ“ä½œã€‚ select { case \u003c- ch1: fmt.Println(\"liwenzhou.com\") } ä¸Šé¢çš„ä»£ç ï¼Œå½“ch1å¯è¯»æ—¶ä¼šæ‰§è¡Œæ‰“å°æ“ä½œï¼Œå¦åˆ™å°±ä¼šå µå¡ ","date":"2021-07-22","objectID":"/go-study17/:3:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"æœ‰defaultè¯­å¥ å¦‚æœselectä¸­è¿˜å¯ä»¥åŒ…å«defaultè¯­å¥ï¼Œç”¨äºå½“å…¶ä»–caseéƒ½ä¸æ»¡è¶³æ—¶æ‰§è¡Œä¸€äº›é»˜è®¤æ“ä½œã€‚ select { case \u003c- ch1: fmt.Println(\"liwenzhou.com\") default: time.Sleep(time.Second) } ä¸Šé¢çš„ä»£ç ï¼Œå½“ch1å¯è¯»æ—¶ä¼šæ‰§è¡Œæ‰“å°æ“ä½œï¼Œå¦åˆ™å°±æ‰§è¡Œdefaultè¯­å¥ä¸­çš„ä»£ç ï¼Œè¿™é‡Œå°±ç›¸å½“äºåšäº†ä¸€ä¸ªéå µå¡çš„channelè¯»å–æ“ä½œã€‚ ","date":"2021-07-22","objectID":"/go-study17/:4:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"æ€»ç»“ selectä¸å­˜åœ¨ä»»ä½•çš„caseï¼šæ°¸ä¹…å µå¡å½“å‰goroutine selectåªå­˜åœ¨ä¸€ä¸ªcaseï¼šå µå¡çš„å‘é€/æ¥æ”¶ selectå­˜åœ¨å¤šä¸ªcaseï¼šéšæœºé€‰æ‹©ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„caseæ‰§è¡Œ selectå­˜åœ¨defaultï¼Œå…¶ä»–caseéƒ½ä¸æ»¡è¶³æ—¶ï¼Œæ‰§è¡Œdefaultè¯­å¥ä¸­çš„ä»£ç  ","date":"2021-07-22","objectID":"/go-study17/:5:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"å¦‚ä½•åœ¨selectä¸­å®ç°ä¼˜å…ˆçº§ å·²çŸ¥ï¼Œå½“selectå­˜åœ¨å¤šä¸ªcaseæ—¶ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„caseæ‰§è¡Œ ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ä¼šæŒç»­ä¸é—´æ–­åœ°ä»ch1å’Œch2ä¸­åˆ†åˆ«æ¥æ”¶ä»»åŠ¡1å’Œä»»åŠ¡2ï¼Œå¦‚ä½•ç¡®ä¿å½“ch1å’Œch2åŒæ—¶è¾¾åˆ°å°±ç»ªçŠ¶æ€æ—¶ï¼Œä¼˜å…ˆæ‰§è¡Œä»»åŠ¡1ï¼Œåœ¨æ²¡æœ‰ä»»åŠ¡1çš„æ—¶å€™å†å»æ‰§è¡Œä»»åŠ¡2 func worker (ch1, ch2 \u003c-chan int, stopCh chan struct{}) { for { select { case \u003c-stopCh: return case job1 := \u003c-ch1: fmt.Println(job1) default: select { case job2 := \u003c-ch2: fmt.Println(job2) default: } } } } ä¸Šé¢çš„ä»£ç é€šè¿‡åµŒå¥—ä¸¤ä¸ªselectå®ç°äº†\"ä¼˜å…ˆçº§\"ï¼Œçœ‹èµ·æ¥æ˜¯æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ã€‚ä½†æ˜¯è¿™ä»£ç æœ‰ç‚¹é—®é¢˜ï¼Œå¦‚æœch1å’Œch2éƒ½æ²¡æœ‰è¾¾åˆ°å°±ç»ªçŠ¶æ€çš„è¯ï¼Œæ•´ä¸ªç¨‹åºä¸ä¼šå µå¡è€Œæ˜¯è¿›å…¥æ­»å¾ªç¯ã€‚ func worker2(ch1, ch2 \u003c-chan int, stopCh chan struct{}) { for { select { case \u003c-stopCh: return case job1 := ch1: fmt.Printl(job1) case job2 := ch2: priority: for { select { case job1 := \u003c-ch1: fmt.Println(job1) default: break priority } } fmt.Println(job2) } } } è¿™ä¸€æ¬¡ä¸ä»…ä½¿ç”¨äº†åµŒå¥—çš„selectï¼Œè¿˜ç»„åˆä½¿ç”¨äº†forå¾ªç¯å’ŒLABELæ¥å®ç°é¢˜ç›®çš„è¦æ±‚ã€‚ä¸Šé¢çš„ä»£ç åœ¨å¤–å±‚selecté€‰ä¸­æ‰§è¡Œjob := \u003c-ch2æ—¶ï¼Œè¿›å…¥åˆ°å†…å±‚selectå¾ªç¯å°è¯•æ‰§è¡Œjob1 := \u003c-ch1ï¼Œå½“ch1å°±ç»ªæ—¶å°±ä¼šä¸€ç›´æ‰§è¡Œï¼Œå¦åˆ™è·³å‡ºå†…å±‚select ","date":"2021-07-22","objectID":"/go-study17/:6:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"å®é™…åº”ç”¨åœºæ™¯ K8sçš„controllerä¸­å°±æœ‰å…³äºä¸Šé¢è¿™ä¸ªæŠ€å·§çš„å®é™…ä½¿ç”¨ç¤ºä¾‹ï¼Œè¿™é‡Œåœ¨å…³äºselectä¸­å®ç°ä¼˜å…ˆçº§ç›¸å…³ä»£ç çš„å…³é”®å¤„éƒ½å·²æ·»åŠ äº†æ³¨é‡Šã€‚ // kubernetes/pkg/controller/nodelifecycle/scheduler/taint_manager.go func (tc *NoExecuteTaintManager) worker(worker int, done func(), stopCh \u003c-chan struct{}) { defer done() // å½“å¤„ç†å…·ä½“äº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ› Node çš„æ›´æ–°æ“ä½œä¼˜å…ˆäº Pod çš„æ›´æ–° // å› ä¸º NodeUpdates ä¸ NoExecuteTaintManageræ— å…³åº”è¯¥å°½å¿«å¤„ç† // -- æˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·(æˆ–ç³»ç»Ÿ)ç­‰åˆ°PodUpdateé˜Ÿåˆ—è¢«è€—å°½åï¼Œæ‰å¼€å§‹ä»å—æ±¡æŸ“çš„Nodeä¸­æ¸…é™¤podã€‚ for { select { case \u003c-stopCh: return case nodeUpdate := \u003c-tc.nodeUpdateChannels[worker]: tc.handleNodeUpdate(nodeUpdate) tc.nodeUpdateQueue.Done(nodeUpdate) case podUpdate := \u003c-tc.podUpdateChannels[worker]: // å¦‚æœæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ª Pod éœ€è¦æ›´æ–°ï¼Œæˆ‘ä¹ˆä½ éœ€è¦å…ˆæ¸…ç©º Node é˜Ÿåˆ—. priority: for { select { case nodeUpdate := \u003c-tc.nodeUpdateChannels[worker]: tc.handleNodeUpdate(nodeUpdate) tc.nodeUpdateQueue.Done(nodeUpdate) default: break priority } } // åœ¨ Node é˜Ÿåˆ—æ¸…ç©ºåæˆ‘ä»¬å†å¤„ç† podUpdate. tc.handlePodUpdate(podUpdate) tc.podUpdateQueue.Done(podUpdate) } } } ","date":"2021-07-22","objectID":"/go-study17/:7:0","tags":["golang"],"title":"Go Study17","uri":"/go-study17/"},{"categories":["å­¦ä¹ "],"content":"Go Study 16-åˆ‡ç‰‡æ“ä½œå¸¸ç”¨æŠ€å·§","date":"2021-07-18","objectID":"/go-study-16/","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å¤åˆ¶ å°†åˆ‡ç‰‡aä¸­çš„å…ƒç´ å¤åˆ¶åˆ°åˆ‡ç‰‡bä¸­ã€‚ æœ€ç®€å•çš„ã€æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å†…ç½®çš„copyæ–¹æ³• // ä¸€æ¬¡å°†å†…å­˜ç”³è¯·åˆ°ä½ b = make([]T, len(a)) copy(b, a) é™¤äº†ä½¿ç”¨å†…ç½®çš„copyå‡½æ•°å¤–ï¼Œè¿˜æœ‰ä¸‹é¢ä¸¤ç§ä½¿ç”¨appendå‡½æ•°å¤åˆ¶åˆ‡ç‰‡çš„æ–¹æ³• b = append([]T(nil), a...) b = append(a[:0:0], a...) è¿™ä¸¤ç§æ–¹æ³•é€šå¸¸æ¯”ä½¿ç”¨copyå‡½æ•°å¤åˆ¶çš„æ–¹æ³•è¦æ…¢ä¸€ç‚¹ï¼Œä½†æ˜¯å¦‚æœåœ¨å¤åˆ¶ä¹‹åæœ‰æ›´å¤šçš„å…ƒç´ è¦æ·»åŠ åˆ°bä¸­ï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ•ˆç‡ä¼šæ›´é«˜ã€‚ ","date":"2021-07-18","objectID":"/go-study-16/:1:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å‰ªåˆ‡ å°†åˆ‡ç‰‡aä¸­ç´¢å¼•i~jä½ç½®çš„å…ƒç´ å‰ªåˆ‡æ‰ å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼ï¼Œä½¿ç”¨appendå‡½æ•°å®Œæˆ a = append(a[:i], a[j:]...) ","date":"2021-07-18","objectID":"/go-study-16/:2:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤ å°†åˆ‡ç‰‡aä¸­ç´¢å¼•ä½ç½®ä¸ºiçš„å…ƒç´ åˆ é™¤ã€‚ åŒæ ·å¯ä»¥ä½¿ç”¨ä¸Šé¢å‰ªåˆ‡çš„æ–¹å¼ä½¿ç”¨appendå‡½æ•°å®Œæˆåˆ é™¤æ“ä½œ a = append(a[:i], a[i+1:]...) æˆ–è€…æ­é…copyå‡½æ•°ä½¿ç”¨åˆ‡ç‰‡è¡¨è¾¾å¼å®Œæˆåˆ é™¤æ“ä½œ a = a[:i + copy(a[i:], a[i+1])] æ­¤å¤–ï¼Œå¦‚æœåªéœ€è¦åˆ é™¤ç´¢å¼•ä¸ºiçš„å…ƒç´ ï¼Œæ— éœ€ä¿ç•™åˆ‡ç‰‡å…ƒç´ åŸæœ‰çš„é¡ºåºï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§ç®€å•çš„æ–¹å¼åˆ é™¤ // å°†æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°ç´¢å¼•iå¤„ a[i] = a[len(a) - 1] // æˆªæ‰æœ€åä¸€ä¸ªå…ƒç´  a = a[:len(a) - 1] ","date":"2021-07-18","objectID":"/go-study-16/:3:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å‰ªåˆ‡æˆ–åˆ é™¤æ“ä½œå¯èƒ½å¼•èµ·çš„å†…å­˜æ³„éœ² éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåˆ‡ç‰‡aä¸­çš„å…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹æˆ–è€…åŒ…å«æŒ‡é’ˆå­—æ®µçš„ç»“æ„ä½“ç±»å‹(éœ€è¦è¢«åƒåœ¾å›æ”¶)ï¼Œä¸Šé¢çš„å‰ªåˆ‡å’Œåˆ é™¤çš„ç¤ºä¾‹ä»£ç ä¼šå­˜åœ¨ä¸€ä¸ªæ½œåœ¨çš„å†…å­˜æ³„éœ²é—®é¢˜ï¼šä¸€äº›å…·æœ‰å€¼çš„å…ƒç´ ä»è¢«åˆ‡ç‰‡aå¼•ç”¨ï¼Œå› æ­¤æ— æ³•è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶æ‰ã€‚ä¸‹é¢ä»£ç å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ","date":"2021-07-18","objectID":"/go-study-16/:4:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å‰ªåˆ‡ copy(a[i:], a[j:]) for k, n := len(a)-j+i, len(a); k \u003c n; k++ { // æˆ–ç±»å‹Tçš„é›¶å€¼ a[k] = nil } a = a[:len(a)-j+i] ","date":"2021-07-18","objectID":"/go-study-16/:4:1","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤ copy(a[i:], a[i+1:]) // æˆ–ç±»å‹Tçš„é›¶å€¼ a[len(a)-1] = nil a = a[:len(a)-1] ","date":"2021-07-18","objectID":"/go-study-16/:4:2","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤ä½†ä¸ä¿ç•™å…ƒç´ åŸæœ‰é¡ºåº a[i] = a[len(a)-1] a[len(a)-1] = nil a = a[:len(a)-1] ","date":"2021-07-18","objectID":"/go-study-16/:4:3","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å†…éƒ¨æ‰©å¼  åœ¨åˆ‡ç‰‡açš„ç´¢å¼•iä¹‹åæ‰©å¼ jä¸ªå…ƒç´  ä½¿ç”¨ä¸¤ä¸ªappendå‡½æ•°å®Œæˆï¼Œå³å…ˆå°†ç´¢å¼•iä¹‹åçš„å…ƒç´ è¿½åŠ åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºjçš„åˆ‡ç‰‡åï¼Œå†å°†è¿™ä¸ªåˆ‡ç‰‡ä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°åˆ‡ç‰‡açš„ç´¢å¼•iä¹‹å a = append(a[:i], append(make([]T, j), a[i:]...)...) æ‰©å¼ çš„è¿™ä¸€éƒ¨åˆ†å…ƒç´ ä¸ºTç±»å‹çš„é›¶å€¼ ","date":"2021-07-18","objectID":"/go-study-16/:5:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å°¾éƒ¨æ‰©å¼  å°†åˆ‡ç‰‡açš„å°¾éƒ¨æ‰©å¼ jä¸ªå…ƒç´ çš„ç©ºé—´ã€‚ a = append(a, make([]T, j)...) æ‰©å¼ çš„è¿™ä¸€éƒ¨åˆ†å…ƒç´ åŒæ ·ä¸ºTç±»å‹çš„é›¶å€¼ ","date":"2021-07-18","objectID":"/go-study-16/:6:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"è¿‡æ»¤ æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å°†åˆ‡ç‰‡aä¸­çš„å…ƒç´ è¿›è¡Œå°±åœ°è¿‡æ»¤ è¿™é‡Œå‡è®¾è¿‡æ»¤çš„æ¡ä»¶å·²ç»å°è£…ä¸ºkeepå‡½æ•°ï¼Œä½¿ç”¨for rangeéå†åˆ‡ç‰‡açš„æ‰€æœ‰å…ƒç´ é€ä¸€è°ƒç”¨keepå‡½æ•°è¿›è¡Œè¿‡æ»¤ n := 0 for _, x := range a { if keep(x) { // ä¿ç•™è¯¥å…ƒç´  a[n] = x n++ } } // æˆªå–åˆ‡ç‰‡ä¸­éœ€ä¿ç•™çš„å…ƒç´  a = a[:n] ","date":"2021-07-18","objectID":"/go-study-16/:7:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"æ’å…¥ å°†å…ƒç´ xæ’å…¥åˆ‡ç‰‡açš„ç´¢å¼•iå¤„ è¿˜æ˜¯ä½¿ç”¨ä¸¤ä¸ªappendå‡½æ•°å®Œæˆæ’å…¥xçš„æ“ä½œ a = append(a[:i], append([]T{x}, a[i:...])...) ç¬¬äºŒä¸ªappendå‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªå…·æœ‰è‡ªå·±åº•å±‚æ•°ç»„çš„æ–°åˆ‡ç‰‡ï¼Œå¹¶å°†a[i:] ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°è¯¥åˆ‡ç‰‡ï¼Œç„¶åç”±ç¬¬ä¸€ä¸ªappendå‡½æ•°å°†è¿™äº›å…ƒç´ å¤åˆ¶å›åˆ‡ç‰‡ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å¦ä¸€ä¸ªæ–¹æ³•æ¥é¿å…æ–°åˆ‡ç‰‡çš„åˆ›å»º(ä»¥åŠç”±æ­¤äº§ç”Ÿçš„å†…å­˜åƒåœ¾)å’Œç¬¬äºŒä¸ªå‰¯æœ¬ï¼š // è¿™é‡Œåº”ä½¿ç”¨å…ƒç´ çš„é›¶å€¼ a = append(a, 0) copy(a[i+1:], a[i:]) a[i] = x ","date":"2021-07-18","objectID":"/go-study-16/:8:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"è¿½åŠ  å°†å…ƒç´ xè¿½åŠ åˆ°åˆ‡ç‰‡açš„æœ€å è¿™é‡Œä½¿ç”¨appendå‡½æ•°å³å¯ a = append(a, x) ","date":"2021-07-18","objectID":"/go-study-16/:9:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å¼¹å‡º å°†åˆ‡ç‰‡açš„æœ€åä¸€ä¸ªå…ƒç´ å¼¹å‡º è¿™é‡Œä½¿ç”¨åˆ‡ç‰‡è¡¨è¾¾å¼å®Œæˆå¼¹å‡ºæ“ä½œ x, a = a[len(a)-1], a[:len(a)-1] å¼¹å‡ºåˆ‡ç‰‡açš„ç¬¬ä¸€ä¸ªå…ƒç´  x, a = a[0], a[i:] ","date":"2021-07-18","objectID":"/go-study-16/:10:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å‰æ’ å°†å…ƒç´ xå‰æ’åˆ°åˆ‡ç‰‡açš„æœ€å¼€å§‹ a = append([]T{x}, a...) ","date":"2021-07-18","objectID":"/go-study-16/:11:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å…¶ä»–æŠ€å·§ ","date":"2021-07-18","objectID":"/go-study-16/:12:0","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"è¿‡æ»¤è€Œä¸åˆ†é…å†…å­˜ æ­¤æŠ€å·§ä½¿ç”¨äº†ä¸€ä¸ªäº‹å®ï¼Œå³åˆ‡ç‰‡bä¸åŸå§‹åˆ‡ç‰‡aå…±äº«ç›¸åŒçš„åº•å±‚æ•°ç»„å’Œå®¹é‡ï¼Œå› æ­¤åŸå­˜å‚¨ç©ºé—´å·²é‡æ–°ç”¨äºè¿‡æ»¤åçš„åˆ‡ç‰‡ã€‚å½“ç„¶åŸå§‹åˆ‡ç‰‡çš„å†…å®¹è¢«ä¿®æ”¹äº†ã€‚ b := a[:0] for _, x := range a { if f(x) { b = append(b, x) } } å¯¹äºå¿…é¡»è¢«åƒåœ¾å›æ”¶çš„å…ƒç´ ï¼Œåœ¨å®Œæˆä¸Šè¿°æ“ä½œåå¯ä»¥æ·»åŠ ä¸€ä¸‹ä»£ç  for i := len(b); i \u003c len(a); i++ { a[i] = nil } ","date":"2021-07-18","objectID":"/go-study-16/:12:1","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"ç¿»è½¬ å°†åˆ‡ç‰‡açš„å…ƒç´ é¡ºåºç¿»è½¬ é€šè¿‡è¿­ä»£ä¸¤ä¸¤äº’æ¢å…ƒç´ å®Œæˆ for i := len(a)/2-1; i \u003e= 0; i-- { opp := len(a)-1-i a[i], a[opp] = a[opp], a[i] } åŒæ ·çš„æ“ä½œï¼š for left, right := 0, len(a)-1; left \u003c right; left, right = left+1, right-1 { a[left], a[right] = a[right], a[left] } ","date":"2021-07-18","objectID":"/go-study-16/:12:2","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"æ´—ç‰Œ æ‰“ä¹±åˆ‡ç‰‡aä¸­å…ƒç´ çš„é¡ºåº Fisher-Yatesç®—æ³•ï¼š for i := len(a)-1; i \u003e 0; i-- { j := rand.Intn(i+1) a[i], a[j] = a[j], a[i] } ä»go1.10å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨math/rand.Shuffle rand.Shuffle(len(a), func(i, j int) { a[i], a[j] = a[j], a[i] }) ","date":"2021-07-18","objectID":"/go-study-16/:12:3","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨æœ€å°åˆ†é…è¿›è¡Œæ‰¹å¤„ç† å¦‚æœä½ æƒ³å¯¹ä¸€ä¸ªå¤§å‹åˆ‡ç‰‡açš„å…ƒç´ åˆ†æ‰¹è¿›è¡Œå¤„ç†ï¼Œè¿™ä¼šå¾ˆæœ‰ç”¨ã€‚ actions := []int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9} batchSize := 3 batches := make([][]int, 0, (len(actions)+batchSize-1)/batchSize) for batchSize \u003c len(actions) { actions, batches = actions[batchSize:], append(batches, actions[0:batchSize:batchSize]) } batches = append(batches, actions) å¾—åˆ°çš„æ•ˆæœå¦‚ä¸‹ï¼š [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]] ","date":"2021-07-18","objectID":"/go-study-16/:12:4","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"åŸåœ°åˆ é™¤é‡å¤å…ƒç´ (å…ƒç´ å¯æ¯”è¾ƒ) import \"sort\" // åˆ‡ç‰‡å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•å¯æ’åºçš„ç±»å‹ in := []int{3, 2, 1, 4, 3, 2, 1, 4, 1} sort.Ints(in) j := 0 for i := 1; i \u003c len(in); i++ { if in[j] == in[i] { continue } j++ // éœ€è¦ä¿å­˜åŸå§‹æ•°æ®æ—¶ // in[i], in[j] = in[j], in[i] // åªéœ€è¦ä¿å­˜éœ€è¦çš„æ•°æ®æ—¶ in[j] = in[i] } result := in[:j+1] // [1, 2, 3, 4] fmt.Println(result) ","date":"2021-07-18","objectID":"/go-study-16/:12:5","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"å­˜åœ¨å°±ç§»åˆ°å‰é¢ï¼Œä¸å­˜åœ¨å°±æ’åˆ°å‰é¢ å¦‚æœç»™å®šçš„å…ƒç´ åœ¨åˆ‡ç‰‡ä¸­å­˜åœ¨åˆ™æŠŠè¯¥å…ƒç´ ç§»åˆ°åˆ‡ç‰‡çš„å¤´éƒ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™å°†è¯¥å…ƒç´ æ’å…¥åˆ°åˆ‡ç‰‡çš„å¤´éƒ¨ã€‚ func moveToFront(needle string, haystack []string) []string { if len(haystack) != 0 \u0026\u0026 haystack[0] == needle { return haystack } prev := needle for i, elem := range haystack { switch { case i == 0: haystack[0] = needle prev = elem case elem == needle: haystack[i] = prev return haystack default: haystack[i] = prev prev = elem } } return append(haystack, prev) } // [a, b, c, d, e] haystack := []string{\"a\", \"b\", \"c\", \"d\", \"e\"} haystack = moveToFront(\"c\", haystack) haystack = moveToFront(\"f\", haystack) ","date":"2021-07-18","objectID":"/go-study-16/:12:6","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"æ»‘åŠ¨çª—å£ å°†åˆ‡ç‰‡inputç”Ÿæˆsizeå¤§å°çš„æ»‘åŠ¨çª—å£ func slidingWindow(size int, input []int) [][]int { // è¿”å›å…¥å‚çš„åˆ‡ç‰‡ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´  if len(input) \u003c= size { return [][]int{input} } // ä»¥æ‰€éœ€çš„ç²¾ç¡®å¤§å°åˆ†é…åˆ‡ç‰‡ r := make([][]int, 0, len(input)-size+1) for i, j := 0, size; j \u003c= len(input); i, j = i+1, j+1 { r = append(r, input[i:j]) } return r } ç¤ºä¾‹ï¼š a := []int{1, 2, 3, 4, 5} res L= slidingWindow(2, a) fmt.Println(res) è¾“å‡ºï¼š [[1, 2] [2, 3] [3, 4] [4, 5]] ","date":"2021-07-18","objectID":"/go-study-16/:12:7","tags":["golang"],"title":"Go Study 16","uri":"/go-study-16/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€3","date":"2021-07-14","objectID":"/rabbitmq3/","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"å‘å¸ƒè®¢é˜… åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå·¥ä½œé˜Ÿåˆ—ã€‚å·¥ä½œé˜Ÿåˆ—èƒŒåçš„å‡è®¾æ˜¯æ¯ä¸ªä»»åŠ¡åªä¼ é€’ç»™ä¸€ä¸ªå·¥äººã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†åšä¸€äº›å®Œå…¨ä¸åŒçš„äº‹æƒ…â€“æˆ‘ä»¬å°†å‘å¤šä¸ªæ¶ˆè´¹è€…ä¼ é€’ä¸€ä¸ªæ¶ˆæ¯ã€‚è¿™å°±æ˜¯æ‰€è°“çš„\"è®¢é˜…/å‘å¸ƒæ¨¡å¼\"ã€‚ ä¸ºäº†è¯´æ˜è¿™ç§æ¨¡å¼ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç®€å•çš„æ—¥å¿—ç³»ç»Ÿã€‚å®ƒç”±ä¸¤ä¸ªç¨‹åºç»„æˆâ€“ç¬¬ä¸€ä¸ªç¨‹åºå°†å‘å‡ºæ—¥å¿—æ¶ˆæ¯ï¼Œç¬¬äºŒä¸ªç¨‹åºå°†æ¥æ”¶å¹¶æ‰“å°ä»–ä»¬ã€‚ åœ¨æˆ‘ä»¬çš„æ—¥å¿—ç³»ç»Ÿä¸­ï¼Œæ¯ä¸€ä¸ªè¿è¡Œçš„æ¥æ”¶å™¨ç¨‹åºå‰¯æœ¬éƒ½ä¼šå—åˆ°æ¶ˆæ¯ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œä¸€ä¸ªæ¥æ”¶å™¨å¹¶å°†æ—¥å¿—å®šå‘åˆ°ç£ç›˜ï¼›åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿è¡Œå¦ä¸€ä¸ªæ¥æ”¶å™¨å¹¶åœ¨å±å¹•ä¸ŠæŸ¥çœ‹æ—¥å¿—ã€‚ æœ¬è´¨ä¸Šï¼Œå·²å‘å¸ƒçš„æ—¥å¿—æ¶ˆæ¯å°†è¢«å¹¿æ’­åˆ°æ‰€æœ‰æ¥æ”¶è€…ã€‚ ","date":"2021-07-14","objectID":"/rabbitmq3/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"Exchanges(äº¤æ¢å™¨) åœ¨æœ¬æ•™ç¨‹çš„å‰é¢éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å‘é˜Ÿåˆ—å‘é€æ¶ˆæ¯å’Œä»é˜Ÿåˆ—æ¥æ”¶æ¶ˆæ¯ã€‚ç°åœ¨æ˜¯æ—¶å€™åœ¨Rabbitä¸­å¼•å…¥å®Œæ•´çš„æ¶ˆæ¯ä¼ é€’æ¨¡å‹äº†ã€‚ å¿«é€Ÿå›é¡¾å…ˆå‰æ•™ç¨‹çš„å†…å®¹ï¼š â€œç”Ÿäº§è€…\"æ˜¯å‘é€æ¶ˆæ¯çš„ç”¨æˆ·åº”ç”¨ç¨‹åº â€œé˜Ÿåˆ—\"æ˜¯å­˜å‚¨æ¶ˆæ¯çš„ç¼“å†²åŒº â€œæ¶ˆè´¹è€…\"æ˜¯æ¥æ”¶æ¶ˆæ¯çš„ç”¨æˆ·åº”ç”¨ç¨‹åº RabbitMQçš„æ¶ˆæ¯ä¼ é€’æ¨¡å‹ä¸­çš„æ ¸å¿ƒæ€æƒ³æ˜¯ç”Ÿäº§è€…ä»ä¸å°†ä»»ä½•æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—ã€‚å®é™…ä¸Šï¼Œç”Ÿäº§è€…ç”šè‡³æ ¹æœ¬ä¸çŸ¥é“æ˜¯å¦å°†æ¶ˆæ¯ä¼ é€’åˆ°ä»»ä½•é˜Ÿåˆ—ã€‚ ç›¸åï¼Œç”Ÿäº§è€…åªèƒ½å°†æ¶ˆæ¯å‘é€åˆ°äº¤æ¢å™¨ã€‚äº¤æ¢å™¨æ˜¯éå¸¸ç®€å•çš„ä¸œè¥¿ã€‚ä¸€æ–¹é¢ï¼Œå®ƒæ¥æ”¶æ¥è‡ªç”Ÿäº§è€…çš„æ¶ˆæ¯ï¼Œå¦ä¸€æ–¹é¢ï¼Œå°†å®ƒä»¬æ¨å…¥é˜Ÿåˆ—ã€‚äº¤æ¢å™¨å¿…é¡»ç¡®åˆ‡çŸ¥é“å¦‚ä½•å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚å®ƒåº”è¯¥è¢«é™„åŠ åˆ°ç‰¹å®šçš„é˜Ÿåˆ—ï¼Ÿè¿˜æ˜¯åº”è¯¥å°†å…¶é™„åŠ åˆ°è®¸å¤šé˜Ÿåˆ—ä¸­ï¼Ÿæˆ–è€…å®ƒåº”è¯¥è¢«ä¸¢å¼ƒã€‚è¿™äº›è§„åˆ™ç”±äº¤æ¢å™¨çš„ç±»å‹å®šä¹‰ã€‚ æœ‰å‡ ç§äº¤æ¢å™¨ç±»å‹å¯ç”¨ï¼šdirectï¼Œ topicï¼Œ headerså’Œfanoutã€‚æˆ‘ä»¬å°†é›†ä¸­è®¨è®ºæœ€åä¸€ä¸ªâ€“fanoutã€‚ fanout(æ‰‡å‡º)äº¤æ¢å™¨éå¸¸ç®€å•ã€‚æ­£å¦‚åç§°ä¸€æ ·ï¼Œå®ƒåªæ˜¯å°†æ¥æ”¶åˆ°çš„æ‰€æœ‰æ¶ˆæ¯å¹¿æ’­åˆ°å®ƒçŸ¥é“çš„æ‰€æœ‰é˜Ÿåˆ—ä¸­ã€‚è€Œè¿™æ­£æ˜¯æˆ‘ä»¬è®°å½•å™¨æ‰€éœ€è¦çš„ã€‚ ","date":"2021-07-14","objectID":"/rabbitmq3/:1:1","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"ä¸´æ—¶é˜Ÿåˆ— å…ˆå‰æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å…·æœ‰ç‰¹å®šåç§°çš„é˜Ÿåˆ—ï¼Œèƒ½å¤Ÿå‘½åé˜Ÿåˆ—å¯¹æˆ‘ä»¬æ¥è¯´è‡³å…³é‡è¦â€“æˆ‘ä»¬éœ€è¦å°†å·¥ä½œäººå‘˜æŒ‡å‘åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚å½“ä½ æƒ³åœ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´å…±äº«é˜Ÿåˆ—æ—¶ï¼Œç»™é˜Ÿåˆ—ä¸€ä¸ªåç§°æ˜¯éå¸¸é‡è¦çš„ã€‚ ä½†å¯¹äºè®°å½•å™¨æ¥è¯´ï¼Œæƒ…å†µå¹¶éå¦‚æ­¤ã€‚æˆ‘ä»¬å¸Œæœ›æ”¶åˆ°æ‰€æœ‰çš„æ—¥å¿—æ¶ˆæ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯å®ƒä»¬çš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬ä¹Ÿåªå¯¹å½“å‰æ­£åœ¨å‘é€çš„æ¶ˆæ¯æ„Ÿå…´è¶£ï¼Œè€Œå¯¹æ—§æ¶ˆæ¯ä¸æ„Ÿå…´è¶£ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä»¶äº‹ã€‚ é¦–å…ˆï¼Œå½“æˆ‘ä»¬è¿æ¥RabbitMQæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ç©ºçš„é˜Ÿåˆ—ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªéšæœºåç§°çš„é˜Ÿåˆ—ï¼Œæˆ–è€…æ›´å¥½çš„æ–¹æ³•æ˜¯è®©æœåŠ¡å™¨ä¸ºæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªéšæœºé˜Ÿåˆ—åç§°ã€‚ å…¶æ¬¡ï¼Œä¸€æ—¦æˆ‘ä»¬æ–­å¼€æ¶ˆè´¹è€…çš„è¿æ¥ï¼Œé˜Ÿåˆ—å°±ä¼šè‡ªåŠ¨åˆ é™¤ã€‚ åœ¨amqpå®¢æˆ·ç«¯ä¸­ï¼Œå½“æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºé˜Ÿåˆ—åç§°æ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨éšæœºç”Ÿæˆçš„åç§°åˆ›å»ºä¸€ä¸ªéæŒä¹…é˜Ÿåˆ—ï¼š q, err := ch.QueueDeclare( // ç©ºå­—ç¬¦ä¸²ä½œä¸ºé˜Ÿåˆ—çš„åç§° \"\", // éæŒä¹…é˜Ÿåˆ— false, // delete when unused false, // ç‹¬å é˜Ÿåˆ—(å½“å‰å£°æ˜é˜Ÿåˆ—çš„è¿æ¥å…³é—­åå³è¢«åˆ é™¤) true, // no-wait false, // arguments nil, ) ä¸Šè¿°æ–¹æ³•è¿”å›æ—¶ï¼Œç”Ÿæˆçš„é˜Ÿåˆ—å®ä¾‹åŒ…å«RabbitMQç”Ÿæˆçš„éšæœºé˜Ÿåˆ—åç§°ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥åƒamq.gen-JzTY20RgKO-HjmUJj0wLgã€‚ å½“å£°æ˜å®ƒçš„è¿æ¥å…³é—­æ—¶ï¼Œè¯¥é˜Ÿåˆ—å°†è¢«åˆ é™¤ï¼Œå› ä¸ºå®ƒè¢«å£°æ˜ä¸ºç‹¬å ã€‚ ","date":"2021-07-14","objectID":"/rabbitmq3/:1:2","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"ç»‘å®š æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ‰‡å‡ºäº¤æ¢å™¨å’Œä¸€ä¸ªé˜Ÿåˆ—ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å‘Šè¯‰æœåŠ¡å™¨å°†æ¶ˆæ¯å‘é€åˆ°æˆ‘ä»¬çš„é˜Ÿåˆ—ã€‚äº¤æ¢å™¨å’Œé˜Ÿåˆ—ä¹‹é—´çš„å…³ç³»æˆä¸ºç»‘å®š ch.QueueBind( // queue name q.Name, // routing key \"\", // exchange \"logs\", false, nil, ) ä»ç°åœ¨å¼€å§‹ï¼Œlogsäº¤æ¢å™¨å°†ä¼šæŠŠæ¶ˆæ¯æ·»åŠ åˆ°æˆ‘ä»¬çš„é˜Ÿåˆ—ä¸­ã€‚ ","date":"2021-07-14","objectID":"/rabbitmq3/:2:0","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"åˆ—å‡ºç»‘å®šå…³ç³» rabbitmqctl list_binding å¦‚æœè¦å°†æ—¥å¿—ä¿å­˜åˆ°æ–‡ä»¶ï¼Œåªéœ€æ‰“å¼€æ§åˆ¶å°å¹¶è¾“å…¥ï¼š go run receive_logs.go \u003e logs_from_rabbit.log å¦‚æœå¸Œæœ›åœ¨å±å¹•ä¸ŠæŸ¥çœ‹æ—¥å¿—ï¼Œè¯·åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„ç»ˆç«¯å¹¶è¿è¡Œ go run receive_logs.go å½“ç„¶è¦å‘æ—¥å¿—ï¼Œè¯·è¾“å…¥ï¼š go run emit_log.go ","date":"2021-07-14","objectID":"/rabbitmq3/:2:1","tags":["RabbitMQ"],"title":"RabbitMQ3","uri":"/rabbitmq3/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€2","date":"2021-06-28","objectID":"/rabbitmq2/","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"ä»»åŠ¡é˜Ÿåˆ—/å·¥ä½œé˜Ÿåˆ— åœ¨ç¬¬ä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç¼–å†™ç¨‹åºä»å‘½åçš„é˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå·¥ä½œé˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—å°†ç”¨äºå¤šä¸ªå·¥äººä¹‹é—´åˆ†é…è€—æ—¶çš„ä»»åŠ¡ã€‚ å·¥ä½œé˜Ÿåˆ—(åˆç§°ä»»åŠ¡é˜Ÿåˆ—)çš„ä¸»è¦æ€æƒ³æ˜¯é¿å…ç«‹å³æ‰§è¡ŒæŸäº›èµ„æºå¯†é›†å‹ä»»åŠ¡å¹¶ä¸”ä¸å¾—ä¸ç­‰å¾…è¿™äº›ä»»åŠ¡å®Œæˆã€‚ç›¸åï¼Œæˆ‘ä»¬å®‰æ’ä»»åŠ¡å¼‚æ­¥åœ°åŒæ—¶æˆ–å½“å‰ä»»åŠ¡ä¹‹åå®Œæˆã€‚æˆ‘ä»¬å°†ä»»åŠ¡å°è£…æˆæ¶ˆæ¯å¹¶å°†å…¶å‘é€åˆ°é˜Ÿåˆ—ï¼Œåœ¨åå°è¿è¡Œçš„å·¥ä½œè¿›ç¨‹å°†å–å‡ºæ¶ˆæ¯å¹¶æœ€ç»ˆæ‰§è¡Œä»»åŠ¡ã€‚å½“ä½ è¿è¡Œå¤šä¸ªå·¥ä½œè¿›ç¨‹æ—¶ï¼Œä»»åŠ¡å°†åœ¨å®ƒä»¬ä¹‹é—´å…±äº«ã€‚ è¿™ä¸ªæ¦‚å¿µåœ¨Webåº”ç”¨ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºåœ¨Webåº”ç”¨ä¸­ä¸å¯èƒ½åœ¨è¾ƒçŸ­çš„HTTPè¯·æ±‚çª—å£å†…å¤„ç†å¤æ‚çš„ä»»åŠ¡ï¼Œ(è¯‘æ³¨ï¼šä¾‹å¦‚æ³¨å†Œæ—¶å‘é€é‚®ä»¶æˆ–çŸ­ä¿¡éªŒè¯ç ç­‰åœºæ™¯)ã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"å‡†å¤‡å·¥ä½œ åœ¨æœ¬æ•™ç¨‹çš„ä¸Šä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å‘é€äº†ä¸€æ¡åŒ…å«â€œHello Worldï¼â€çš„æ¶ˆæ¯ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†å‘é€ä»£è¡¨å¤æ‚ä»»åŠ¡çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬æ²¡æœ‰å®é™…çš„ä»»åŠ¡ï¼Œä¾‹å¦‚è°ƒæ•´å›¾åƒå¤§å°æˆ–æ¸²æŸ“pdfæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡å€ŸåŠ©time.Sleepå‡½æ•°æ¨¡æ‹Ÿä¸€äº›æ¯”è¾ƒè€—æ—¶çš„ä»»åŠ¡ã€‚æˆ‘ä»¬ä¼šå°†ä¸€äº›åŒ…å«.çš„å­—ç¬¦ä¸²å°è£…ä¸ºæ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œå…¶ä¸­æ¯æœ‰ä¸€ä¸ª.å°±è¡¨ç¤ºéœ€è¦è€—è´¹1ç§’é’Ÿçš„å·¥ä½œï¼Œä¾‹å¦‚ï¼Œhelloâ€¦è¡¨ç¤ºä¸€ä¸ªå°†èŠ±è´¹ä¸‰ç§’é’Ÿçš„å‡ä»»åŠ¡ã€‚ æˆ‘ä»¬å°†ç¨å¾®ä¿®æ”¹ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­çš„send.goä»£ç ï¼Œä»¥å…è®¸ä»å‘½ä»¤è¡Œå‘é€ä»»æ„æ¶ˆæ¯ã€‚è¯¥ç¨‹åºä¼šå°†ä»»åŠ¡å®‰æ’åˆ°æˆ‘ä»¬çš„å·¥ä½œé˜Ÿåˆ—ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶å‘½åä¸ºnew_task.go ","date":"2021-06-28","objectID":"/rabbitmq2/:1:1","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"å¾ªç¯è°ƒåº¦ ä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—çš„ä¼˜ç‚¹ä¹‹ä¸€æ˜¯èƒ½å¤Ÿè½»æ¾å¹¶è¡ŒåŒ–å·¥ä½œã€‚å¦‚æœæˆ‘ä»¬çš„å·¥ä½œæ­£åœ¨ç§¯å‹ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ æ›´å¤šçš„å·¥äººï¼Œè¿™æ ·å°±å¯ä»¥è½»æ¾æ‰©å±•ã€‚ é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°è¯•åŒæ—¶è¿è¡Œä¸¤ä¸ªworker.goè„šæœ¬ã€‚å®ƒä»¬éƒ½å°†ä»é˜Ÿåˆ—ä¸­è·å–æ¶ˆæ¯ã€‚è¿™æ—¶å€™éœ€è¦æ‰“å¼€ä¸‰ä¸ªæ§åˆ¶å°ã€‚å…¶ä¸­ä¸¤ä¸ªè¿è¡Œworker.goè„šæœ¬ã€‚è¿™äº›æ§åˆ¶å°å°†æˆä¸ºæˆ‘ä»¬çš„ä¸¤ä¸ªæ¶ˆè´¹è€…â€“C1å’ŒC2ã€‚ åœ¨ç¬¬ä¸‰ä¸ªæ§åˆ¶å°ä¸­ï¼Œæˆ‘ä»¬å°†å‘å¸ƒæ–°ä»»åŠ¡ã€‚å¯åŠ¨æ¶ˆè´¹è€…ä¹‹åï¼Œå¯ä»¥å‘å¸ƒä¸€äº›æ¶ˆæ¯ ä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨C1å’ŒC2ä¸¤ä¸ªçª—å£çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºç»“æœï¼š é»˜è®¤æƒ…å†µä¸‹ï¼ŒRabbitMQå°†æŒ‰é¡ºåºå°†æ¯ä¸ªæ¶ˆæ¯å‘é€ç»™ä¸‹ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚å¹³å‡è€Œè¨€ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šæ”¶åˆ°ç›¸åŒæ•°é‡çš„æ¶ˆæ¯ã€‚è¿™ç§åˆ†å‘æ¶ˆæ¯çš„æ–¹å¼æˆä¸ºè½®è¯¢ã€‚å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªæˆ–è€…å¤šä¸ªworkerè¯•ä¸€ä¸‹ã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:2","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"æ¶ˆæ¯ç¡®è®¤ workå®Œæˆä»»åŠ¡å¯èƒ½éœ€è¦è€—è´¹å‡ ç§’é’Ÿï¼Œå¦‚æœä¸€ä¸ªworkeråœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å®•æœºäº†è¯¥æ€ä¹ˆåŠï¼Ÿåœ¨å½“å‰ä»£ç ä¸­RabbitMQä¸€æ—¦å‘æ¶ˆè´¹è€…ä¼ é€’äº†ä¸€æ¡æ¶ˆæ¯ï¼Œä¾¿ç«‹å³å°†å…¶æ ‡è®°ä¸ºåˆ é™¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½ ç»ˆæ­¢ä¸€ä¸ªworkeré‚£ä¹ˆä½ å°±å¯èƒ½ä¼šä¸¢å¤±è¿™ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬è¿˜å°†ä¸¢å¤±æ‰€æœ‰å·²ç»äº¤ä»˜ç»™è¿™ä¸ªworkerçš„å°šæœªå¤„ç†çš„æ¶ˆæ¯ã€‚ æˆ‘ä»¬ä¸æƒ³ä¸¢å¤±ä»»ä½•ä»»åŠ¡ï¼Œå¦‚æœä¸€ä¸ªworkeræ„å¤–å®•æœºäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›å°†ä»»åŠ¡äº¤ä»˜ç»™å…¶ä»–workeræ¥å¤„ç† ä¸ºäº†ç¡®ä¿æ¶ˆæ¯æ°¸ä¸ä¸¢å¤±ï¼ŒRabbitMQæ”¯æŒæ¶ˆæ¯ç¡®è®¤ã€‚æ¶ˆè´¹è€…è¿”å›ä¸€ä¸ªç¡®è®¤(acknowledgement)ï¼Œä»¥å‘ŠçŸ¥RabbitMQå·²ç»æ¥æ”¶ï¼Œå¤„ç†äº†ç‰¹å®šçš„æ¶ˆæ¯ï¼Œå¹¶ä¸”RabbitMQå¯ä»¥è‡ªç”±åˆ é™¤å®ƒã€‚ å¦‚æœä½¿ç”¨è€…åœ¨ä¸å‘é€ç¡®è®¤çš„æƒ…å†µä¸‹æ­»äº¡(å…¶é€šé“å·²å…³é—­ï¼Œè¿æ¥å·²å…³é—­æˆ–TCPè¿æ¥ä¸¢å¤±)ï¼ŒRabbitMQå°†äº†è§£æ¶ˆæ¯æœªå®Œå…¨å¤„ç†ï¼Œå¹¶å°†å¯¹å…¶é‡æ–°æ’é˜Ÿã€‚å¦‚æœåŒæ—¶æœ‰å…¶ä»–æ¶ˆè´¹è€…åœ¨çº¿ï¼Œå®ƒå°†å¾ˆå¿«å°†å…¶é‡æ–°åˆ†å‘ç»™å¦ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥ç¡®ä¿å³ä½¿å·¥äººå¶å°”æ­»äº¡ä¹Ÿä¸ä¼šä¸¢å¤±ä»»ä½•æ¶ˆæ¯ã€‚ æ²¡æœ‰ä»»ä½•æ¶ˆæ¯è¶…æ—¶ï¼ŒRabbitMQå°†åœ¨æ¶ˆè´¹è€…æ­»äº¡æ—¶é‡æ–°ä¼ é€’æ¶ˆæ¯ã€‚å³ä½¿å¤„ç†ä¸€æ¡æ¶ˆæ¯è¦å¾ˆé•¿æ—¶é—´ä¹Ÿæ²¡å…³ç³»ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ‰‹åŠ¨æ¶ˆæ¯ç¡®è®¤ï¼Œæ–¹æ³•æ˜¯ä¸ºâ€œauto-ackâ€å‚æ•°ä¼ é€’ä¸€ä¸ªfalseï¼Œç„¶ååœ¨å®Œæˆä»»åŠ¡åï¼Œä½¿ç”¨d.Ack(false)ä»workerå‘é€ä¸€ä¸ªæ­£ç¡®çš„ç¡®è®¤(è¿™å°†ç¡®è®¤ä¸€æ¬¡ä¼ é€’) ä½¿ç”¨æ¶ˆæ¯ç¡®è®¤æ¨¡å¼ï¼Œå¯ä»¥ç¡®ä¿å³ä½¿ä½ åœ¨å¤„ç†æ¶ˆæ¯æ—¶ä½¿ç”¨CTRL+Cæ€æ­»ä¸€ä¸ªworkerï¼Œä¹Ÿä¸ä¼šä¸¢å¤±ä»»ä½•å†…å®¹ã€‚åœ¨workeræ­»åä¸ä¹…ï¼Œæ‰€æœ‰æœªç¡®è®¤çš„æ¶ˆæ¯éƒ½å°†è¢«é‡æ–°å‘é€ã€‚ æ¶ˆæ¯ç¡®è®¤å¿…é¡»åœ¨æ¥æ”¶æ¶ˆæ¯çš„åŒä¸€é€šé“(Channel)ä¸Šå‘é€ã€‚å°è¯•ä½¿ç”¨ä¸åŒçš„é€šé“(Channel)è¿›è¡Œæ¶ˆæ¯ç¡®è®¤å°†å¯¼è‡´é€šé“çº§åè®®å¼‚å¸¸ã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:3","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"å¿˜è®°ç¡®è®¤ å¿˜è®°ç¡®è®¤æ˜¯ä¸€ä¸ªå¸¸è§çš„é”™è¯¯ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é”™è¯¯ï¼Œä½†æ˜¯åæœå¾ˆä¸¥é‡ã€‚å½“ä½ çš„å®¢æˆ·æœºé€€å‡ºæ—¶ï¼Œæ¶ˆæ¯å°†è¢«é‡æ–°ä¼ é€’(è¿™çœ‹èµ·æ¥æƒ³éšæœºé‡æ–°ä¼ é€’)ï¼Œä½†æ˜¯RabbitMQå°†æ¶ˆè€—è¶Šæ¥è¶Šå¤šçš„å†…å­˜ï¼Œå› ä¸ºå®ƒæ— æ³•é‡Šæ”¾ä»»ä½•æœªç¡®è®¤çš„æ¶ˆæ¯ã€‚ ä¸ºäº†è°ƒè¯•è¿™ç§é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨rabbitmqctlæ‰“å°message_unacknowledgedå­—æ®µ rabbitmqctl.bat list_queues name message_ready message_unacknowed ","date":"2021-06-28","objectID":"/rabbitmq2/:1:4","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"æ¶ˆæ¯æŒä¹…åŒ– æˆ‘ä»¬å·²ç»å­¦ä¼šå¦‚ä½•ç¡®ä¿å³ä½¿æ¶ˆè´¹è€…æ­»äº¡ï¼Œä»»åŠ¡ä¹Ÿä¸ä¼šæ¶ˆå¤±ã€‚ä½†å¦‚æœRabbitMQæœåŠ¡å™¨åœæ­¢è¿è¡Œï¼Œæˆ‘ä»¬ä»»åŠ¡ä»ç„¶ä¼šä¸¢å¤±ã€‚å½“RabbitMQé€€å‡ºæˆ–å´©æºƒæ—¶ï¼Œå®ƒå°†å¿˜è®°é˜Ÿåˆ—å’Œæ¶ˆæ¯ï¼Œé™¤éä½ å‘Šè¯‰å®ƒä¸è¦è¿™æ ·åšã€‚è¦ç¡®ä¿æ•°æ®ä¸ä¸¢å¤±ï¼Œéœ€è¦åšä¸¤ä»¶äº‹ï¼Œéœ€è¦å°†æ¶ˆæ¯å’Œé˜Ÿåˆ—éƒ½æ ‡è®°ä¸ºæŒä¹…çš„ã€‚ q, err := ch.QueueDeclare( // name \"hello\", // å£°æ˜ä¸ºæŒä¹…åŒ– true, // delete when unused false, // exclusive false, // no-wait false, // arguments nil, ) è™½ç„¶è¿™ä¸ªå‘½ä»¤æœ¬èº«æ˜¯æ­£ç¡®çš„ï¼Œä½†å®ƒåœ¨æˆ‘ä»¬å½“å‰çš„è®¾ç½®ä¸­ä¸èµ·ä½œç”¨ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªåä¸ºhelloçš„é˜Ÿåˆ—ï¼Œå®ƒä¸æ˜¯æŒä¹…çš„ã€‚RabbitMQä¸å…è®¸ä½¿ç”¨ä¸åŒçš„å‚æ•°é‡æ–°å®šä¹‰ç°æœ‰é˜Ÿåˆ—ï¼Œå¹¶å°†å‘ä»»ä½•å°è¯•é‡æ–°å®šä¹‰çš„ç¨‹åºè¿”å›é”™è¯¯ã€‚ä½†æœ‰ä¸€ä¸ªå¿«é€Ÿè§£å†³æ–¹æ³•â€“å£°æ˜ä¸€ä¸ªå…·æœ‰ä¸åŒåç§°çš„é˜Ÿåˆ—ã€‚ è¿™ç§æŒä¹…çš„é€‰é¡¹æ›´æ”¹éœ€è¦åŒæ—¶åº”ç”¨äºç”Ÿäº§è€…ä»£ç å’Œæ¶ˆè´¹è€…ä»£ç ã€‚ åœ¨è¿™ä¸€ç‚¹ä¸Šæˆ‘ä»¬ç¡®ä¿¡å³ä½¿RabbitMQé‡æ–°å¯åŠ¨ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¹Ÿä¸ä¼šæ¶ˆå¤±ã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:5","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"æœ‰å…³æ¶ˆæ¯æŒä¹…æ€§çš„è¯´æ˜ å°†æ¶ˆæ¯æ ‡è®°ä¸ºæŒä¹…æ€§å¹¶ä¸èƒ½å®Œå…¨ä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚å°½ç®¡å®ƒå‘Šè¯‰RabbitMQå°†æ¶ˆæ¯ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œä½†æ˜¯RabbitMQæ¥å—äº†ä¸€æ¡æ¶ˆæ¯å¹¶ä¸”è¿˜æ²¡æœ‰ä¿å­˜å®ƒæ—¶ï¼Œä»ç„¶æœ‰ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´çª—å£ã€‚è€Œä¸”ï¼ŒRabbitMQå¹¶ä¸æ˜¯å¯¹æ¯ä¸ªæ¶ˆæ¯éƒ½æ‰§è¡Œfsync(2)â€“å®ƒå¯èƒ½åªæ˜¯ä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œè€Œä¸æ˜¯çœŸæ­£å†™å…¥ç£ç›˜ä¸­ã€‚æŒä¹…æ€§ä¿è¯ä¸æ˜¯å¾ˆå¼ºï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬çš„ç®€å•ä»»åŠ¡é˜Ÿåˆ—æ¥è¯´å·²ç»è¶³å¤Ÿäº†ã€‚å¦‚æœéœ€è¦æ›´å¼ºæœ‰åŠ›çš„æ‹…ä¿ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨publisher confirmsã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:6","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"å…¬å¹³åˆ†å‘ ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°è°ƒåº¦ä»ç„¶ä¸èƒ½å®Œå…¨æŒ‰ç…§æˆ‘ä»¬çš„è¦æ±‚å·¥ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæœ‰ä¸¤ä¸ªworkerçš„æƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰çš„å¥‡æ•°æ¶ˆæ¯éƒ½æ˜¯é‡æ¶ˆæ¯è€Œå¶æ•°æ¶ˆæ¯éƒ½æ˜¯è½»æ¶ˆæ¯æ—¶ï¼Œä¸€ä¸ªworkerå°†æŒç»­å¿™ç¢Œï¼Œè€Œå¦ä¸€ä¸ªworkerå‡ ä¹ä¸ç”¨åšä»»ä½•å·¥ä½œã€‚RabbitMQå¯¹æ­¤ä¸€æ— æ‰€çŸ¥ï¼Œä»ç„¶ä¼šå‡åŒ€çš„å‘é€æ¶ˆæ¯ã€‚ è¿™æ˜¯å› ä¸ºRabbitMQåªæ˜¯åœ¨æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—æ—¶å‘é€æ¶ˆæ¯ã€‚å®ƒä¸è€ƒè™‘æ¶ˆè´¹è€…åœ¨æœªç¡®è®¤æ¶ˆæ¯çš„æ•°é‡ã€‚åªæ˜¯ç›²ç›®çš„å‘æ¶ˆè´¹è€…å‘é€æ¶ˆæ¯ã€‚ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å°†é¢„è®¡æ•°è®¾ç½®ä¸º1ã€‚è¿™å‘Šè¯‰RabbitMQä¸è¦ä¸€æ¬¡å‘ä¸€ä¸ªworkerå‘å‡ºå¤šä¸ªæ¶ˆæ¯ã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œåœ¨å¤„ç†å¹¶ç¡®è®¤å‰ä¸€æ¡æ¶ˆæ¯å‰ï¼Œä¸è¦å‘workerå‘é€ä»»ä½•æ¶ˆæ¯ã€‚ç›¸åï¼Œå®ƒå°†æŠŠå®ƒå‘é€ç»™ä¸‹ä¸€ä¸ªä¸å¿™çš„workerã€‚ err = ch.Qos( // prefetch count 1, // prefetch size 0, // global false, ) ","date":"2021-06-28","objectID":"/rabbitmq2/:1:7","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"å…³äºé˜Ÿåˆ—çš„å¤§å°è¯´æ˜ å¦‚æœæ‰€æœ‰çš„workeréƒ½å¾ˆå¿™ï¼Œä½ çš„queueéšæ—¶å¯èƒ½ä¼šæ»¡ã€‚ä½ ä¼šæƒ³ç»§ç»­å…³æ³¨è¿™ä¸€ç‚¹ï¼Œä¹Ÿè®¸éœ€è¦å¢åŠ æ›´å¤šçš„workerï¼Œæˆ–è€…æœ‰ä¸€äº›å…¶ä»–çš„ç­–ç•¥ã€‚ ","date":"2021-06-28","objectID":"/rabbitmq2/:1:8","tags":["RabbitMQ"],"title":"RabbitMQ2","uri":"/rabbitmq2/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€1","date":"2021-06-23","objectID":"/rabbitmq1/","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"å…ˆå†³æ¡ä»¶ æœ¬æ•™ç¨‹å‡è®¾RabbitMQå·²å®‰è£…å¹¶è¿è¡Œåœ¨æœ¬æœºä¸Šçš„æ ‡å‡†ç«¯å£(5672)ã€‚å¦‚æœä½ ä½¿ç”¨ä¸åŒçš„ä¸»æœºã€ç«¯å£æˆ–å‡­æ®ï¼Œåˆ™éœ€è¦è°ƒæ•´è¿æ¥è®¾ç½® ","date":"2021-06-23","objectID":"/rabbitmq1/:1:0","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"RabbitMQ Goè¯­è¨€å®¢æˆ·ç«¯æ•™ç¨‹(ä¸€) ","date":"2021-06-23","objectID":"/rabbitmq1/:2:0","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"ä»‹ç» RabbitMQæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†ï¼šå®ƒæ¥å—å¹¶è½¬å‘æ¶ˆæ¯ã€‚å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªé‚®å±€ï¼šå½“ä½ æŠŠä½ æƒ³è¦é‚®å¯„çš„é‚®ä»¶æ”¾è¿›ä¸€ä¸ªé‚®ç®±æ—¶ï¼Œä½ å¯ä»¥ç¡®å®šé‚®å·®å…ˆç”Ÿæˆ–å¥³å£«æœ€ç»ˆä¼šæŠŠé‚®ä»¶é€åˆ°ä½ çš„æ”¶ä»¶äººé‚£é‡Œã€‚åœ¨è¿™ä¸ªæ¯”å–»ä¸­ï¼ŒRabbitMQæ˜¯ä¸€ä¸ªé‚®ç®±ã€ä¸€ä¸ªé‚®å±€å’Œä¸€ä¸ªé‚®é€’å‘˜ã€‚ RabbitMQå’Œé‚®å±€çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä¸å¤„ç†çº¸å¼ ï¼Œè€Œæ˜¯æ¥å—ã€å­˜å‚¨å’Œè½¬å‘äºŒè¿›åˆ¶æ•°æ®å—â€“æ¶ˆæ¯ RabbitMQå’Œä¸€èˆ¬çš„æ¶ˆæ¯ä¼ é€’éƒ½ä½¿ç”¨ä¸€äº›æœ¯è¯­ ç”Ÿäº§è€…æ„å‘³ç€å‘é€ã€‚å‘é€æ¶ˆæ¯çš„ç¨‹åºæ˜¯ç”Ÿäº§è€… é˜Ÿåˆ—æ˜¯ä½äºRabbitMQå†…éƒ¨çš„é‚®ç®±çš„åç§°ã€‚å°½ç®¡æ¶ˆæ¯é€šè¿‡RabbitMQå’Œä½ çš„åº”ç”¨ç¨‹åºæµåŠ¨ï¼Œä½†å®ƒä»¬åªèƒ½å­˜å‚¨åœ¨é˜Ÿåˆ—ä¸­ã€‚é˜Ÿåˆ—åªå—ä¸»æœºå†…å­˜å’Œç£ç›˜é™åˆ¶çš„é™åˆ¶ï¼Œå®é™…ä¸Šå®ƒæ˜¯ä¸€ä¸ªå¤§çš„æ¶ˆæ¯ç¼“å†²åŒºã€‚è®¸å¤šç”Ÿäº§è€…å¯ä»¥å‘ä¸€ä¸ªé˜Ÿåˆ—å‘é€æ¶ˆæ¯ï¼Œè€Œè®¸å¤šæ¶ˆè´¹è€…å¯ä»¥å°è¯•ä»ä¸€ä¸ªé˜Ÿåˆ—æ¥æ”¶æ•°æ® æ¶ˆè´¹å’Œæ¥æ”¶å…·æœ‰ç›¸ä¼¼çš„å«ä¹‰ã€‚æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªä¸»è¦ç­‰å¾…æ¥æ”¶æ¶ˆæ¯çš„ç¨‹åº è¯·æ³¨æ„ç”Ÿäº§è€…ï¼Œæ¶ˆè´¹è€…å’Œä»£ç†(broker)ä¸å¿…ä½äºåŒä¸€ä¸»æœºä¸Šã€‚å®é™…ä¸Šï¼Œåœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸Šå®ƒä»¬ä¸æ˜¯ã€‚ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¢å¯ä»¥æ˜¯ç”Ÿäº§è€…ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¶ˆè´¹è€…ã€‚ ","date":"2021-06-23","objectID":"/rabbitmq1/:2:1","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"â€œHello Worldâ€ åœ¨æœ¬æ•™ç¨‹çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨Goä¸­ç¼–å†™ä¸¤ä¸ªå°ç¨‹åºï¼šå‘é€å•ä¸ªæ¶ˆæ¯çš„ç”Ÿäº§è€…å’Œæ¥æ”¶æ¶ˆæ¯å¹¶å°†å…¶æ‰“å°å‡ºæ¥çš„æ¶ˆè´¹è€…ã€‚æˆ‘ä»¬å°†å¿½ç•¥Go-RabbitMQ APIä¸­çš„ä¸€äº›ç»†èŠ‚ï¼Œåªå…³æ³¨éå¸¸ç®€å•çš„äº‹æƒ…ï¼Œä»¥ä¾¿å¼€å§‹æ•™ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€ç‰ˆçš„â€œHello Worldâ€ã€‚ ","date":"2021-06-23","objectID":"/rabbitmq1/:3:0","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"å‘é€ æˆ‘ä»¬å°†æ¶ˆæ¯å‘å¸ƒè€…ï¼ˆå‘é€è€…ï¼‰æˆä¸ºsend.goï¼Œå°†æ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆæ¥æ”¶è€…ï¼‰ç§°ä¸ºreceive.goã€‚å‘å¸ƒè€…å°†è¿æ¥åˆ°RabbitMQï¼Œå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œç„¶åé€€å‡º åœ¨send.goä¸­ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆå¯¼å…¥åº“ï¼š package main import ( \"log\" \"github.com/streadway/amqp\" ) æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥æ£€æŸ¥æ¯ä¸ªamqpè°ƒç”¨çš„è¿”å›å€¼ func failOnError(err error, msg string) { if err != nil { log.Fatalf(\"%s: %s\", msg, err) } } ç„¶åè¿æ¥åˆ°RabbitMQæœåŠ¡å™¨ // 1. å°è¯•è¿æ¥RabbitMQï¼Œå»ºç«‹è¿æ¥ // è¯¥è¿æ¥æŠ½è±¡äº†å¥—æ¥å­—è¿æ¥ï¼Œå¹¶ä¸ºæˆ‘ä»¬å¤„ç†åè®®ç‰ˆæœ¬åå•†å’Œè®¤è¯ç­‰ conn, err := amqp.Dial(\"amqp://guest:guest@localhost:5672/\") failOnError(err, \"Failed to connect to RabbitMQ\") defer conn.Close() è¿æ¥æŠ½è±¡äº†socketè¿æ¥ï¼Œå¹¶ä¸ºæˆ‘ä»¬å¤„ç†åè®®ç‰ˆæœ¬åå•†å’Œè®¤è¯ç­‰ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé€šé“ï¼Œè¿™æ˜¯å¤§å¤šæ•°ç”¨äºå®Œæˆä»»åŠ¡çš„APIæ‰€åœ¨çš„ä½ç½®ï¼š // 2. æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé€šé“ï¼Œå¤§å¤šæ•°APIéƒ½æ˜¯ç”¨è¿‡è¯¥é€šé“æ“ä½œçš„ ch, err := conn.Channel() failOnError(err, \"Failed to open a channel\") defer ch.Close() è¦å‘é€ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜è¦å‘é€åˆ°çš„é˜Ÿåˆ—ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥å°†æ¶ˆæ¯å‘å¸ƒåˆ°é˜Ÿåˆ—ï¼š // 3. å£°æ˜æ¶ˆæ¯è¦å‘å¸ƒåˆ°çš„é˜Ÿåˆ— q, err := ch.QueueDeclare( // name \"hello\", // durable false, // delete when unused false, // exclusive false, // no-wait false, // arguments nil ) failOnError(err, \"Failed to declare a queue\") body := \"hello world\" // å°†æ¶ˆæ¯å‘å¸ƒåˆ°å£°æ˜çš„é˜Ÿåˆ— err = ch.Publish( // exchange \"\", // routing key q.Name, // mandatory false, // immediate false amqp.Publishing { ContentType: \"text/plain\", Body: []byte(body), } ) failOnError(err, \"Failed to publish a message\") å£°æ˜é˜Ÿåˆ—æ˜¯å¹‚ç­‰çš„â€“ä»…å½“é˜Ÿåˆ—ä¸å­˜åœ¨æ—¶æ‰åˆ›å»ºã€‚æ¶ˆæ¯å†…å®¹æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå› æ­¤ä½ å¯ä»¥åœ¨æ­¤å¤„ç¼–ç ä»»ä½•å†…å®¹ã€‚ ","date":"2021-06-23","objectID":"/rabbitmq1/:3:1","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"æ¥æ”¶ ä¸Šé¢æ˜¯æˆ‘ä»¬çš„å‘å¸ƒè€…ã€‚æˆ‘ä»¬çš„æ¶ˆè´¹è€…ç›‘å¬æ¥è‡ªRabbitMQçš„æ¶ˆæ¯ï¼Œå› æ­¤ä¸å‘å¸ƒå•ä¸ªæ¶ˆæ¯çš„å‘å¸ƒè€…ä¸åŒï¼Œæˆ‘ä»¬å°†ä½¿æ¶ˆè´¹è€…ä¿æŒè¿è¡ŒçŠ¶æ€ä»¥ç›‘å¬æ¶ˆæ¯å¹¶æ‰“å°å‡ºæ¥ã€‚ è¯¥ä»£ç (åœ¨receive.goä¸­)å…·æœ‰ä¸sendç›¸åŒçš„å¯¼å…¥å’Œå¸®åŠ©åŠŸèƒ½ï¼š package main import ( \"github.com/streadway/amqp\" \"log\" ) func failOnErrorReceive(err error, msg string) { if err != nil { log.Fatalf(\"%s: %s\", err, msg) } } è®¾ç½®ä¸å‘å¸ƒè€…ç›¸åŒï¼›æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªè¿æ¥å’Œä¸€ä¸ªé€šé“ï¼Œå¹¶å£°æ˜è¦æ¶ˆè€—çš„é˜Ÿåˆ—ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸sendå‘å¸ƒåˆ°çš„é˜Ÿåˆ—åŒ¹é… //å»ºç«‹è¿æ¥ conn, err := amqp.Dial(\"amqp://guest:guest@localhost:5672/\") failOnErrorReceive(err, \"Failed to connect to RabbitMQ\") defer conn.Close() //è·å–channel ch, err := conn.Channel() failOnErrorReceive(err, \"Failed to open a channel\") defer ch.Close() //å£°æ˜é˜Ÿåˆ— q, err := ch.QueueDeclare( \"hello\", false, false, false, false, nil, ) failOnErrorReceive(err, \"Failed to declare a queue\") è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨è¿™é‡Œå£°æ˜é˜Ÿåˆ—ã€‚å› ä¸ºæˆ‘ä»¬å¯èƒ½å†åœ¨å‘å¸ƒè€…ä¹‹å‰å¯åŠ¨ä½¿ç”¨è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›åœ¨å°è¯•ä½¿ç”¨é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä¹‹å‰ç¡®ä¿é˜Ÿåˆ—å­˜åœ¨ã€‚ æˆ‘ä»¬å°†å‘Šè¯‰æœåŠ¡å™¨å°†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä¼ é€’ç»™æˆ‘ä»¬ã€‚ç”±äºå®ƒå°†å¼‚æ­¥åœ°å‘æˆ‘ä»¬å‘é€æ¶ˆæ¯ï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨goroutineä¸­ä»é€šé“(ç”±amqp::Consumeè¿”å›)ä¸­è¯»å–æ¶ˆæ¯ã€‚ //è·å–æ¥æ”¶æ¶ˆæ¯çš„Deliveryé€šé“ msgs, err := ch.Consume( q.Name, \"\", true, false, false, false, nil, ) failOnErrorReceive(err, \"Failed to register a consumer\") forever := make(chan bool) go func() { for d := range msgs { log.Printf(\"Received a message: %s\", d.Body) } }() log.Printf(\" [*] Waiting for message. To exit press CTRL+C\") \u003c-forever ","date":"2021-06-23","objectID":"/rabbitmq1/:3:2","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"å®Œæ•´ç¤ºä¾‹ ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸¤ä¸ªè„šæœ¬ã€‚åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œè¿è¡Œå‘å¸ƒè€…ï¼š go run send.go ç„¶åè¿è¡Œä½¿ç”¨è€… go run receive.go æ¶ˆè´¹è€…å°†æ‰“å°é€šè¿‡RabbitMQä»å‘å¸ƒè€…é‚£é‡Œå¾—åˆ°çš„æ¶ˆæ¯ã€‚ä½¿ç”¨è€…å°†æŒç»­è¿è¡Œï¼Œç­‰å¾…æ¶ˆæ¯(ä½¿ç”¨Ctrl+Cåœæ­¢å®ƒ)ï¼Œå› æ­¤è¯·å°è¯•ä»å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œå‘å¸ƒè€…ã€‚ å¦‚æœè¦æ£€æŸ¥é˜Ÿåˆ—ï¼Œè¯·å°è¯•ä½¿ç”¨rabbitmqctl list_queueså‘½ä»¤ ","date":"2021-06-23","objectID":"/rabbitmq1/:3:3","tags":["RabbitMQ"],"title":"RabbitMQ1","uri":"/rabbitmq1/"},{"categories":["å­¦ä¹ "],"content":"Goæ€§èƒ½è°ƒä¼˜","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"Goæ€§èƒ½ä¼˜åŒ– Goè¯­è¨€é¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ CPU profileï¼šæŠ¥å‘Šç¨‹åºçš„CPUä½¿ç”¨æƒ…å†µï¼ŒæŒ‰ç…§ä¸€å®šé¢‘ç‡å»é‡‡é›†åº”ç”¨ç¨‹åºåœ¨CPUå’Œå¯„å­˜å™¨ä¸Šé¢çš„æ•°æ® Memory Profile (Heap Profile)ï¼šæŠ¥å‘Šç¨‹åºçš„å†…å­˜ä½¿ç”¨æƒ…å†µ Block Profilingï¼šæŠ¥å‘Šgoroutineä¸åœ¨è¿è¡Œæ—¶çŠ¶æ€çš„æƒ…å†µï¼Œå¯ä»¥ç”¨æ¥åˆ†æå’ŒæŸ¥æ‰¾æ­»é”ç­‰æ€§èƒ½ç“¶é¢ˆ Goroutine Profilingï¼šæŠ¥å‘Šgoroutinesçš„ä½¿ç”¨æƒ…å†µï¼Œæœ‰å“ªäº›goroutineï¼Œå®ƒä»¬çš„è°ƒç”¨å…³ç³»æ˜¯æ€æ ·çš„ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:1:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"é‡‡é›†æ€§èƒ½æ•°æ® Goè¯­è¨€å†…ç½®äº†è·å–ç¨‹åºè¿è¡Œæ•°æ®çš„å·¥å…·ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸¤ä¸ªæ ‡å‡†åº“ï¼š runtime/pprofï¼šé‡‡é›†å·¥å…·å‹åº”ç”¨è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ net/http/pprofï¼šé‡‡é›†æœåŠ¡å‹åº”ç”¨è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ pprofå¼€å¯åï¼Œæ¯ä¸ªä¸€æ®µæ—¶é—´(10ms)å°±ä¼šæ”¶é›†ä¸‹å½“å‰çš„å †æ ˆä¿¡æ¯ï¼Œè·å–å„ä¸ªå‡½æ•°å ç”¨çš„CPUä»¥åŠå†…å­˜èµ„æºï¼›æœ€åé€šè¿‡å¯¹è¿™äº›é‡‡æ ·æ•°æ®è¿›è¡Œåˆ†æï¼Œå½¢æˆä¸€ä¸ªæ€§èƒ½åˆ†ææŠ¥å‘Šã€‚ æ³¨æ„ï¼Œæˆ‘ä»¬åªåº”è¯¥åœ¨æ€§èƒ½æµ‹è¯•çš„æ—¶å€™æ‰åœ¨ä»£ç ä¸­å¼•å…¥pprof ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:2:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å·¥å…·å‹åº”ç”¨ å¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ˜¯è¿è¡Œä¸€æ®µæ—¶é—´å°±é€€å‡ºç±»å‹ã€‚é‚£ä¹ˆæœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨åº”ç”¨é€€å‡ºçš„æ—¶å€™æŠŠprofilingçš„æŠ¥å‘Šä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œè¿›è¡Œåˆ†æã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨runtime/pprofåº“ã€‚é¦–å…ˆåœ¨ä»£ç ä¸­å¯¼å…¥runtime/pprofå·¥å…·ï¼š import \"runtime/pprof\" ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:3:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"CPUæ€§èƒ½åˆ†æ å¼€å¯CPUæ€§èƒ½åˆ†æ pprof.StartCPUProfile(w io.Writer) åœæ­¢CPUæ€§èƒ½åˆ†æ pprof.StopCPUProfile() åº”ç”¨æ‰§è¡Œç»“æŸåï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†æˆ‘ä»¬çš„CPU profilingæ•°æ®ã€‚å¾—åˆ°é‡‡æ ·æ•°æ®ä¹‹åï¼Œä½¿ç”¨go tool pprofå·¥å…·è¿›è¡ŒCPUæ€§èƒ½åˆ†æ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:3:1","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å†…å­˜æ€§èƒ½ä¼˜åŒ– è®°å½•ç¨‹åºçš„å †æ ˆä¿¡æ¯ pprof.WriteHeapProfile(w io.Writer) å¾—åˆ°é‡‡æ ·æ•°æ®ä¹‹åï¼Œä½¿ç”¨go tool pprofå·¥å…·è¿›è¡Œå†…å­˜æ€§èƒ½åˆ†æã€‚ go tool pprofé»˜è®¤æ˜¯ä½¿ç”¨-inuse_spaceè¿›è¡Œç»Ÿè®¡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨-inuse-objectsæŸ¥çœ‹åˆ†é…å¯¹è±¡çš„æ•°é‡ã€‚ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:4:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"æœåŠ¡å‹åº”ç”¨ å¦‚æœä½ çš„ç¨‹åºæ˜¯ä¸€ç›´è¿è¡Œçš„ï¼Œæ¯”å¦‚webåº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨net/http/pprofåº“ï¼Œå®ƒèƒ½å¤Ÿåœ¨æä¾›HTTPæœåŠ¡è¿›è¡Œåˆ†æã€‚å¦‚æœä½¿ç”¨äº†é»˜è®¤çš„http.DefaultServeMux(é€šå¸¸æ˜¯ä»£ç ç›´æ¥ç”¨http.ListenAndServe(â€œ0.0.0.0:8000â€, nil))ï¼Œåªéœ€è¦åœ¨ä½ çš„web serverç«¯ä»£ç ä¸­æŒ‰å¦‚ä¸‹æ–¹å¼å¯¼å…¥net/http/pprof import _ \"net/http/pprof\" å¦‚æœä½¿ç”¨è‡ªå®šä¹‰çš„Muxï¼Œåˆ™éœ€è¦æ‰‹åŠ¨æ³¨å†Œä¸€äº›è·¯ç”±è§„åˆ™ r.HandleFunc(\"/debug/pprof/\", pprof.Index) r.HandleFunc(\"/debug/pprof/cmdline\", pprof.Cmdline) r.HandleFunc(\"/debug/pprof/profile\", pprof.Profile) r.HandleFunc(\"/debug/pprof/symbol\", pprof.Symbol) r.HandleFunc(\"/debug/pprof/trace\", pprof.Trace) å¦‚æœä½¿ç”¨çš„æ˜¯ginæ¡†æ¶ï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨github.com/gin-contrib/pprofï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ³¨å†Œpprofç›¸å…³è·¯ç”± pprof.Register(router) ä¸ç®¡å“ªç§æ–¹å¼ï¼Œä½ çš„HTTPæœåŠ¡éƒ½ä¼šå¤šå‡º/debug/pprof endpoint,å¯ä»¥é€šè¿‡(0.0.0.0:8080/debug/pprof)è¿›è¡Œè®¿é—® è¿™ä¸ªè·¯å¾„ä¸‹è¿˜æœ‰å‡ ä¸ªå­é¡µé¢ï¼š /debug/pprof/profileï¼šè®¿é—®è¿™ä¸ªé“¾æ¥ä¼šè‡ªåŠ¨è¿›è¡ŒCPU profilingï¼ŒæŒç»­30sï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ä¾›ä¸‹è½½ /debug/pprof/heapï¼šMemory Profilingçš„è·¯å¾„ï¼Œè®¿é—®è¿™ä¸ªé“¾æ¥ä¼šå¾—åˆ°ä¸€ä¸ªå†…å­˜Profilingç»“æœçš„æ–‡ä»¶ /debug/pprof/blockï¼šblock Profilingçš„è·¯å¾„ /debug/pprof/goroutinesï¼šè¿è¡Œçš„goroutinesåˆ—è¡¨ï¼Œä»¥åŠè°ƒç”¨å…³ç³» ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:5:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"go tool pprofå‘½ä»¤ ä¸ç®¡æ˜¯å·¥å…·å‹è¿˜æ˜¯æœåŠ¡å‹åº”ç”¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸åº”çš„pprofåº“è·å–æ•°æ®ä¹‹åï¼Œä¸‹ä¸€æ­¥çš„éƒ½è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨go tool pprofå‘½ä»¤è¡Œå·¥å…·ã€‚ go tool pprofæœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼ä¸ºï¼š go tool pprof [binary] [source] å…¶ä¸­ï¼š binaryæ˜¯åº”ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯ä»¥è§£æå„ç§ç¬¦å· sourceè¡¨ç¤ºprofileæ•°æ®çš„æ¥æºï¼Œå¯ä»¥æ˜¯æœ¬åœ°çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯httpåœ°å€ æ³¨æ„äº‹é¡¹ï¼šè·å–çš„Profilingæ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œè¦æƒ³è·å¾—æœ‰æ•ˆçš„æ•°æ®ï¼Œè¯·ä¿è¯åº”ç”¨å¤„äºè¾ƒå¤§çš„è´Ÿè½½(æ¯”å¦‚æ­£åœ¨ç”Ÿæˆä¸­è¿è¡Œçš„æœåŠ¡ï¼Œæˆ–è€…é€šè¿‡å…¶ä»–å·¥å…·æ¨¡æ‹Ÿè®¿é—®å‹åŠ›)ã€‚å¦åˆ™å¦‚æœåº”ç”¨å¤„äºç©ºé—²çŠ¶æ€ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:6:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å…·ä½“ç¤ºä¾‹ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:7:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"go-torchå’Œç«ç„°å›¾ ç«ç„°å›¾(Flame Graph)æ˜¯Bredan Greggåˆ›å»ºçš„ä¸€ç§æ€§èƒ½åˆ†æè¡¨å›¾ï¼Œå› ä¸ºå®ƒçš„æ ·å­è¿‘ä¼¼ç«ç„°è€Œå¾—åã€‚ä¸Šé¢çš„profilingç»“æœä¹Ÿè½¬æ¢æˆç«ç„°å›¾ï¼Œå¦‚æœå¯¹ç«ç„°å›¾æ¯”è¾ƒäº†è§£å¯ä»¥æ‰‹åŠ¨æ¥æ“ä½œï¼Œä¸è¿‡è¿™é‡Œæˆ‘ä»¬è¦ä»‹ç»ä¸€ä¸ªå·¥å…·ï¼šgo-torchã€‚è¿™æ˜¯Uberå¼€æºçš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥ç›´æ¥è¯»å–golang profilingæ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªç«ç„°å›¾çš„svgæ–‡ä»¶ ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:8:0","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å®‰è£…go-torch go get -v githug.com/uber/go-torch ç«ç„°å›¾svgæ–‡ä»¶å¯ä»¥é€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œå®ƒå¯¹è°ƒç”¨å›¾çš„æœ€å¤§ä¼˜ç‚¹æ˜¯å®ƒæ˜¯åŠ¨æ€çš„ï¼šå¯ä»¥é€šè¿‡ç‚¹å‡»æ¯ä¸ªæ–¹å—æ¥zoom inåˆ†æå®ƒä¸Šé¢çš„å†…å®¹ã€‚ ç«ç„°å›¾çš„è°ƒç”¨é¡ºåºä»ä¸‹åˆ°ä¸Šï¼Œæ¯ä¸ªæ–¹å—ä»£è¡¨ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¸Šé¢ä¸€å±‚è¡¨ç¤ºè¿™ä¸ªå‡½æ•°ä¼šè°ƒç”¨å“ªäº›å‡½æ•°ï¼Œæ–¹å—çš„å¤§å°ä»£è¡¨äº†å ç”¨CPUä½¿ç”¨çš„é•¿çŸ­ã€‚ç«ç„°å›¾çš„é…è‰²å¹¶æ²¡æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼Œé»˜è®¤çš„çº¢ã€é»„é…è‰²æ˜¯ä¸ºäº†æ›´åƒç«ç„°è€Œå·²ã€‚ go-torchå·¥å…·çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•å‚æ•°çš„è¯ï¼Œå®ƒä¼šå°è¯•ä»http://localhost:8080/debug/pprof/profileè·å–profilingæ•°æ®ã€‚å®ƒæœ‰ä¸‰ä¸ªå¸¸ç”¨çš„å‚æ•°å¯ä»¥è°ƒæ•´ï¼š -u -urlï¼šè¦è®¿é—®çš„URLï¼Œè¿™é‡Œåªæ˜¯ä¸»æœºå’Œç«¯å£éƒ¨åˆ† -s -suffixï¼špprof profileçš„è·¯å¾„ï¼Œé»˜è®¤ä¸º/debug/pprof/profile -secondsï¼šè¦æ‰§è¡Œprofilingçš„æ—¶é—´é•¿åº¦ï¼Œé»˜è®¤ä¸º30s ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:8:1","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å®‰è£…FlameGraph è¦ç”Ÿæˆç«ç„°å›¾ï¼Œéœ€è¦äº‹å…ˆå®‰è£…FlameGraphå·¥å…·ï¼Œè¿™ä¸ªå·¥å…·å®‰è£…å¾ˆç®€å•(éœ€è¦perlç¯å¢ƒæ”¯æŒ)ï¼Œåªè¦æŠŠå¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­å³å¯ã€‚ ä¸‹è½½å®‰è£…perlï¼šhttps://www.perl.org/get.html ä¸‹è½½FlameGraphï¼šgit clone https://github.com/brendangregg/FlameGraph.git å°†FrameGraphç›®å½•åŠ å…¥åˆ°æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ windowåªéœ€è¦æŠŠgo-torch/render/flamegraph.goæ–‡ä»¶ä¸­çš„GenerateFlameGraphæŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ï¼Œç„¶ååœ¨go-torchç›®å½•ä¸‹æ‰§è¡Œgo installå³å¯ // GenerateFlameGraph runs the flamegraph script to generate a flame graph SVG. func GenerateFlameGraph(graphInput []byte, args ...string) ([]byte, error) { flameGraph := findInPath(flameGraphScripts) if flameGraph == \"\" { return nil, errNoPerlScript } if runtime.GOOS == \"windows\" { return runScript(\"perl\", append([]string{flameGraph}, args...), graphInput) } return runScript(flameGraph, args, graphInput) } ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:8:2","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"å‹æµ‹å·¥å…· æ¨èä½¿ç”¨https://github.com/wg/wrk æˆ– https://github.com/adjust/go-wrk ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:8:3","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨go-torch ä½¿ç”¨wrkè¿›è¡Œå‹æµ‹ go-work -n 50000 http://127.0.0.1:8080/book/list åœ¨ä¸Šé¢è¿›è¡Œå‹æµ‹çš„åŒæ—¶ï¼Œæ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯æ‰§è¡Œ go-torch -u http://127.0.0.1:8080 -t 30 30ç§’ä¹‹åç»ˆç«¯å°±ä¼šå‡ºç°å¦‚ä¸‹æç¤º Writing svg to torch.svg ç„¶åæˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€torch.svgå°±èƒ½çœ‹åˆ°ç«ç„°å›¾äº† ç«ç„°å›¾çš„yè½´è¡¨ç¤ºcpuè°ƒç”¨æ–¹æ³•çš„å…ˆåï¼Œxè½´è¡¨ç¤ºåœ¨æ¯ä¸ªé‡‡æ ·è°ƒç”¨æ—¶é—´å†…ï¼Œæ–¹æ³•æ‰€å çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼Œè¶Šå®½ä»£è¡¨å æ®CPUæ—¶é—´è¶Šå¤šã€‚é€šè¿‡ç«ç„°å›¾æˆ‘ä»¬å°±å¯ä»¥æ›´æ¸…æ¥šçš„æ‰¾å‡ºè€—æ—¶é•¿çš„å‡½æ•°è°ƒç”¨ï¼Œç„¶åä¸æ–­çš„ä¿®æ­£ä»£ç ï¼Œé‡æ–°é‡‡æ ·ä¸æ–­ä¼˜åŒ–ã€‚ æ­¤å¤–è¿˜å¯ä»¥å€ŸåŠ©ç«ç„°å›¾åˆ†æå†…å­˜æ€§èƒ½æ•°æ®ï¼š go-torch -inuse_space http://127.0.0.1:8080/debug/pprof/heap go-torch -inuse_objects http://127.0.0.1:8080/debug/pprof/heap go-torch -alloc_space http://127.0.0.1:8080/debug/pprof/heap go-torch -alloc_objects http://127.0.0.1:8080/debug/pprof/heap ","date":"2021-06-13","objectID":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/:8:4","tags":["Goæ€§èƒ½è°ƒä¼˜"],"title":"Goæ€§èƒ½è°ƒä¼˜","uri":"/go%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/"},{"categories":["å­¦ä¹ "],"content":"Go context study","date":"2021-06-03","objectID":"/gocontextstudy/","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Goæ ‡å‡†åº“Context åœ¨Go httpåŒ…çš„serverä¸­ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚åœ¨éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„goroutineå»å¤„ç†ã€‚è¯·æ±‚å¤„ç†å‡½æ•°é€šå¸¸ä¼šå¯åŠ¨é¢å¤–çš„goroutineç”¨æ¥è®¿é—®åç«¯æœåŠ¡ï¼Œæ¯”å¦‚æ•°æ®åº“å’ŒRPCæœåŠ¡ã€‚ç”¨æ¥å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„goroutineé€šå¸¸éœ€è¦è®¿é—®ä¸€äº›ä¸è¯·æ±‚ç‰¹å®šçš„æ•°æ®ï¼Œæ¯”å¦‚ç»ˆç«¯ç”¨æˆ·çš„èº«ä»½è®¤è¯ä¿¡æ¯ï¼ŒéªŒè¯ç›¸å…³çš„tokenï¼Œè¯·æ±‚çš„æˆªæ­¢æ—¶é—´ã€‚å½“ä¸€ä¸ªè¯·æ±‚è¢«å–æ¶ˆæˆ–è¶…æ—¶æ—¶ï¼Œæ‰€æœ‰ç”¨æ¥å¤„ç†è¯¥è¯·æ±‚çš„goroutineéƒ½åº”è¯¥è¿…é€Ÿé€€å‡ºï¼Œç„¶åç³»ç»Ÿæ‰èƒ½é‡Šæ”¾è¿™äº›goroutineå ç”¨çš„èµ„æºã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:1:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆéœ€è¦Context ","date":"2021-06-03","objectID":"/gocontextstudy/:2:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬ç¤ºä¾‹ package main import ( \"fmt\" \"sync\" \"time\" ) var wg sync.WaitGroup // åˆå§‹çš„ä¾‹å­ func work() { for { fmt.Println(\"worker\") time.Sleep(time.Second) } // å¦‚ä½•æ¥æ”¶å¤–éƒ¨å‘½ä»¤å®ç°é€€å‡º wg.Done() } func main() { wg.Add(1) go work() // å¦‚ä½•ä¼˜é›…çš„å®ç°ç»“æŸå­goroutine wg.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:2:1","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"å…¨å±€å˜é‡æ–¹å¼ package main import ( \"fmt\" \"sync\" \"time\" ) //å…¨å±€å˜é‡æ–¹å¼å­˜åœ¨çš„é—®é¢˜ï¼š //1.ä½¿ç”¨å…¨å±€å˜é‡åœ¨è·¨åŒ…è°ƒç”¨æ—¶ä¸å®¹æ˜“ç»Ÿä¸€ //2.å¦‚æœåœ¨workerä¸­å†å¯åŠ¨goroutineï¼Œå°±ä¸å¤ªå¥½æ§åˆ¶äº† var wg2 sync.WaitGroup var exit bool func work2() { for { fmt.Println(\"work\") time.Sleep(time.Second) if exit { break } } wg2.Done() } func main() { wg2.Add(1) go work2() //sleep3ç§’é¿å…ç¨‹åºè¿‡æ—©é€€å‡º time.Sleep(time.Second * 3) //ä¿®æ”¹å…¨å±€å˜é‡å®ç°å­goroutineçš„é€€å‡º exit = true wg2.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:2:2","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"é€šé“æ–¹å¼ package main import ( \"fmt\" \"sync\" \"time\" ) var wg sync.WaitGroup //ç®¡é“æ–¹å¼å­˜åœ¨çš„é—®é¢˜ //1.ä½¿ç”¨å…¨å±€å˜é‡åœ¨è·¨åŒ…è°ƒç”¨æ—¶ä¸å®¹æ˜“å®ç°è§„èŒƒå’Œç»Ÿä¸€ï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªå…±åŒçš„channel func work3(exitChan chan struct{}) { LOOP: for { fmt.Println(\"work\") time.Sleep(time.Second) select { //ç­‰å¾…æ¥æ”¶ä¸Šçº§é€šçŸ¥ case \u003c- exitChan: break LOOP default: } } wg.Done() } func main() { wg.Add(1) exitChan := make(chan struct{}) go work3(exitChan) //sleep3ç§’é¿å…ç¨‹åºè¿‡æ—©é€€å‡º time.Sleep(time.Second * 3) //ç»™å­goroutineå‘é€é€€å‡ºä¿¡å· exitChan \u003c- struct {}{} close(exitChan) wg.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:2:3","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"å®˜æ–¹ç‰ˆçš„æ–¹æ¡ˆ gopackage main import ( \"context\" \"fmt\" \"sync\" \"time\" ) var wg4 sync.WaitGroup func work4(ctx context.Context) { LOOP: for { fmt.Println(\"work4\") time.Sleep(time.Second) select { case \u003c- ctx.Done(): break LOOP default: } } wg4.Done() } func main() { wg4.Add(1) ctx, cancel := context.WithCancel(context.Background()) go work4(ctx) time.Sleep(time.Second*3) cancel() wg4.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:2:4","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"å½“å­goroutineåˆå¼€å¯å¦ä¸€ä¸ªgoroutineæ—¶ï¼Œåªéœ€å°†ctxä¼ å…¥å³å¯ package main import ( \"context\" \"fmt\" \"sync\" \"time\" ) var wg5 sync.WaitGroup func work5(ctx context.Context) { go work5_2(ctx) LOOP: for { fmt.Println(\"work5\") time.Sleep(time.Second) select { //ç­‰å¾…ä¸Šçº§é€šçŸ¥ case \u003c-ctx.Done(): break LOOP default: } } wg5.Done() } func work5_2(ctx context.Context) { LOOP: for { fmt.Println(\"work5_2\") time.Sleep(time.Second) select { //ç­‰å¾…ä¸Šçº§é€šçŸ¥ case \u003c-ctx.Done(): break LOOP default: } } } func main() { wg5.Add(1) ctx, cancel := context.WithCancel(context.Background()) go work5(ctx) time.Sleep(time.Second * 3) //é€šçŸ¥å­goroutineç»“æŸ cancel() wg5.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:2:5","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Contextåˆè¯† Go1.7åŠ å…¥äº†ä¸€ä¸ªæ–°çš„æ ‡å‡†åº“contextï¼Œå®ƒå®šä¹‰äº†Contextç±»å‹ï¼Œä¸“é—¨ç”¨æ¥ç®€åŒ–å¯¹äºå¤„ç†å•ä¸ªè¯·æ±‚çš„å¤šä¸ªgoroutineä¹‹é—´ä¸è¯·æ±‚åŸŸçš„æ•°æ®ï¼Œå–æ¶ˆä¿¡å·ã€æˆªæ­¢æ—¶é—´ç­‰ç›¸å…³æ“ä½œï¼Œè¿™äº›æ“ä½œå¯èƒ½æ¶‰åŠå¤šä¸ªAPIè°ƒç”¨ã€‚ å¯¹æœåŠ¡å™¨ä¼ å…¥çš„è¯·æ±‚åº”è¯¥åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œè€Œå¯¹æœåŠ¡å™¨çš„ä¼ å‡ºè°ƒç”¨åº”è¯¥æ¥å—ä¸Šä¸‹æ–‡ï¼Œå®ƒä»¬ä¹‹é—´çš„å‡½æ•°è°ƒç”¨é“¾å¿…é¡»ä¼ é€’ä¸Šä¸‹æ–‡ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨WithCancelã€WithDeadlineã€WithTimeoutæˆ–WithValueåˆ›å»ºæ´¾ç”Ÿçš„ä¸Šä¸‹æ–‡ã€‚å½“ä¸€ä¸ªä¸Šä¸‹æ–‡è¢«å–æ¶ˆæ—¶ï¼Œå®ƒæ´¾ç”Ÿçš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¹Ÿè¢«å–æ¶ˆã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:3:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Contextæ¥å£ context.Contextæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰äº†å››ä¸ªéœ€è¦å®ç°çš„æ–¹æ³•ã€‚å…·ä½“æ¥å£å¦‚ä¸‹ï¼š type Context interface { Deadline() (deadline time.Time, ok bool) Done() \u003c-chan struct{} Err() error Value(key interface{}) interface{} } å…¶ä¸­ï¼š Deadlineæ–¹æ³•è¿”å›éœ€è¦è¿”å›å½“å‰Contextè¢«å–æ¶ˆçš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯å®Œæˆå·¥ä½œçš„æ—¶é—´ Doneæ–¹æ³•è¿”å›éœ€è¦ä¸€ä¸ªChannelï¼Œè¿™ä¸ªChannelä¼šåœ¨å½“å‰å·¥ä½œå®Œæˆæˆ–è€…ä¸Šä¸‹æ–‡è¢«å–æ¶ˆåå…³é—­ï¼Œå¤šæ¬¡è°ƒç”¨Doneæ–¹æ³•ä¼šè¿”å›åŒä¸€Channel Erræ–¹æ³•ä¼šè¿”å›å½“å‰Contextç»“æŸçš„åŸå› ï¼Œå®ƒåªä¼šåœ¨Doneè¿”å›çš„Channelè¢«å…³é—­æ—¶æ‰ä¼šè¿”å›éç©ºçš„å€¼ å¦‚æœå½“å‰çš„Contextè¢«å–æ¶ˆå°±ä¼šè¿”å›Canceledé”™è¯¯ å¦‚æœå½“å‰çš„Contextè¶…æ—¶å°±ä¼šè¿”å›DeadlineExceededé”™è¯¯ Valueæ–¹æ³•ä¼šä»Contextä¸­è¿”å›é”®å¯¹åº”çš„å€¼ï¼Œå¯¹äºåŒä¸€ä¸ªä¸Šä¸‹æ–‡æ¥è¯´ï¼Œå¤šæ¬¡è°ƒç”¨Valueå¹¶ä¼ å…¥ç›¸åŒçš„Keyä¼šè¿”å›ç›¸åŒçš„ç»“æœï¼Œè¯¥æ–¹æ³•ä»…ç”¨äºä¼ é€’è·¨APIå’Œè¿›ç¨‹é—´è·Ÿè¯·æ±‚åŸŸçš„æ•°æ® ","date":"2021-06-03","objectID":"/gocontextstudy/:4:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Background()å’ŒTODO() Goå†…ç½®ä¸¤ä¸ªå‡½æ•°ï¼šBackground()å’ŒTODO()ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«è¿”å›ä¸€ä¸ªå®ç°äº†Contextæ¥å£çš„backgroundå’Œtodoã€‚æˆ‘ä»¬ä»£ç ä¸­æœ€å¼€å§‹éƒ½æ˜¯ä»¥è¿™ä¸¤ä¸ªå†…ç½®çš„ä¸Šä¸‹æ–‡å¯¹è±¡ä½œä¸ºæœ€é¡¶å±‚çš„parent contextï¼Œè¡ç”Ÿå‡ºæ›´å¤šçš„å­ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ Background()ä¸»è¦ä½œç”¨äºmainå‡½æ•°ï¼Œåˆå§‹åŒ–ä»¥åŠæµ‹è¯•ä»£ç ä¸­ï¼Œä½œä¸ºContextè¿™ä¸ªæ ‘ç»“æ„æœ€é¡¶å±‚çš„Contextï¼Œä¹Ÿå°±æ˜¯æ ¹Contextã€‚ TODO()ï¼Œå®ƒç›®å‰è¿˜ä¸çŸ¥é“å…·ä½“çš„ä½¿ç”¨åœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“è¯¥ä½¿ç”¨ä»€ä¹ˆContextçš„ä½¿ç”¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªã€‚ backgroudå’Œtodoæœ¬è´¨ä¸Šéƒ½æ˜¯emptyCtxç»“æ„ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªä¸å¯å–æ¶ˆï¼Œæ²¡æœ‰è®¾ç½®æˆªæ­¢æ—¶é—´ï¼Œæ²¡æœ‰æºå¸¦ä»»ä½•å€¼çš„Contextã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:4:1","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Withç³»åˆ—å‡½æ•° æ­¤å¤–ï¼ŒcontextåŒ…ä¸­è¿˜å®šä¹‰äº†å››ä¸ªWithç³»åˆ—å‡½æ•°ã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:5:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"WithCancel WithCancelçš„å‡½æ•°å¦‚ä¸‹ï¼š func WithCancel(parent Context) (ctx Context, cancel CancelFunc) WithCancelè¿”å›å¸¦æœ‰æ–°Doneé€šé“çš„çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬ã€‚å½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æˆ–å½“å…³é—­çˆ¶ä¸Šä¸‹æ–‡çš„Doneé€šé“æ—¶ï¼Œå°†å…³é—­è¿”å›ä¸Šä¸‹æ–‡çš„Doneé€šé“ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚ å–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶å…³è”çš„èµ„æºï¼Œå› æ­¤ä»£ç åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancelã€‚ package main import ( \"context\" \"fmt\" ) func gen(ctx context.Context) \u003c- chan int { dst := make(chan int) n := 1 go func() { for { select { case \u003c-ctx.Done(): //returnç»“æŸè¯¥goroutineï¼Œé˜²æ­¢æ³„éœ² return case dst \u003c- n: n++ } } }() return dst } func main() { ctx, cancel := context.WithCancel(context.Background()) //å½“å–å®Œéœ€è¦çš„æ•´æ•°åè°ƒç”¨cancel defer cancel() for r := range gen(ctx) { fmt.Println(r) if r == 5 { break } } } ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œgenå‡½æ•°åœ¨å•ç‹¬çš„goroutineä¸­ç”Ÿæˆæ•´æ•°å¹¶å°†å®ƒä»¬å‘é€åˆ°è¿”å›çš„é€šé“ã€‚gençš„è°ƒç”¨è€…åœ¨ä½¿ç”¨ç”Ÿæˆçš„æ•´æ•°ä¹‹åéœ€è¦å–æ¶ˆä¸Šä¸‹æ–‡ï¼Œä»¥å…genå¯åŠ¨çš„å†…éƒ¨goroutineå‘ç”Ÿæ³„æ¼ã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:5:1","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"WithDeadline WithDeadlineçš„å‡½æ•°æ¥å£å¦‚ä¸‹ func WithDeadline(parent Context, d time.Time) (Context, CancelFunc) è¿”å›çˆ¶ä¸Šä¸‹æ–‡çš„å‰¯æœ¬ï¼Œå¹¶å°†dè°ƒæ•´ä¸è¿Ÿäºdeadlineã€‚å¦‚æœçˆ¶ä¸Šä¸‹æ–‡çš„då·²ç»æ—©äºdeadlineï¼Œåˆ™WithDeadline(parent, d)åœ¨è¯­ä¹‰ä¸Šç­‰åŒäºçˆ¶ä¸Šä¸‹æ–‡ã€‚å½“æˆªæ­¢æ—¥è¿‡æœŸæ—¶ï¼Œå½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æ—¶ï¼Œæˆ–è€…å½“çˆ¶ä¸Šä¸‹æ–‡çš„Doneé€šé“å…³é—­æ—¶ï¼Œè¿”å›ä¸Šä¸‹æ–‡çš„Doneé€šé“å°†è¢«å…³é—­ï¼Œä»¥æœ€å…ˆå‘ç”Ÿçš„æƒ…å†µä¸ºå‡†ã€‚ å–æ¶ˆä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶å…³è”çš„èµ„æºï¼Œå› æ­¤ä»£ç åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancelã€‚ package main import ( \"context\" \"fmt\" \"time\" ) func main() { d := time.Now().Add(time.Millisecond * 500) ctx, cancel := context.WithDeadline(context.Background(), d) defer cancel() select { case \u003c-time.After(time.Second): fmt.Println(\"overslept\") case \u003c-ctx.Done(): fmt.Println(ctx.Err()) } } ä¸Šé¢çš„ä»£ç ä¸­åˆ†ï¼Œå®šä¹‰äº†ä¸€ä¸ª500æ¯«ç§’ä¹‹åè¿‡æœŸçš„deadlineï¼Œç„¶åæˆ‘ä»¬è°ƒç”¨context.WithDeadline(context.Backgroud(), d)å¾—åˆ°ä¸€ä¸ªä¸Šä¸‹æ–‡(ctx)å’Œä¸€ä¸ªå–æ¶ˆå‡½æ•°(cancel)ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªselectè®©ä¸»ç¨‹åºé™·å…¥ç­‰å¾…ï¼šç­‰å¾…1ç§’åæ‰“å°overslepté€€å‡ºæˆ–è€…ç­‰å¾…ctxè¿‡æœŸåé€€å‡ºã€‚å› ä¸ºctx500æ¯«ç§’åå°±è¿‡æœŸäº†ï¼Œæ‰€ä»¥ctx.Done()ä¼šå…ˆæ¥æ”¶åˆ°å€¼ï¼Œä¸Šé¢ä»£ç ä¼šæ‰“å°ctx.Err()å–æ¶ˆåŸå› ã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:5:2","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"WithTimeout WithTimeoutçš„å‡½æ•°æ¥å£å¦‚ä¸‹ func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc) WithTimeoutè¿”å›WithDeadline(parent, time.Now().Add(timeout)) å–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶ç›¸å…³çš„èµ„æºï¼Œå› æ­¤ä»£ç åº”è¯¥åœ¨ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancelï¼Œé€šå¸¸ç”¨äºæ•°æ®åº“æˆ–è€…ç½‘ç»œè¿æ¥çš„è¶…æ—¶æ§åˆ¶ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š package main import ( \"context\" \"fmt\" \"sync\" \"time\" ) var wg8 sync.WaitGroup func work8(ctx context.Context) { LOOP: for { fmt.Println(\"db connect...\") //å‡è®¾æ­£å¸¸è¿æ¥æ•°æ®åº“éœ€è¦10æ¯«ç§’ time.Sleep(time.Millisecond * 10) select { //50æ¯«ç§’åè‡ªåŠ¨è°ƒç”¨ case \u003c-ctx.Done(): break LOOP default: } } fmt.Println(\"work done\") wg8.Done() } func main() { //è®¾ç½®ä¸€ä¸ª50æ¯«ç§’çš„è¶…æ—¶ ctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50) wg8.Add(1) go work8(ctx) time.Sleep(time.Second * 5) //é€šçŸ¥å­goroutineç»“æŸ cancel() wg8.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:5:3","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"WithValue WithValue å‡½æ•°èƒ½å¤Ÿå°†è¯·æ±‚ä½œç”¨åŸŸçš„æ•°æ®ä¸Contextå¯¹è±¡å»ºç«‹è”ç³»ã€‚å‡½æ•°æ¥å£å¦‚ä¸‹ï¼š func WithValue(parent Context, key, val interface{}) Context WithValueè¿”å›çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬ï¼Œå…¶ä¸­ä¸keyå…³è”çš„å€¼æ˜¯valã€‚ ä»…å¯¹APIå’Œè¿›ç¨‹ä¼ é€’è¯·æ±‚åŸŸçš„æ•°æ®ä½¿ç”¨ä¸Šä¸‹æ–‡å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å®ƒæ¥ä¼ é€’å¯é€‰å‚æ•°ç»™å‡½æ•°ã€‚ æ‰€æä¾›çš„é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„ï¼Œå¹¶ä¸”ä¸åº”è¯¥æ˜¯stringç±»å‹æˆ–ä»»ä½•å…¶ä»–å†…ç½®ç±»å‹ï¼Œä»¥é¿å…ä½¿ç”¨ä¸Šä¸‹æ–‡åœ¨åŒ…ä¹‹é—´å‘ç”Ÿå†²çªã€‚WithValueçš„ç”¨æˆ·åº”è¯¥ä¸ºé”®å®šä¹‰è‡ªå·±çš„ç±»å‹ã€‚ä¸ºäº†é¿å…åœ¨åˆ†é…ç»™interface{}æ—¶è¿›è¡Œåˆ†é…ï¼Œä¸Šä¸‹æ–‡é€šå¸¸å…·æœ‰å…·ä½“ç±»å‹struct{}ã€‚æˆ–è€…ï¼Œå¯¼å‡ºçš„ä¸Šä¸‹æ–‡å…³é”®å˜é‡çš„é™æ€ç±»å‹åº”è¯¥æ˜¯æŒ‡é’ˆæˆ–æ¥å£ã€‚ package main import ( \"context\" \"fmt\" \"sync\" \"time\" ) var wg9 sync.WaitGroup type TraceCode string func work9(ctx context.Context) { key := TraceCode(\"Trace_Code\") //åœ¨å­goroutineä¸­è·å–TraceCode traceCode, ok := ctx.Value(key).(string) if !ok { fmt.Println(\"invalid trace code\") } LOOP: for { fmt.Printf(\"worker, trace code: %s\\n\", traceCode) //å‡è®¾æ­£å¸¸è¿æ¥æ•°æ®åº“éœ€è¦10æ¯«ç§’ time.Sleep(time.Millisecond * 10) select { //50æ¯«ç§’åè‡ªåŠ¨è°ƒç”¨ case \u003c-ctx.Done(): break LOOP default: } } fmt.Println(\"work done\") wg9.Done() } func main() { //è®¾ç½®ä¸€ä¸ª50æ¯«ç§’çš„è¶…æ—¶ ctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50) //åœ¨ç³»ç»Ÿå…¥å£è®¾ç½®trace codeä¼ é€’ç»™åç»­å¯åŠ¨çš„å­goroutineå®ç°æ—¥å¿—æ•°æ®èšåˆ ctx = context.WithValue(ctx, TraceCode(\"Trace_Code\"), \"12345\") wg9.Add(1) go work9(ctx) time.Sleep(time.Second * 5) //é€šçŸ¥å­goroutineç»“æŸ cancel() wg9.Wait() fmt.Println(\"over\") } ","date":"2021-06-03","objectID":"/gocontextstudy/:5:4","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨Contextçš„æ³¨æ„äº‹é¡¹ æ¨èä»¥å‚æ•°çš„æ–¹å¼æ˜¾ç¤ºä¼ é€’Contextã€‚ ä»¥Contextä½œä¸ºå‚æ•°çš„å‡½æ•°æ–¹æ³•ï¼Œåº”è¯¥æŠŠContextä½œä¸ºç¬¬ä¸€å‚æ•°ã€‚ ç»™ä¸€ä¸ªå‡½æ•°æ–¹æ³•ä¼ é€’Contextçš„æ—¶å€™ï¼Œä¸è¦ä¼ é€’nilï¼Œå¦‚æœä¸çŸ¥é“ä¼ é€’ä»€ä¹ˆï¼Œå°±ä½¿ç”¨context.TODO() Contextçš„Valueç›¸å…³æ–¹æ³•åº”è¯¥ä¼ é€’è¯·æ±‚åŸŸçš„å¿…è¦æ•°æ®ï¼Œä¸åº”è¯¥ç”¨äºä¼ é€’å¯é€‰å‚æ•°ã€‚ Contextæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥æ”¾å¿ƒçš„åœ¨å¤šä¸ªgoroutineä¸­ä¼ é€’ã€‚ ","date":"2021-06-03","objectID":"/gocontextstudy/:6:0","tags":["golang"],"title":"GoContextStudy","uri":"/gocontextstudy/"},{"categories":["å­¦ä¹ "],"content":"Git Study 01","date":"2021-04-25","objectID":"/git-study02/","tags":["Gitå­¦ä¹ "],"title":"Git Study02","uri":"/git-study02/"},{"categories":["å­¦ä¹ "],"content":"ç”Ÿæˆå…¬é’¥ ssh -keygen ","date":"2021-04-25","objectID":"/git-study02/:1:0","tags":["Gitå­¦ä¹ "],"title":"Git Study02","uri":"/git-study02/"},{"categories":["å­¦ä¹ "],"content":"Git Study 01","date":"2021-04-11","objectID":"/git-study01/","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"Gité…ç½® ","date":"2021-04-11","objectID":"/git-study01/:1:0","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"æŸ¥çœ‹é…ç½® git config -l : gitçš„é…ç½®æ¸…å• git config â€“system â€“list : gitçš„ç³»ç»Ÿé…ç½® git config â€“global â€“list : gitçš„ç”¨æˆ·é…ç½® ","date":"2021-04-11","objectID":"/git-study01/:1:1","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"æ–‡ä»¶é…ç½® ç³»ç»Ÿé…ç½® : E:\\git\\Git\\mingw64\\etc\\gitconfig ç”¨æˆ·é…ç½® : C:\\Users\\Administrator.gitconfig ","date":"2021-04-11","objectID":"/git-study01/:1:2","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®± git config â€“global user.name â€œxyf1111â€ : è®¾ç½®åç§° git config â€“global user.email 2219316464@qq.com : è®¾ç½®é‚®ç®± ","date":"2021-04-11","objectID":"/git-study01/:1:3","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"GitåŸºæœ¬ç†è®º ","date":"2021-04-11","objectID":"/git-study01/:2:0","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"å·¥ä½œåŒºåŸŸ Gitæœ¬åœ°æœ‰ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•(Working Directory)ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€‚å¦‚æœåœ¨åŠ ä¸Šè¿œç¨‹çš„Gitä»“åº“(Remote Directory)å°±å¯ä»¥åˆ†ä¸ºå››ä¸ªå·¥ä½œåŒºåŸŸã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š Workspace : å·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹ Index/Stage : æš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå¥¹åªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨çš„ä¿¡æ¯ Repository : ä»“åº“åŒº(æˆ–æœ¬åœ°ä»“åº“)ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HeadæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬ Rempte : è¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢ ","date":"2021-04-11","objectID":"/git-study01/:2:1","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"å·¥ä½œæµç¨‹ åœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒº å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“ å› æ­¤ï¼Œgitç®¡ç†çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹ï¼Œå·²æš‚å­˜ï¼Œå·²æäº¤ ","date":"2021-04-11","objectID":"/git-study01/:2:2","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"Gité¡¹ç›®æ­å»º ","date":"2021-04-11","objectID":"/git-study01/:3:0","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤ å·¥ä½œç›®å½•(WorkSpace)ä¸€èˆ¬å°±æ˜¯ä½ å¸Œæœ›Gitå¸®ä½ ç®¡ç†çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ˜¯é¡¹ç›®çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç©ºç›®å½•ï¼Œå»ºè®®ä¸è¦æœ‰ä¸­æ–‡ã€‚ æ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä»¥ä¸‹6ä¸ªå‘½ä»¤ Gitæ—¥å¸¸å‘½ä»¤\u0026ldquo;Gitæ—¥å¸¸å‘½ä»¤\u0026rdquo; \"\rGitæ—¥å¸¸å‘½ä»¤\r ","date":"2021-04-11","objectID":"/git-study01/:3:1","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"æœ¬åœ°ä»“åº“æ­å»º åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š # åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ $ git init æ‰§è¡Œåå¯ä»¥çœ‹è§ï¼Œåœ¨é¡¹ç›®ä¸­å¤šå‡ºäº†ä¸€ä¸ªgitç›®å½•ï¼Œå…³äºç‰ˆæœ¬ç­‰çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ ","date":"2021-04-11","objectID":"/git-study01/:3:2","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"å…‹éš†è¿œç¨‹ä»“åº“ å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å®Œå…¨é•œåƒä¸€ä»½è‡³æœ¬åœ° # å…‹éš†ä¸€ä¸ªé¡¹ç›®å’Œå¥¹çš„æ•´ä¸ªä»£ç å†å²(ç‰ˆæœ¬ä¿¡æ¯) $ git clone [url] ","date":"2021-04-11","objectID":"/git-study01/:3:3","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"Gitæ–‡ä»¶æ“ä½œ ","date":"2021-04-11","objectID":"/git-study01/:4:0","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"æ–‡ä»¶4ç§çŠ¶æ€ ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Š Untracked : æœªè·Ÿè¸ªï¼Œæ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“ï¼Œä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶ï¼Œé€šè¿‡ git add çŠ¶æ€å˜ä¸º Staged Unmodify : æ–‡ä»¶å·²ç»å…¥åº“ï¼Œæœªä¿®æ”¹ï¼Œå³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶ä¸­å®Œå…¨ä¸€è‡´ï¼Œè¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„ï¼Œå¦‚æœå¥¹è¢«ä¿®æ”¹ï¼Œè€Œå˜ä¸º Modified ã€‚å¦‚æœä½¿ç”¨ git rm ç§»å‡ºç‰ˆæœ¬åº“ï¼Œåˆ™ç§°ä¸º Untracked æ–‡ä»¶ Modified : æ–‡ä»¶å·²ä¿®æ”¹ï¼Œä»…ä»…æ˜¯ä¿®æ”¹ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–æ“ä½œï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„ï¼Œé€šè¿‡ git add å¯è¿›å…¥æš‚å­˜ Staged çŠ¶æ€ï¼Œä½¿ç”¨ git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡çš„ï¼Œè¿”å› Unmodify çŠ¶æ€ï¼Œè¿™ä¸ª git checkout å³ä»åº“ä¸­å–å‡ºæ–‡ä»¶ï¼Œè¦†ç›–å½“å‰ä¿®æ”¹ Staged : æš‚å­˜çŠ¶æ€ï¼Œæ‰§è¡Œ git commit åˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­ï¼Œè¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°çš„æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´ï¼Œæ–‡ä»¶ä¸º UNmodify çŠ¶æ€ï¼Œæ‰§è¡Œ git reset HEAD filename å–æ¶ˆæš‚å­˜ï¼Œæ–‡ä»¶çŠ¶æ€ä¸º Modified ","date":"2021-04-11","objectID":"/git-study01/:4:1","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ # æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€ git status [filename] # æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€ git status ","date":"2021-04-11","objectID":"/git-study01/:4:2","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"å¿½ç•¥æ–‡ä»¶ æœ‰äº›æ—¶å€™ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰ åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹\".gitingnore\"æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–è€…ä»¥äº•å·(#)å¼€å§‹çš„è¡Œéƒ½ä¼šè¢«å¿½ç•¥ å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·(*)ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·(?)ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·([abc])ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·({string1,string2â€¦})ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·(!)ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦(/)ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸è¢«å¿½ç•¥ å¦‚æœåç§°çš„æœ€ååæ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦(/)ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶(é»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½è¢«å¿½ç•¥) # ä¸ºæ³¨é‡Š # å¿½ç•¥æ‰€æœ‰ .txt ç»“å°¾çš„æ–‡ä»¶ *.txt # lib.txt é™¤å¤– !lib.txt # å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„tempæ–‡ä»¶ï¼Œä¸åŒ…å«å…¶ä»–ç›®å½• /temp # å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ build/ # å¿½ç•¥doc/file.txtä½†æ˜¯ä¸åŒ…æ‹¬ doc/xx/aa.txt doc/*.txt ","date":"2021-04-11","objectID":"/git-study01/:4:3","tags":["Gitå­¦ä¹ "],"title":"Git Study01","uri":"/git-study01/"},{"categories":["å­¦ä¹ "],"content":"Linux Study 01","date":"2021-04-11","objectID":"/linux-study01/","tags":["Linuxå­¦ä¹ "],"title":"Linux Study01","uri":"/linux-study01/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬çš„Linuxå‘½ä»¤ cd : æ”¹å˜ç›®å½• cd.. : å›é€€åˆ°ä¸Šä¸€ä¸ªç›®å½•ï¼Œç›´æ¥cdè¿›å…¥é»˜è®¤ç›®å½• pwd : æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ ls(ll) : éƒ½æ˜¯åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªä¸è¿‡llåˆ—å‡ºçš„å†…å®¹æ›´ä¸ºè¯¦ç»† touch : æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚ touch index.js å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ rm : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œrm index.js å°±ä¼šæŠŠindex.jsæ–‡ä»¶åˆ é™¤ mkdir : æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ rm -r : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ rm -r src åˆ é™¤srcç›®å½• mv ç§»åŠ¨æ–‡ä»¶ï¼Œ mv index.html src index index.htmlæ˜¯æˆ‘ä»¬è¦ç§»åŠ¨çš„æ–‡ä»¶ï¼Œsrcæ˜¯ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œå½“ç„¶è¿™æ ·å†™ï¼Œå¿…é¡»ä¿è¯æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å¤¹åœ¨åŒä¸€ç›®å½•ä¸‹ reset : é‡æ–°åˆå§‹åŒ–ç»ˆç«¯/æ¸…å± clear : æ¸…å± history : æŸ¥çœ‹å‘½ä»¤å†å² help : å¸®åŠ© exit : é€€å‡º # : è¡¨ç¤ºæ³¨é‡Š ","date":"2021-04-11","objectID":"/linux-study01/:1:0","tags":["Linuxå­¦ä¹ "],"title":"Linux Study01","uri":"/linux-study01/"},{"categories":["é¢è¯•"],"content":"20210406å¯ç¦¾ç½‘ç»œ","date":"2021-04-06","objectID":"/interview-2021-04-06/","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"è‡ªæˆ‘ä»‹ç» ","date":"2021-04-06","objectID":"/interview-2021-04-06/:1:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"è¯´ä¸€ä¸‹MVCæ¶æ„ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:2:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"sliceåˆ‡ç‰‡çš„æ¦‚å¿µ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:3:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"ä¸€ä¸ªç”Ÿäº§è€…å¤šä¸ªæ¶ˆè´¹è€…æ€ä¹ˆä½¿ç”¨channel ","date":"2021-04-06","objectID":"/interview-2021-04-06/:4:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"åŒé‡forå¾ªç¯æ€ä¹ˆè·³å‡º ","date":"2021-04-06","objectID":"/interview-2021-04-06/:5:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"redisäº”ç§æ•°æ®ç»“æ„ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:6:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"ç»å¸¸ä½¿ç”¨redisçš„å“ªç§æ•°æ®ç»“æ„ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:7:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"Ginæ¡†æ¶çš„äº†è§£ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:8:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"mapå’Œsliceåˆ†åˆ«æ€ä¹ˆåˆ é™¤å…ƒç´  ","date":"2021-04-06","objectID":"/interview-2021-04-06/:9:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"goä¸­interfaceçš„æ¦‚å¿µ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:10:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"ormä½¿ç”¨çš„ä»€ä¹ˆ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:11:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"mysqlçš„å­˜å‚¨å¼•æ“ ","date":"2021-04-06","objectID":"/interview-2021-04-06/:12:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"goè¯»å†™é”çš„ä½¿ç”¨","date":"2021-04-06","objectID":"/interview-2021-04-06/:13:0","tags":["é¢è¯•"],"title":"Interview 2021 04 06","uri":"/interview-2021-04-06/"},{"categories":["é¢è¯•"],"content":"Go Interview 08-Go map","date":"2021-03-25","objectID":"/go-interview-08/","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"ä»€ä¹ˆæ˜¯map mapæ˜¯ä¸€ä¸ªå¯ä»¥å­˜å‚¨key/valueå¯¹çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œmapåƒsliceä¸€æ ·æ˜¯å¼•ç”¨ç±»å‹ï¼Œmapå†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªhash tableï¼Œå› æ­¤åœ¨mapä¸­å­˜å…¥æ•°æ®æ˜¯æ— åºçš„ã€‚è€Œæ¯æ¬¡ä»mapä¸­è¯»å–æ•°æ®ä¹Ÿæ˜¯æ— åºçš„ï¼Œå› ä¸ºåœ¨golangè®¾è®¡ä¹‹åˆï¼Œmapè¿­ä»£å™¨çš„é¡ºåºå°±æ˜¯éšæœºçš„ï¼Œæœ‰åˆ«äºC/C++ï¼Œè™½ç„¶å­˜å…¥mapçš„æ•°æ®æ˜¯æ— åºçš„ï¼Œä½†æ˜¯æ¯æ¬¡ä»mapä¸­å–å‡ºçš„æ•°æ®ä¸€æ ·çš„ã€‚ ","date":"2021-03-25","objectID":"/go-interview-08/:1:0","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"å£°æ˜å’Œåˆå§‹åŒ– // å£°æ˜ä¸€ä¸ªmapï¼Œå› ä¸ºmapæ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥mæ˜¯nil var m map[keytype]valuetype // åˆå§‹åŒ–æ–¹å¼1ï¼Œç©ºmapï¼Œç©ºå¹¶ä¸æ˜¯nil m := map[keytype]valuetype{} // åˆå§‹åŒ–æ–¹å¼2ï¼Œä¸¤ç§åˆå§‹åŒ–æ–¹å¼ç›¸åŒ m := make(make[keytype]valuetype) ","date":"2021-03-25","objectID":"/go-interview-08/:2:0","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"åŸºæœ¬æ“ä½œ package main import \"fmt\" func main() { m := map[string]int{} //å¢åŠ ä¸€ä¸ªmap m[\"tony\"] = 10 //åˆ é™¤ä¸€ä¸ªkey = tonyçš„map delete(m, \"tony\") //ä¿®æ”¹key=tonyçš„å€¼ m[\"tony\"] = 20 //åˆ¤æ–­æŸä¸ªkeyæ˜¯å¦å­˜åœ¨ if _, ok := m[\"tony\"]; ok { fmt.Println(\"tony is exists\") } //éå†map for key, value := range m { fmt.Println(key, value) } //ä½¿ç”¨å¤šä¸ªå€¼å¯¹mapè¿›è¡Œåˆå§‹åŒ– m1 := map[string]int{ \"Tina\": 10, \"Dviad\": 20, \"Tom\": 5, } fmt.Println(m1) } ","date":"2021-03-25","objectID":"/go-interview-08/:3:0","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"keyå’Œvalueå¯ä»¥ä½¿ç”¨ä»€ä¹ˆç±»å‹ keyï¼šåªè¦æ˜¯å¯æ¯”è¾ƒ(å¯ä»¥ä½¿ç”¨==è¿›è¡Œæ¯”è¾ƒï¼Œä¸¤è¾¹çš„æ“ä½œæ•°å¯ä»¥äº’ç›¸èµ‹å€¼)çš„ç±»å‹å°±å¯ä»¥ï¼Œåƒæ•´å‹ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œæµ®ç‚¹å‹ï¼Œæ•°ç»„(å¿…é¡»ç±»å‹ç›¸åŒ)ï¼›è€Œmapï¼Œsliceå’Œfunctionä¸èƒ½ä½œä¸ºkeyçš„ç±»å‹ valueï¼šä»»ä½•ç±»å‹éƒ½å¯ä»¥ ","date":"2021-03-25","objectID":"/go-interview-08/:4:0","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"å¯¹mapè¿›è¡Œå¹¶å‘è®¿é—®æ—¶éœ€è¦å¢åŠ åŒæ­¥æœºåˆ¶ mapåœ¨å¹¶å‘è®¿é—®ä¸­ä½¿ç”¨ä¸å®‰å…¨ï¼Œå› ä¸ºä¸æ¸…æ¥šå½“æ—¶å¯¹mapè¿›è¡Œè¯»å†™çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå¦‚æœåƒé€šè¿‡goroutineè¿›è¡Œå¹¶å‘è®¿é—®ï¼Œåˆ™éœ€è¦ä¸€ç§åŒæ­¥æœºåˆ¶æ¥ä¿è¯è®¿é—®æ•°æ®çš„å®‰å…¨æ€§ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨sync.RWMutex //é€šè¿‡åŒ¿åå‡½æ•°ç»“æ„ä½“å£°æ˜ä¸€ä¸ªcounterï¼Œå˜é‡ä¸­åŒ…å«mapå’Œsync.RWMutex var counter = struct { sync.RWMutex m map[string]int }{m: make(map[string]int)} //è¯»å–æ•°æ®çš„æ—¶å€™ä½¿ç”¨è¯»é” counter.RLock() n := counter.m[\"Tony\"] counter.RUnlock() fmt.Println(n) //å†™æ•°æ®çš„æ—¶å€™ä½¿ç”¨å†™é” counter.Lock() counter.m[\"Tony\"]++ counter.Unlock() fmt.Println(counter.m[\"Tony\"]) ","date":"2021-03-25","objectID":"/go-interview-08/:5:0","tags":["golang"],"title":"Go Interview 08","uri":"/go-interview-08/"},{"categories":["é¢è¯•"],"content":"Go Interview 07-Goäº’æ–¥é”çš„ä¸¤ç§å®ç°","date":"2021-03-25","objectID":"/go-interview-07/","tags":["golang"],"title":"Go Interview 07","uri":"/go-interview-07/"},{"categories":["é¢è¯•"],"content":"Goäº’æ–¥é”çš„ä¸¤ç§å®ç° 1.ç”¨Mutexå®ç° package main import ( \"fmt\" \"sync\" ) var num int var mtx sync.Mutex var wg sync.WaitGroup func add() { //mutexé”ä½ mtx.Lock() //mutexè§£é” defer mtx.Unlock() //wgè®¡æ•°å™¨å‡ä¸€ defer wg.Done() num += 1 } func main() { for i := 0; i \u003c 100; i++ { wg.Add(1) go add() } //wg.waitä»£æ›¿äº†ä¹‹å‰çš„time.sleepã€‚wgé‡Œé¢ç›¸å½“äºæœ‰ä¸ªè®¡æ•°å™¨ï¼Œåªæœ‰è®¡æ•°å™¨æ²¡äº†æ‰ç»§ç»­è¿›è¡Œï¼Œå¦åˆ™å°±é˜»å¡ã€‚ wg.Wait() fmt.Println(num) } ä½¿ç”¨chanå®ç° package main import ( \"fmt\" \"sync\" ) var num int func add(h chan int, wg *sync.WaitGroup) { defer wg.Done() h \u003c- 1 num += 1 \u003c-h } func main() { var wg = \u0026sync.WaitGroup{} h := make(chan int, 1) for i := 0; i \u003c 100; i++ { wg.Add(1) go add(h, wg) } wg.Wait() fmt.Println(num) } ","date":"2021-03-25","objectID":"/go-interview-07/:1:0","tags":["golang"],"title":"Go Interview 07","uri":"/go-interview-07/"},{"categories":["å­¦ä¹ "],"content":"Http,TCP/IPå­¦ä¹ ","date":"2021-03-25","objectID":"/httptcpip-study-01/","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"osiä¸ƒå±‚å‚è€ƒæ¨¡å‹ osiä¸ƒå±‚æ¨¡å‹\u0026ldquo;osiä¸ƒå±‚æ¨¡å‹\u0026rdquo; \"\rosiä¸ƒå±‚æ¨¡å‹\r ","date":"2021-03-25","objectID":"/httptcpip-study-01/:1:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"TCP/IPäº”å±‚æ¨¡å‹ TCP/IPäº”å±‚æ¨¡å‹\u0026ldquo;TCP/IPäº”å±‚æ¨¡å‹\u0026rdquo; \"\rTCP/IPäº”å±‚æ¨¡å‹\r åº”ç”¨å±‚çš„ä¸»è¦åè®®æœ‰ï¼šhttpã€smtpã€sshåè®® ä¼ è¾“æ§åˆ¶å±‚çš„ä¸»è¦åè®®æœ‰ï¼štcpã€udpåè®® tcpåè®®é¢å‘è¿æ¥ï¼Œèƒ½æ­£ç¡®å¤„ç†ä¸¢åŒ…ï¼Œä¼ è¾“é¡ºåºé”™ä¹±çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸ºäº†å»ºç«‹å’Œæ–­å¼€è¿æ¥ï¼Œéœ€è¦è‡³å°‘7æ¬¡æ”¶å‘åŒ…ï¼Œèµ„æºæµªè´¹ udpåè®®é¢å‘æ— è¿æ¥ï¼Œä¸ç®¡å¯¹æ–¹æœ‰æ²¡æœ‰æ”¶åˆ°ï¼Œå¦‚æœè¦å¾—åˆ°é€šçŸ¥ï¼Œéœ€è¦é€šè¿‡åº”ç”¨å±‚ ç½‘ç»œå±‚çš„ä¸»è¦åè®®æœ‰ï¼šipåè®® ","date":"2021-03-25","objectID":"/httptcpip-study-01/:2:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"TCPä¸‰æ¬¡æ¡æ‰‹ å®¢æˆ·ç«¯å‘é€å¸¦æœ‰SYNæ ‡å¿—çš„æ•°æ®åŒ…åˆ°æœåŠ¡ç«¯ã€‚ä¸€æ¬¡æ¡æ‰‹ æœåŠ¡ç«¯å‘é€å¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…åˆ°å®¢æˆ·ç«¯ã€‚äºŒæ¬¡æ¡æ‰‹ å®¢æˆ·ç«¯å‘é€å¸¦æœ‰ACKæ ‡å¿—çš„æ•°æ®åŒ…åˆ°æœåŠ¡ç«¯ã€‚ä¸‰æ¬¡æ¡æ‰‹ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:3:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"TCPå››æ¬¡æŒ¥æ‰‹ å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„æ•°æ®ä¼ è¾“ æœåŠ¡ç«¯æ”¶åˆ°FINï¼Œå‘å›ACKç¡®è®¤ æœåŠ¡ç«¯å…³é—­ä¸å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå‘é€FINåˆ°å®¢æˆ·ç«¯ å®¢æˆ·ç«¯å‘å›ACKç¡®è®¤ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:4:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"HTTP HTTPåè®®æ˜¯å»ºç«‹åœ¨TCPåè®®åŸºç¡€ä¸Šçš„ï¼Œå½“æµè§ˆå™¨éœ€è¦ä»æœåŠ¡å™¨è·å–ç½‘é¡µæ•°æ®çš„æ—¶å€™ï¼Œä¼šå‘å‡ºä¸€æ¬¡HTTPè¯·æ±‚ã€‚HTTPä¼šé€šè¿‡TCPå»ºç«‹ä¸€ä¸ªåˆ°æœåŠ¡å™¨çš„è¿æ¥é€šé“ï¼Œå½“æœ¬æ¬¡è¯·æ±‚éœ€è¦çš„æ•°æ®å®Œæ¯•åï¼ŒHTTPä¼šç«‹å³ä¸TCPæ–­å¼€è¿æ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆçŸ­çš„ã€‚æ‰€ä»¥HTTPè¿æ¥æ˜¯ä¸€ç§çŸ­è¿æ¥ï¼Œæ˜¯ä¸€ç§æ— çŠ¶æ€è¿æ¥ã€‚ è¿™ä¸ªæ‰€è°“çš„æ— çŠ¶æ€ï¼Œæ˜¯æŒ‡æµè§ˆå™¨æ¯æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œä¸æ˜¯é€šè¿‡ä¸€ä¸ªè¿æ¥ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½å»ºç«‹ä¸€ä¸ªæ–°çš„è¿æ¥ã€‚å¦‚æœæ˜¯ä¸€ä¸ªè¿æ¥çš„è¯ï¼ŒæœåŠ¡è¿›ç¨‹ä¸­å°±èƒ½ä¿æŒä½è¿™ä¸ªè¿æ¥å¹¶ä¸”åœ¨å†…å­˜ä¸­è®°ä½ä¸€äº›ä¿¡æ¯çŠ¶æ€ã€‚è€Œæ¯æ¬¡è¯·æ±‚ç»“æŸåï¼Œè¿æ¥å°±å…³é—­äº†ï¼Œç›¸å…³å†…å®¹å°±é‡Šæ”¾äº†ï¼Œæ‰€ä»¥è®°ä¸ä½ä»»ä½•çŠ¶æ€ï¼Œæˆä¸ºæ— çŠ¶æ€è¿æ¥ã€‚ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:5:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"HTTPè‹±æ–‡å…¨ç§° è¶…æ–‡æœ¬ä¼ è¾“åè®® ","date":"2021-03-25","objectID":"/httptcpip-study-01/:6:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"çŠ¶æ€ç  2xx æˆåŠŸ 200 okï¼Œè¡¨ç¤ºä»å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡ç«¯è¢«æ­£ç¡®å¤„ç† 204 No Contentï¼Œè¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼Œä½†å“åº”æŠ¥æ–‡ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ† 206 Partial Contentï¼Œè¿›è¡ŒèŒƒå›´è¯·æ±‚ 3xx é‡å®šå‘ 301 moved permanentlyï¼Œæ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºå·²è¢«åˆ†é…äº†æ–°çš„URL 302 foundï¼Œä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºä¸´æ—¶è¢«åˆ†é…äº†æ–°çš„URL 303 see otherï¼Œè¡¨ç¤ºèµ„æºå­˜åœ¨å¦ä¸€ä¸ªURLï¼Œåº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–èµ„æº 304 not modifiedï¼Œè¡¨ç¤ºæœåŠ¡å™¨å…è®¸è®¿é—®èµ„æºï¼Œä½†å› å‘ç”Ÿè¯·æ±‚æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µ 307 temporary redirectï¼Œä¸´æ—¶é‡å®šå‘ï¼Œå’Œ302å«ä¹‰ç›¸åŒ 4xx å®¢æˆ·ç«¯é”™è¯¯ 400 bad requestï¼Œè¯·æ±‚æŠ¥æ–‡å­˜åœ¨è¯­æ³•é”™è¯¯ 401 unauthorizedï¼Œè¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡HTTPè®¤è¯çš„è®¤è¯ä¿¡æ¯ 403 forbiddenï¼Œè¡¨ç¤ºå¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç» 404 not foundï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ²¡æœ‰æ‰¾åˆ°å¯¹åº”èµ„æº 5xx æœåŠ¡å™¨é”™è¯¯ 500 internal server errorï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ 503 service unavailableï¼Œè¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨åœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:7:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"HTTPçš„æŠ¥æ–‡ç»“æ„ HTTPè¯·æ±‚æŠ¥æ–‡ è¯·æ±‚è¡Œ è¯·æ±‚å¤´ ç©ºè¡Œ è¯·æ±‚æ•°æ® HTTPå“åº”æŠ¥æ–‡ çŠ¶æ€è¡Œ æ¶ˆæ¯æŠ¥å¤´ å“åº”æ­£æ–‡ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:8:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"TCPå’ŒUDPçš„åŒºåˆ« TCPï¼šé¢å‘è¿æ¥ï¼Œå¯é ï¼Œé€Ÿåº¦æ…¢ï¼Œæ•ˆç‡ä½ UDPï¼šæ— è¿æ¥ï¼Œä¸å¯é ï¼Œé€Ÿåº¦å¿«ï¼Œæ•ˆç‡é«˜ å½“è¿›ç¨‹éœ€è¦ä¼ è¾“å¯é çš„æ•°æ®æ—¶åº”ä½¿ç”¨TCPï¼Œå½“è¿›ç¨‹éœ€è¦é«˜æ•ˆä¼ è¾“æ•°æ®ï¼Œå¯ä»¥å¿½ç•¥å¯é æ€§æ—¶åº”ä½¿ç”¨UDP TCPå¦‚ä½•ä¿è¯å¯é æ€§ï¼š æ•°æ®åŒ…æ ¡éªŒ è¶…æ—¶é‡ä¼ æœºåˆ¶ åº”ç­”æœºåˆ¶ å¯¹å¤±åºæ•°æ®åŒ…é‡æ’åº TCPè¿˜èƒ½æä¾›æµé‡æ§åˆ¶ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:9:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"HTTPå’ŒHTTPSæœ‰ä»€ä¹ˆåŒºåˆ« HTTPåè®®ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œä¹Ÿå°±æ˜¯æ˜æ–‡çš„ï¼Œå› æ­¤ä½¿ç”¨HTTPåè®®ä¼ è¾“éšç§ä¿¡æ¯éå¸¸ä¸å®‰å…¨ã€‚ä¸ºäº†ä¿è¯è¿™äº›éšç§ä¿¡æ¯èƒ½åŠ å¯†ä¼ è¾“ï¼Œäºæ˜¯ç½‘æ™¯å…¬å¸è®¾è®¡äº†SSL(Secure Socket Layer)åè®®ç”¨äºå¯¹HTTPåè®®ä¼ è¾“çš„æ•°æ®åŠ å¯†ï¼Œä»è€Œä¹Ÿå°±è¯ç”Ÿäº†HTTPSã€‚ ç®€å•æ¥è¯´ï¼ŒHTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”HTTPå®‰å…¨ HTTPSå’ŒHTTPçš„åŒºåˆ«ä¸»è¦å¦‚ä¸‹ï¼š HTTPSåè®®éœ€è¦åˆ°CAç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦æ¯”è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPSåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„SSLåŠ å¯†ä¼ è¾“åè®® HTTPå’ŒHTTPSä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼ŒHTTPæ˜¯80ï¼ŒHTTPSæ˜¯443 HTTPçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼ŒHTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ï¼Œèº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯”HTTPåè®®å®‰å…¨ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:10:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["å­¦ä¹ "],"content":"HTTP1.0å’ŒHTTP1.1çš„åŒºåˆ« HTTP1.0ä¸­æµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚è¿æ¥ï¼Œæµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼ŒæœåŠ¡å™¨å®Œæˆè¯·æ±‚åç«‹å³æ–­å¼€TCPè¿æ¥ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ä¹Ÿä¸è®°å½•è¿‡å»è¯·æ±‚ HTTP1.1æä¾›æ°¸ä¹…æ€§è¿æ¥(å³1.0éæŒä¹…è¿æ¥ï¼ŒHTTP1.0æ²¡æœ‰hostå­—æ®µ) HTTP1.1ä¸­æ·»åŠ äº†HOSTè¯·æ±‚å¤´å­—æ®µåï¼Œå®ç°äº†ä¸€å°WEBæœåŠ¡å™¨ä¸Šå¯ä»¥åœ¨åŒä¸€ä¸ªIPåœ°å€å’Œç«¯å£ä¸Šä½¿ç”¨ä¸åŒçš„ä¸»æœºåæ¥åˆ›å»ºå¤šä¸ªè™šæ‹ŸWEBç«™ç‚¹ HTTP1.1æä¾›èº«ä»½è®¤è¯ ","date":"2021-03-25","objectID":"/httptcpip-study-01/:11:0","tags":["Http,TCP/IP"],"title":"Httptcpip Study 01","uri":"/httptcpip-study-01/"},{"categories":["é¢è¯•"],"content":"Go Interview 06-goä¸¤ä¸ªåç¨‹äº¤æ›¿æ‰“å°1-100çš„å¥‡æ•°å¶æ•°","date":"2021-03-25","objectID":"/go-interview-06/","tags":["golang"],"title":"Go Interview 06","uri":"/go-interview-06/"},{"categories":["é¢è¯•"],"content":"goä¸¤ä¸ªåç¨‹äº¤æ›¿æ‰“å°1-100çš„å¥‡æ•°å¶æ•° package main import ( \"fmt\" \"time\" ) const Pool = 100 func goroutine1(msg chan int) { for i:=1; i\u003c=Pool; i++ { msg \u003c- i if i%2 == 1 { fmt.Println(\"goroutine1:\", i) } } } func goroutine2(msg chan int) { for i := 1; i \u003c= Pool; i++ { \u003c- msg if i%2 == 0 { fmt.Println(\"goroutine2:\", i) } } } func main() { msg := make(chan int) go goroutine1(msg) go goroutine2(msg) time.Sleep(time.Second) } ","date":"2021-03-25","objectID":"/go-interview-06/:1:0","tags":["golang"],"title":"Go Interview 06","uri":"/go-interview-06/"},{"categories":["é¢è¯•"],"content":"Go Interview 05-selectæœºåˆ¶|è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹åŒºåˆ«","date":"2021-03-24","objectID":"/go-interview-05/","tags":["golang"],"title":"Go Interview 05","uri":"/go-interview-05/"},{"categories":["é¢è¯•"],"content":"Goçš„selectæœºåˆ¶ selectæœºåˆ¶ç”¨æ¥å¤„ç†å¼‚æ­¥IOé—®é¢˜ selectæœºåˆ¶æœ€å¤§çš„ä¸€æ¡é™åˆ¶å°±æ˜¯æ¯ä¸ªcaseè¯­å¥é‡Œå¿…é¡»æ˜¯ä¸€ä¸ªIOæ“ä½œ golangåœ¨è¯­è¨€çº§åˆ«æ”¯æŒselectå…³é”®å­— ","date":"2021-03-24","objectID":"/go-interview-05/:1:0","tags":["golang"],"title":"Go Interview 05","uri":"/go-interview-05/"},{"categories":["é¢è¯•"],"content":"è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹ä¹‹é—´çš„åŒºåˆ« è¿›ç¨‹æ˜¯èµ„æºçš„åˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼Œè€Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½ åŒä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ è¿›ç¨‹ç»“æŸåï¼Œå¥¹æ‹¥æœ‰çš„æ‰€æœ‰çº¿ç¨‹éƒ½å°†é”€æ¯ï¼Œè€Œçº¿ç¨‹çš„ç»“æŸä¸ä¼šå½±å“åŒä¸ªè¿›ç¨‹ä¸­å…¶ä»–çº¿ç¨‹çš„ç»“æŸã€‚ çº¿ç¨‹å…±äº«æ•´ä¸ªè¿›ç¨‹çš„èµ„æº(å¯„å­˜å™¨ã€å †æ ˆã€ä¸Šä¸‹æ–‡)ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘åŒ…å«ä¸€ä¸ªçº¿ç¨‹ è¿›ç¨‹çš„åˆ›å»ºä½¿ç”¨forkæˆ–vforkï¼Œè€Œçº¿ç¨‹çš„åˆ›å»ºä½¿ç”¨pthread_create çº¿ç¨‹ä¸­æ‰§è¡Œæ—¶ï¼Œä¸€èˆ¬è¦è¿›è¡ŒåŒæ­¥å’Œäº’æ–¥ï¼Œå› ä¸ºä»–ä»¬å…±äº«åŒä¸€è¿›ç¨‹çš„æ‰€æœ‰èµ„æº è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„å•ä½ çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦çš„å•ä½ è¿›ç¨‹åˆ‡æ¢éœ€è¦çš„èµ„æºæœ€å¤§ï¼Œæ•ˆç‡å¾ˆä½ã€‚çº¿ç¨‹åˆ‡æ¢éœ€è¦çš„èµ„æºä¸€èˆ¬ï¼Œæ•ˆç‡ä¸€èˆ¬ã€‚åç¨‹åˆ‡æ¢éœ€è¦çš„èµ„æºå¾ˆå°ï¼Œæ•ˆç‡é«˜ã€‚å¤šè¿›ç¨‹ï¼Œå¤šçº¿ç¨‹æ ¹æ®cpuæ ¸æ•°ä¸ä¸€æ ·å¯èƒ½æ˜¯å¹¶è¡Œä¹Ÿå¯èƒ½æ˜¯å¹¶å‘çš„ã€‚åç¨‹çš„æœ¬è´¨å°±æ˜¯ä½¿ç”¨å½“å‰è¿›ç¨‹åœ¨ä¸åŒçš„å‡½æ•°ä»£ç ä¸­åˆ‡æ¢æ‰§è¡Œï¼Œå¯ä»¥ç†è§£ä¸ºå¹¶è¡Œã€‚åç¨‹æ˜¯ä¸€ä¸ªç”¨æˆ·å±‚é¢çš„æ¦‚å¿µï¼Œä¸åŒåç¨‹çš„æ¨¡å‹å®ç°å¯èƒ½æ˜¯å•çº¿ç¨‹çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯å¤šçº¿ç¨‹çš„ è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å †å’Œæ ˆï¼Œæ—¢ä¸å…±äº«å †ï¼Œä¹Ÿä¸å…±äº«æ ˆã€‚è¿›ç¨‹ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦ã€‚(å…¨å±€å˜é‡ä¿å­˜åœ¨å †ä¸­ï¼Œå±€éƒ¨å˜é‡åŠå‡½æ•°ä¿å­˜åœ¨æ ˆä¸­) çº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„æ ˆå’Œå…±äº«çš„å †ã€‚å…±äº«å †ï¼Œä¸å…±äº«æ ˆï¼Œçº¿ç¨‹ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦ã€‚(æ ‡å‡†çº¿ç¨‹) åç¨‹å’Œçº¿ç¨‹ä¸€ä¸ªå…±äº«å †ï¼Œä¸å…±äº«æ ˆï¼Œåç¨‹ç”±ç¨‹åºå‘˜åœ¨åç¨‹é‡Œæ˜¾å¼è°ƒåº¦ ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸€èˆ¬å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸€èˆ¬æœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œè¿˜æœ‰è‹¥å¹²ä¸ªè¾…åŠ©çº¿ç¨‹ï¼Œçº¿ç¨‹ä¹‹é—´æ˜¯å¹³è¡Œè¿è¡Œçš„ï¼Œåœ¨çº¿ç¨‹é‡Œé¢å¯ä»¥å¼€åç¨‹ï¼Œè®©ç¨‹åºåœ¨ç‰¹å®šæ—¶é—´è¿è¡Œ åç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼šåç¨‹é¿å…äº†æ— æ„ä¹‰çš„è°ƒåº¦ï¼Œç”±æ­¤å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†ä¹Ÿå› æ­¤ï¼Œç¨‹åºå‘˜å¿…é¡»è‡ªå·±æ‰¿æ‹…è°ƒåº¦çš„è´£ä»»ï¼ŒåŒæ—¶åç¨‹ä¹Ÿå¤±å»äº†æ ‡å‡†çº¿ç¨‹ä½¿ç”¨å¤šCPUçš„èƒ½åŠ› ","date":"2021-03-24","objectID":"/go-interview-05/:2:0","tags":["golang"],"title":"Go Interview 05","uri":"/go-interview-05/"},{"categories":["é¢è¯•"],"content":"Go Interview 04-beego|goconvey|GoStub","date":"2021-03-24","objectID":"/go-interview-04/","tags":["golang"],"title":"Go Interview 04","uri":"/go-interview-04/"},{"categories":["é¢è¯•"],"content":"Goä¸­çš„beegoæ¡†æ¶ beegoæ˜¯ä¸€ä¸ªgolangå®ç°çš„è½»é‡çº§HTTPæ¡†æ¶ beegoå¯ä»¥é€šè¿‡æ³¨é‡Šè·¯ç”±ã€æ­£åˆ™è·¯ç”±ç­‰å¤šç§æ–¹å¼å®Œæˆurlè·¯ç”±æ³¨å…¥ å¯ä»¥ä½¿ç”¨bee newå·¥å…·ç”Ÿæˆç©ºå·¥ç¨‹ï¼Œç„¶åä½¿ç”¨bee runå‘½ä»¤è‡ªåŠ¨çƒ­ç¼–è¯‘ ","date":"2021-03-24","objectID":"/go-interview-04/:1:0","tags":["golang"],"title":"Go Interview 04","uri":"/go-interview-04/"},{"categories":["é¢è¯•"],"content":"Goä¸­çš„goconveyæ¡†æ¶ goconveyæ˜¯ä¸€ä¸ªæ”¯æŒgolangçš„å•å…ƒæµ‹è¯•æ¡†æ¶ goconveyèƒ½å¤Ÿè‡ªåŠ¨ç›‘æ§æ–‡ä»¶å¹¶å¯åŠ¨æµ‹è¯•ï¼Œå¹¶å¯ä»¥å°†æµ‹è¯•ç»“æœå®æ—¶è¾“å‡ºåˆ°webç•Œé¢ goconveyæä¾›äº†éå¸¸ä¸°å¯Œçš„æ–­è¨€ç®€åŒ–æµ‹è¯•ç”¨ä¾‹çš„ç¼–å†™ ","date":"2021-03-24","objectID":"/go-interview-04/:2:0","tags":["golang"],"title":"Go Interview 04","uri":"/go-interview-04/"},{"categories":["é¢è¯•"],"content":"Goä¸­ï¼ŒGoStubçš„ä½œç”¨æ˜¯ä»€ä¹ˆ GoStubå¯ä»¥å¯¹å…¨å±€å˜é‡æ‰“æ¡© GoStubå¯ä»¥å¯¹å‡½æ•°æ‰“æ¡© GoStubä¸å¯ä»¥å¯¹ç±»çš„æˆå‘˜æ–¹æ³•æ‰“æ¡© GoStubå¯ä»¥æ‰“åŠ¨æ€æ¡©ï¼Œä¾‹å¦‚å¯¹ä¸€ä¸ªå‡½æ•°æ‰“æ¡©åï¼Œå¤šæ¬¡è°ƒç”¨è¯¥å‡½æ•°ä¼šæœ‰ä¸åŒçš„è¡Œä¸º ","date":"2021-03-24","objectID":"/go-interview-04/:3:0","tags":["golang"],"title":"Go Interview 04","uri":"/go-interview-04/"},{"categories":["é¢è¯•"],"content":"Go Interview 03-forå¾ªç¯|switch|æ²¡æœ‰éšè—çš„thisæŒ‡é’ˆ|å¼•ç”¨ç±»å‹|æŒ‡é’ˆè¿ç®—|mainå‡½æ•°|åŒæ­¥é”|channelç‰¹æ€§|è§¦å‘å¼‚å¸¸åœºæ™¯","date":"2021-03-24","objectID":"/go-interview-03/","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goä¸­çš„forå¾ªç¯ forå¾ªç¯æ”¯æŒcontinueå’Œbreakæ¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯å¥¹æä¾›äº†ä¸€ä¸ªæ›´é«˜çº§breakï¼Œå¯ä»¥é€‰æ‹©ä¸­æ–­é‚£ä¸ªå¾ªç¯ï¼Œforå¾ªç¯ä¸æ”¯æŒä»¥é€—å·ä¸ºé—´éš”çš„å¤šä¸ªèµ‹å€¼è¯­å¥ï¼Œå¿…é¡»ä½¿ç”¨å¹³è¡Œèµ‹å€¼çš„æ–¹å¼æ¥åˆå§‹åŒ–å¤šä¸ªå˜é‡ ","date":"2021-03-24","objectID":"/go-interview-03/:1:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goä¸­çš„switch å½“ä¸ªcaseä¸­å¯ä»¥å‡ºç°å¤šä¸ªç»“æœ åªæœ‰åœ¨caseä¸­æ˜ç¡®æ·»åŠ fallthroughå…³é”®å­—ï¼Œæ‰ä¼šç»§ç»­æ‰§è¡Œç´§è·Ÿçš„ä¸‹ä¸€ä¸ªcase ","date":"2021-03-24","objectID":"/go-interview-03/:2:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goä¸­æ²¡æœ‰éšè—çš„thisæŒ‡é’ˆï¼Œè¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€ æ–¹æ³•æ–½åŠ çš„å¯¹è±¡æ˜¾ç¤ºä¼ é€’ï¼Œæ²¡æœ‰è¢«éšè—èµ·æ¥ golangçš„é¢å‘å¯¹è±¡è¡¨è¾¾æ›´ç›´è§‚ï¼Œå¯¹äºé¢å‘è¿‡ç¨‹åªæ˜¯æ¢äº†ä¸€ç§è¯­æ³•å½¢å¼æ¥è¡¨è¾¾ æ–¹æ³•æ–½åŠ çš„å¯¹è±¡ä¸éœ€è¦éå¾—æ˜¯æŒ‡é’ˆï¼Œä¹Ÿä¸ç”¨éå¾—å«this ","date":"2021-03-24","objectID":"/go-interview-03/:3:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goä¸­å¼•ç”¨ç±»å‹åŒ…å«ä»€ä¹ˆ æ•°ç»„åˆ‡ç‰‡ï¼Œå­—å…¸(map)ï¼Œé€šé“(channel)ï¼Œæ¥å£(interface) ","date":"2021-03-24","objectID":"/go-interview-03/:4:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goä¸­æŒ‡é’ˆè¿ç®—æœ‰å“ªäº› å¯ä»¥é€šè¿‡\u0026å–æŒ‡é’ˆçš„åœ°å€ å¯ä»¥é€šè¿‡*å–æŒ‡é’ˆæŒ‡å‘çš„æ•°æ® ","date":"2021-03-24","objectID":"/go-interview-03/:5:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"è¯´è¯´Goçš„mainå‡½æ•° mainå‡½æ•°ä¸èƒ½å¸¦å‚æ•° mainå‡½æ•°ä¸èƒ½å®šä¹‰è¿”å›å€¼ mainå‡½æ•°æ‰€åœ¨çš„åŒ…å¿…é¡»æ˜¯mainåŒ… mainå‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨flagåŒ…æ¥è·å–å’Œè§£æå‘½ä»¤è¡Œå‚æ•° ","date":"2021-03-24","objectID":"/go-interview-03/:6:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"GoåŒæ­¥é” å½“ä¸€ä¸ªgoroutineè·å¾—äº†Mutexåï¼Œå…¶ä»–çš„goroutineå°±åªèƒ½ä¹–ä¹–çš„ç­‰å¾…äº†ï¼Œé™¤éè¯¥goroutineé‡Šæ”¾è¿™ä¸ªMutex RWMutexåœ¨è¯»é”å ç”¨çš„æƒ…å†µä¸‹ï¼Œä¼šé˜»æ­¢å†™ï¼Œä½†ä¸ä¼šé˜»æ­¢å†™ RWMutexåœ¨å†™é”å ç”¨çš„æƒ…å†µä¸‹ï¼Œä¼šé˜»æ­¢ä»»ä½•goroutine(æ— è®ºæ˜¯è¯»è¿˜æ˜¯å†™)ï¼Œæ•´ä¸ªé”ç›¸å½“äºç”±è¯¥goroutineç‹¬å  ","date":"2021-03-24","objectID":"/go-interview-03/:7:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"channelç‰¹æ€§ ç»™ä¸€ä¸ªnil channelå‘é€æ•°æ®ï¼Œé€ æˆæ°¸ä¹…é˜»å¡ ä»ä¸€ä¸ªnil channelæ¥æ”¶æ•°æ®ï¼Œé€ æˆæ°¸ä¹…é˜»å¡ ç»™ä¸€ä¸ªå·²ç»å…³é—­çš„channelå‘é€æ•°æ®ï¼Œå¼•èµ·panic ä»ä¸€ä¸ªå·²ç»å…³é—­çš„channelæ¥æ”¶æ•°æ®ï¼Œå¦‚æœç¼“å†²åŒºä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªé›¶å€¼ æ— ç¼“å†²çš„channelæ˜¯åŒæ­¥çš„ï¼Œæœ‰ç¼“å†²çš„channelæ˜¯éåŒæ­¥çš„ ","date":"2021-03-24","objectID":"/go-interview-03/:8:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Goè§¦å‘å¼‚å¸¸çš„åœºæ™¯æœ‰å“ªäº› ç©ºæŒ‡é’ˆè§£æ ä¸‹æ ‡è¶Šç•Œ é™¤æ•°ä¸º0 è°ƒç”¨panicå‡½æ•° ","date":"2021-03-24","objectID":"/go-interview-03/:9:0","tags":["golang"],"title":"Go Interview 03","uri":"/go-interview-03/"},{"categories":["é¢è¯•"],"content":"Go Interview 02-Printf()ã€Sprintf()å’ŒFprintf()å‡½æ•°çš„åŒºåˆ«ç”¨æ³•æ˜¯ä»€ä¹ˆ|æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ«|è§£é‡Šgoå¸¸ç”¨å‘½ä»¤çš„ä½œç”¨|è¯´è¯´goä¸­çš„åç¨‹","date":"2021-03-24","objectID":"/go-interview-02/","tags":["golang"],"title":"Go Interview 02","uri":"/go-interview-02/"},{"categories":["é¢è¯•"],"content":"åœ¨Goä¸­ï¼ŒPrintf()ã€Sprintf()å’ŒFprintf()å‡½æ•°çš„åŒºåˆ«ç”¨æ³•æ˜¯ä»€ä¹ˆ éƒ½æ˜¯æŠŠæ ¼å¼å¥½çš„å­—ç¬¦ä¸²è¾“å‡ºï¼Œåªæ˜¯è¾“å‡ºçš„ç›®æ ‡ä¸åŒ Printf()ï¼Œæ˜¯æŠŠæ ¼å¼å­—ç¬¦ä¸²è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º(ä¸€èˆ¬æ˜¯å±å¹•ï¼Œå¯ä»¥é‡å®šå‘) Printf()æ˜¯å’Œæ ‡å‡†è¾“å‡ºæ–‡ä»¶(stdout)å…³è”çš„ï¼ŒFprintf()æ²¡æœ‰è¿™ä¸ªé™åˆ¶ Sprintf()ï¼Œæ˜¯æŠŠæ ¼å¼å­—ç¬¦ä¸²è¾“å‡ºåˆ°æŒ‡å®šå­—ç¬¦ä¸²ä¸­ï¼Œæ‰€ä»¥å‚æ•°æ¯”Printf()å¤šä¸€ä¸ªchar*ã€‚é‚£å°±æ˜¯ç›®æ ‡å­—ç¬¦ä¸²åœ°å€ã€‚ Fprintf()ï¼Œæ˜¯æŠŠæ ¼å¼å­—ç¬¦ä¸²è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶è®¾å¤‡ä¸­ï¼Œæ‰€ä»¥å‚æ•°æ¯”Printf()å¤šä¸€ä¸ªFile*ã€‚ä¸»è¦ç”¨äºæ–‡ä»¶æ“ä½œ Fprintf()æ˜¯æ ¼å¼åŒ–è¾“å‡ºåˆ°ä¸€ä¸ªstreamï¼Œé€šå¸¸æ˜¯åˆ°æ–‡ä»¶ ","date":"2021-03-24","objectID":"/go-interview-02/:1:0","tags":["golang"],"title":"Go Interview 02","uri":"/go-interview-02/"},{"categories":["é¢è¯•"],"content":"æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ« æ•°ç»„æ˜¯å…·æœ‰å›ºå®šé•¿åº¦ä¸”æ‹¥æœ‰é›¶ä¸ªæˆ–è€…å¤šä¸ªç›¸åŒæ•°æ®ç±»å‹å…ƒç´ çš„åºåˆ—ã€‚æ•°ç»„çš„é•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥[3]intå’Œ[4]intæ˜¯ä¸¤ç§ä¸åŒçš„æ•°ç»„ç±»å‹ã€‚ æ•°ç»„éœ€è¦åˆ¶å®šå¤§å°ï¼Œä¸æŒ‡å®šä¹Ÿä¼šæ ¹æ®åˆå§‹åŒ–è‡ªåŠ¨æ¨ç®—å‡ºå¤§å°ï¼Œä¸å¯æ”¹å˜ã€‚ æ•°ç»„æ˜¯å€¼ä¼ é€’ æ•°ç»„æ˜¯å†…ç½®(build-in)ç±»å‹ï¼Œæ˜¯ä¸€ç»„åŒç±»å‹æ•°æ®çš„é›†åˆï¼Œä»–æ˜¯å€¼ç±»å‹ï¼Œé€šè¿‡ä»é›¶å¼€å§‹çš„ä¸‹æ ‡ç´¢å¼•è®¿é—®å…ƒç´ å€¼ã€‚åœ¨åˆå§‹åŒ–åé•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæ— æ³•ä¿®æ”¹å…¶é•¿åº¦ã€‚å½“ä½œä¸ºæ–¹æ³•çš„å‚æ•°ä¼ å…¥æ—¶å°†å¤åˆ¶ä¸€ä»½æ•°ç»„è€Œä¸æ˜¯å¼•ç”¨åŒä¸€æŒ‡é’ˆã€‚æ•°ç»„çš„é•¿åº¦ä¹Ÿæ˜¯å…¶ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å†…ç½®å‡½æ•°len(array)è·å–å…¶é•¿åº¦ æ•°ç»„å®šä¹‰ var array [10]int var array = [5]int{1,2,3,4,5} 2.åˆ‡ç‰‡è¡¨ç¤ºæ‹¥æœ‰ä¸€ä¸ªç›¸åŒæ•°æ®ç±»å‹å…ƒç´ çš„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚åˆ‡ç‰‡æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®ç»“æ„ï¼Œä»–æœ‰ä¸‰ä¸ªå±æ€§ï¼šæŒ‡é’ˆã€é•¿åº¦å’Œå®¹é‡ã€‚ åˆ‡ç‰‡ä¸éœ€è¦æŒ‡å®šå¤§å° åˆ‡ç‰‡æ˜¯åœ°å€ä¼ é€’ åˆ‡ç‰‡å¯ä»¥é€šè¿‡æ•°ç»„åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å†…ç½®å‡½æ•°make()åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–æ—¶len=capï¼Œåœ¨è¿½åŠ å…ƒç´ æ—¶å¦‚æœå®¹é‡capä¸è¶³æ—¶å°†æŒ‰lençš„2å€æ‰©å®¹ åˆ‡ç‰‡å®šä¹‰ var slice []type = make([]type, len) ","date":"2021-03-24","objectID":"/go-interview-02/:2:0","tags":["golang"],"title":"Go Interview 02","uri":"/go-interview-02/"},{"categories":["é¢è¯•"],"content":"è§£é‡Šä»¥ä¸‹å‘½ä»¤çš„ä½œç”¨ go envï¼š ç”¨äºæŸ¥çœ‹goçš„ç¯å¢ƒå˜é‡ go runï¼š ç”¨äºç¼–è¯‘å¹¶è¿è¡Œgoæºç æ–‡ä»¶ go buildï¼š ç”¨äºç¼–è¯‘æºç æ–‡ä»¶ã€ä»£ç åŒ…ã€ä¾èµ–åŒ… go getï¼š ç”¨äºåŠ¨æ€è·å–è¿œç¨‹åŒ… go installï¼š ç”¨äºç¼–è¯‘goæ–‡ä»¶ï¼Œå¹¶å°†ç¼–è¯‘ç»“æ„å®‰è£…åˆ°binã€pkgç›®å½• go cleanï¼š ç”¨äºæ¸…ç†å·¥ä½œç›®å½•ï¼Œåˆ é™¤ç¼–è¯‘å’Œå®‰è£…é—ç•™çš„ç›®æ ‡æ–‡ä»¶ go versionï¼š ç”¨äºæŸ¥çœ‹goçš„ç‰ˆæœ¬ä¿¡æ¯ ","date":"2021-03-24","objectID":"/go-interview-02/:3:0","tags":["golang"],"title":"Go Interview 02","uri":"/go-interview-02/"},{"categories":["é¢è¯•"],"content":"è¯´è¯´Goä¸­çš„åç¨‹ åç¨‹å’Œçº¿ç¨‹éƒ½å¯ä»¥å®ç°ç¨‹åºçš„å¹¶å‘è¿è¡Œ é€šè¿‡channelæ¥è¿›è¡Œåç¨‹é—´çš„é€šä¿¡ åªéœ€è¦åœ¨å‡½æ•°è°ƒç”¨å‰æ·»åŠ goå…³é”®å­—å³å¯å®ç°goåç¨‹ï¼Œåˆ›å»ºå¹¶å‘ä»»åŠ¡ã€‚ å…³é”®å­—goå¹¶éæ‰§è¡Œå¹¶å‘ä»»åŠ¡ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªå¹¶å‘ä»»åŠ¡å•å…ƒ ","date":"2021-03-24","objectID":"/go-interview-02/:4:0","tags":["golang"],"title":"Go Interview 02","uri":"/go-interview-02/"},{"categories":["å®ä¾‹"],"content":"Go Instance 23-ä¿¡å·ã€é€€å‡º","date":"2021-03-24","objectID":"/go-instance-23/","tags":["golang"],"title":"Go Instance 23","uri":"/go-instance-23/"},{"categories":["å®ä¾‹"],"content":"ä¿¡å· æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›Goèƒ½æ™ºèƒ½çš„å¤„ç†Unixä¿¡å·ã€‚ä¾‹å¦‚ï¼Œå¸Œæœ›å½“æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ªSIGTERMä¿¡å·æ—¶èƒ½è‡ªåŠ¨å…³æœºï¼Œæˆ–è€…ä¸€ä¸ªå‘½ä»¤å·å·¥å…·åœ¨æ¥æ”¶åˆ°ä¸€ä¸ªSIGINTä¿¡å·æ—¶åœæ­¢å¤„ç†è¾“å…¥ä¿¡æ¯ã€‚ package main import ( \"fmt\" \"os\" \"os/signal\" \"syscall\" ) func main() { sigs := make(chan os.Signal, 1) done := make(chan bool, 1) //signal.Notifyæ³¨å†Œè¿™ä¸ªç»™å®šçš„é€šé“ç”¨äºæ¥æ”¶ç‰¹å®šçš„ä¿¡å· signal.Notify(sigs, syscall.SIGINT, syscall.SIGTERM) //å¼€å¯ä¸€ä¸ªGoåç¨‹æ‰§è¡Œé˜»å¡ä¿¡å·æ¥æ”¶çš„æ“ä½œ //å½“signæ¥æ”¶åˆ°ä¸€ä¸ªå€¼,å°†å…¶æ‰“å°,ç„¶åé€šçŸ¥ç¨‹åºå¯ä»¥é€€å‡ºäº† go func() { sig := \u003c-sigs fmt.Println() fmt.Println(sig) done \u003c- true }() //ç¨‹åºåœ¨è¿™ç­‰å¾…,ç›´åˆ°å¾—åˆ°äº†æœŸå¾…çš„ä¿¡å·,ç„¶åé€€å‡º fmt.Println(\"awaiting signal\") \u003c- done fmt.Println(\"exiting\") } ","date":"2021-03-24","objectID":"/go-instance-23/:1:0","tags":["golang"],"title":"Go Instance 23","uri":"/go-instance-23/"},{"categories":["å®ä¾‹"],"content":"é€€å‡º ä½¿ç”¨os.Exitæ¥ç«‹å³è¿›è¡Œå¸¦ç»™å®šçŠ¶æ€çš„é€€å‡º package main import ( \"fmt\" \"os\" ) func main() { //å½“ä½¿ç”¨os.Exitæ—¶deferå°†ä¸ä¼šæ‰§è¡Œ defer fmt.Println(\"!\") //é€€å‡ºå¹¶ä¸”é€€å‡ºçŠ¶æ€ä¸º3 os.Exit(3) } ","date":"2021-03-24","objectID":"/go-instance-23/:2:0","tags":["golang"],"title":"Go Instance 23","uri":"/go-instance-23/"},{"categories":["å®ä¾‹"],"content":"Go Instance 22-è¡Œè¿‡æ»¤å™¨ã€å‘½ä»¤å·æ ‡å¿—","date":"2021-03-23","objectID":"/go-instance-22/","tags":["golang"],"title":"Go Instance 22","uri":"/go-instance-22/"},{"categories":["å®ä¾‹"],"content":"è¡Œè¿‡æ»¤å™¨ ä¸€ä¸ªè¡Œè¿‡æ»¤å™¨åœ¨è¯»å–æ ‡å‡†è¾“å…¥æµçš„è¾“å…¥ï¼Œå¤„ç†è¯¥è¾“å…¥ï¼Œç„¶åå°†å¾—åˆ°ä¸€äº›çš„ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºçš„ç¨‹åºä¸­æ˜¯å¸¸è§çš„ä¸€ä¸ªåŠŸèƒ½ã€‚grepå’Œsedæ˜¯å¸¸è§çš„è¡Œè¿‡æ»¤å™¨ã€‚ package main import ( \"bufio\" \"fmt\" \"os\" \"strings\" ) //å°†æ‰€æœ‰çš„è¾“å…¥æ–‡å­—è½¬åŒ–ä¸ºå¤§å†™çš„ func main() { //å¯¹os.Stdinä½¿ç”¨ä¸€ä¸ªå¸¦ç¼“å†²çš„Scanner //å¯ä»¥ç›´æ¥ä½¿ç”¨æ–¹ä¾¿çš„Scanæ–¹æ³•æ¥ç›´æ¥è¯»å–ä¸€è¡Œ //æ¯æ¬¡è°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥è®©scannerè¯»å–ä¸‹ä¸€è¡Œ scanner := bufio.NewScanner(os.Stdin) //Textè¿”å›å½“å‰çš„tokenï¼Œç°åœ¨æ˜¯è¾“å…¥ä¸‹ä¸€è¡Œ if scanner.Scan() { str := strings.ToUpper(scanner.Text()) //è¾“å‡ºå¤§å†™çš„è¡Œ fmt.Println(str) } //æ£€æŸ¥Scançš„é”™è¯¯ï¼Œæ–‡ä»¶ç»“æŸç¬¦æ˜¯å¯ä»¥æ¥æ”¶çš„ï¼Œå¹¶ä¸”ä¸ä¼šè¢«Scanå½“åšä¸€ä¸ªé”™è¯¯ if err := scanner.Err(); err != nil { fmt.Fprintf(os.Stderr, \"error:\", err) os.Exit(1) } } ","date":"2021-03-23","objectID":"/go-instance-22/:1:0","tags":["golang"],"title":"Go Instance 22","uri":"/go-instance-22/"},{"categories":["å®ä¾‹"],"content":"å‘½ä»¤è¡Œæ ‡å¿— å‘½ä»¤è¡Œæ ‡å¿—æ˜¯å‘½ä»¤è¡Œç¨‹åºæŒ‡å®šé€‰é¡¹çš„å¸¸ç”¨æ–¹å¼ package main import ( \"flag\" \"fmt\" ) func main() { //åŸºæœ¬çš„æ ‡è®°åªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ•´æ•°å’Œå¸ƒå°”å€¼ //å£°æ˜ä¸€ä¸ªé»˜è®¤å€¼ä¸ºfooçš„å­—ç¬¦ä¸²æ ‡å¿—wordå¹¶å¸¦æœ‰ä¸€ä¸ªç®€çŸ­çš„æè¿° //è¿™ä¸ªflag.stringè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆ wordPtr := flag.String(\"word\", \"foo\", \"a string\") //ä½¿ç”¨å’Œwordæ ‡å¿—ç›¸åŒçš„æ–¹å¼å£°æ˜numbå’Œforkæ ‡å¿— numbPtr := flag.Int(\"numb\", 42, \"an int\") boolPtr := flag.Bool(\"fork\", false, \"a bool\") //ç”¨ç¨‹åºä¸­å·²æœ‰çš„æ ‡å¿—æ¥å£°æ˜ä¸€ä¸ªæ ‡å¿—ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚æ³¨æ„åœ¨å£°æ˜ä¸­ä½¿ç”¨å‚æ•°çš„æŒ‡é’ˆ var svar string flag.StringVar(\u0026svar, \"svar\", \"bar\", \"a string var\") //æ‰€æœ‰æ ‡å¿—éƒ½å£°æ˜å®Œæˆåï¼Œè°ƒç”¨flag.Parse()æ¥æ‰§è¡Œå‘½ä»¤è§£æ flag.Parse() //è¾“å‡ºè§£æçš„é€‰é¡¹ä»¥åŠåé¢çš„ä½ç½®å‚æ•° fmt.Println(\"word:\", *wordPtr) fmt.Println(\"numB:\", *numbPtr) fmt.Println(\"fork:\", *boolPtr) fmt.Println(\"svar:\", svar) fmt.Println(\"tail:\", flag.Args()) } ","date":"2021-03-23","objectID":"/go-instance-22/:2:0","tags":["golang"],"title":"Go Instance 22","uri":"/go-instance-22/"},{"categories":["å®ä¾‹"],"content":"Go Instance 21-è¯»æ–‡ä»¶ã€å†™æ–‡ä»¶","date":"2021-03-23","objectID":"/go-instance-21/","tags":["golang"],"title":"Go Instance 21","uri":"/go-instance-21/"},{"categories":["å®ä¾‹"],"content":"è¯»æ–‡ä»¶ package main import ( \"bufio\" \"fmt\" \"io\" \"io/ioutil\" \"os\" ) func check(e error) { if e != nil { panic(e) } } func main() { //å¤§éƒ¨åˆ†æ–‡ä»¶è¯»å–éƒ½æ˜¯å°†å†…å®¹è¯»å–åˆ°å†…å­˜ä¸­ dat, err := ioutil.ReadFile(\"f:/test/test.txt\") check(err) fmt.Println(string(dat)) //è¯»å–æ–‡ä»¶å¯ä»¥ä»os.Openæ‰“å¼€æ–‡ä»¶è·å–ä¸€ä¸ªos.Fileå¼€å§‹ f, e := os.Open(\"f:/test/test1.txt\") defer f.Close() check(e) //ä»æ–‡ä»¶å¼€å§‹ä½ç½®è¯»å–å­—èŠ‚ã€‚è¿™é‡Œæœ€å¤šè¯»å–5ä¸ªå­—èŠ‚ã€‚ b1 := make([]byte, 5) n1, err1 := f.Read(b1) check(err1) fmt.Println(n1, string(b1)) fmt.Printf(\"%d bytes: %s\\n\", n1, string(b1)) //ä¹Ÿå¯ä»¥Seekåˆ°ä¸€ä¸ªæ–‡ä»¶å·²çŸ¥çš„ä½ç½®å¹¶ä»è¿™ä¸ªä½ç½®å¼€å§‹è¯»å– o2, err := f.Seek(6, 0) check(err) b2 := make([]byte, 2) n2, err := f.Read(b2) check(err) fmt.Printf(\"%d bytes @ %d: %s\\n\", n2, o2, string(b2)) //ioåŒ…æä¾›äº†å¯ä»¥å¸®åŠ©æ–‡ä»¶è¯»å–çš„å‡½æ•° //å¯ä»¥ä½¿ç”¨ReadAtLeastå¾—åˆ°ä¸€ä¸ªæ›´å¥å£®çš„å®ç° o3, err := f.Seek(6, 0) check(err) b3 := make([]byte, 2) n3, err := io.ReadAtLeast(f, b3, 2) check(err) fmt.Printf(\"%d bytes @ %d: %s\\n\", n3, o3, string(b3)) //æ²¡æœ‰å†…ç½®çš„å›è½¬æ”¯æŒï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨Seek(0,0)å®ç° _, err = f.Seek(0, 0) check(err) //bufioåŒ…å®ç°äº†å¸¦ç¼“å†²çš„è¯»å– //è¿™ä¸ä»…å¯¹æœ‰å¾ˆå¤šçš„å°è¯»å–æ“ä½œçš„æ€§èƒ½æœ‰æ‰€æå‡ï¼Œè¿˜æä¾›äº†å¾ˆå¤šé™„åŠ çš„è¯»å–å‡½æ•° r4 := bufio.NewReader(f) b4, err := r4.Peek(5) check(err) fmt.Printf(\"5 bytes: %s\\n\", string(b4)) } ","date":"2021-03-23","objectID":"/go-instance-21/:1:0","tags":["golang"],"title":"Go Instance 21","uri":"/go-instance-21/"},{"categories":["å®ä¾‹"],"content":"å†™æ–‡ä»¶ package main import ( \"bufio\" \"fmt\" \"io/ioutil\" \"os\" ) //å’Œreadå¤„äºåŒä¸€ä¸ªåŒ…ï¼Œä¸èƒ½æœ‰ç›¸åŒçš„æ–¹æ³•å //func check(err error) { // if err != nil { // panic(err) // } //} func main() { //å¦‚ä½•å†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œ d1 := \"hello\\ngo\\n\" err := ioutil.WriteFile(\"f:/test/test2.txt\", []byte(d1), 0644) check(err) //æ›´ç»†ç²’åº¦çš„å†™å…¥ï¼Œå…ˆæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ f1, err := os.Create(\"f:/test/test3.txt\") check(err) defer f1.Close() //å†™å…¥è¦å†™çš„å­—èŠ‚åˆ‡ç‰‡ d2 := []byte{115, 111, 109, 101, 10} n, err := f1.Write(d2) check(err) fmt.Println(n) //WriteStringä¹Ÿæ˜¯å¯ç”¨çš„ n3, err := f1.WriteString(\"writes\\n\") check(err) fmt.Println(n3) //è°ƒç”¨syncå°†ç¼“å†²åŒºçš„ä¿¡æ¯å†™å…¥ç£ç›˜ f1.Sync() //bufioæä¾›å¸¦ç¼“å†²çš„å†™å…¥å™¨ w := bufio.NewWriter(f1) n4, err := w.WriteString(\"buffered\\n\") check(err) fmt.Println(n4) //ä½¿ç”¨Flushç¡®ä¿æ‰€æœ‰ç¼“å­˜æ“ä½œä»¥å†™å…¥ç£ç›˜ w.Flush() } ","date":"2021-03-23","objectID":"/go-instance-21/:2:0","tags":["golang"],"title":"Go Instance 21","uri":"/go-instance-21/"},{"categories":["å®ä¾‹"],"content":"Go Instance 20-SHA1æ•£åˆ—ã€Base64ç¼–ç ","date":"2021-03-23","objectID":"/go-instance-20/","tags":["golang"],"title":"Go Instance 20","uri":"/go-instance-20/"},{"categories":["å®ä¾‹"],"content":"SHA1æ•£åˆ— SHA1æ•£åˆ—ç»å¸¸ç”¨ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶æˆ–è€…æ–‡æœ¬å—çš„çŸ­æ ‡è¯†ã€‚ä¾‹å¦‚ï¼šGitç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¤§é‡ä½¿ç”¨SHA1æ¥æ ‡è¯†å—ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶å’Œç›®å½•ã€‚ package main import ( \"crypto/sha1\" \"fmt\" ) func main() { s := \"sha1 this string\" //äº§ç”Ÿä¸€ä¸ªæ•£åˆ—å€¼çš„æ–¹å¼æ˜¯sha1.New(),sha1.Write(bytes),sha1.sum(bytes) h := sha1.New() //å†™å…¥è¦å¤„ç†çš„å­—èŠ‚ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œéœ€ä½¿ç”¨[]byte()å¼ºåˆ¶è½¬æ¢æˆå­—èŠ‚æ•°ç»„ h.Write([]byte(s)) //è¿™ä¸ªç”¨æ¥å¾—åˆ°æœ€ç»ˆçš„æ•£åˆ—å€¼çš„å­—ç¬¦åˆ‡ç‰‡ //Sumçš„å‚æ•°ä¸ºç°æœ‰çš„å­—ç¬¦åˆ‡ç‰‡è¿½åŠ é¢å¤–çš„å­—èŠ‚åˆ‡ç‰‡ï¼šä¸€èˆ¬ä¸éœ€è¦ sum := h.Sum(nil) //sha1å€¼ç»å¸¸ä»¥16è¿›åˆ¶è¾“å‡º fmt.Println(h) fmt.Println(sum) fmt.Printf(\"%x\\n\", sum) } ","date":"2021-03-23","objectID":"/go-instance-20/:1:0","tags":["golang"],"title":"Go Instance 20","uri":"/go-instance-20/"},{"categories":["å®ä¾‹"],"content":"Base64ç¼–ç  Goæä¾›å†…å»ºçš„base64ç¼–ç  package main import ( \"encoding/base64\" \"fmt\" ) func main() { //å°†è¦ç¼–è§£ç çš„å­—ç¬¦ä¸² data := \"abc123!?$*\u0026()'-=@~\" //GoåŒæ—¶æ”¯æŒæ ‡å‡†çš„å’ŒURLå…¼å®¹çš„base64æ ¼å¼ //ç¼–ç éœ€è¦ä½¿ç”¨[]byteç±»å‹å‚æ•°ï¼Œæ•…è¦å°†å­—ç¬¦ä¸²è½¬æˆå­—èŠ‚å‹ s := base64.StdEncoding.EncodeToString([]byte(data)) fmt.Println(s) //è§£ç å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå¦‚æœä¸ç¡®å®šï¼Œéœ€è¦è¿›è¡Œé”™è¯¯æ£€æŸ¥ bys, _ := base64.StdEncoding.DecodeString(s) fmt.Println(string(bys)) fmt.Println() //ä½¿ç”¨URLå…¼å®¹çš„base64æ ¼å¼è¿›è¡Œç¼–ç è§£ç  s1 := base64.URLEncoding.EncodeToString([]byte(data)) fmt.Println(s1) bys2, _ := base64.URLEncoding.DecodeString(s1) fmt.Println(string(bys2)) } ","date":"2021-03-23","objectID":"/go-instance-20/:2:0","tags":["golang"],"title":"Go Instance 20","uri":"/go-instance-20/"},{"categories":["å®ä¾‹"],"content":"Go Instance 19-æ•°å­—è§£æï¼ŒURLè§£æ","date":"2021-03-23","objectID":"/go-instance-19/","tags":["golang"],"title":"Go Instance 19","uri":"/go-instance-19/"},{"categories":["å®ä¾‹"],"content":"æ•°å­—è§£æ ä»å­—ç¬¦ä¸²ä¸­è§£ææ•°å­— package main import ( \"fmt\" \"strconv\" ) func main() { //ä½¿ç”¨Parse.Floatè§£ææµ®ç‚¹æ•°ï¼Œ64è¡¨ç¤ºè§£æçš„æ•°çš„ä½æ•° f, _ := strconv.ParseFloat(\"1.234\", 64) fmt.Println(f) //åœ¨ä½¿ç”¨ParseIntè§£ææ•´æ•°æ—¶ï¼Œbaseå‚æ•°0è¡¨ç¤ºè‡ªåŠ¨æ¨æ–­å­—ç¬¦ä¸²æ‰€è¡¨ç¤ºçš„æ•°å­—è¿›åˆ¶ //64è¡¨ç¤ºè¿”å›çš„æ•´å‹æ•°æ˜¯ä»¥64å­˜å‚¨çš„ i, _ := strconv.ParseInt(\"123\", 0, 64) fmt.Println(i) //ParseIntä¼šè‡ªåŠ¨è¯†åˆ«å‡ºåå…­è¿›åˆ¶æ•° d, _ := strconv.ParseInt(\"0x1c8\", 0, 64) fmt.Println(d) //ParseUintä¹Ÿæ˜¯å¯ç”¨çš„ u, _ := strconv.ParseUint(\"789\", 0, 64) fmt.Println(u) //Atoiæ˜¯ä¸€ä¸ªåŸºç¡€çš„åè¿›åˆ¶æ•´å‹æ•°è½¬æ¢å‡½æ•° a, _ := strconv.Atoi(\"135\") fmt.Println(a) //åœ¨è¾“å…¥é”™è¯¯æ—¶ï¼Œä¼šæŠ¥é”™ _, e := strconv.Atoi(\"wat\") fmt.Println(e) } ","date":"2021-03-23","objectID":"/go-instance-19/:1:0","tags":["golang"],"title":"Go Instance 19","uri":"/go-instance-19/"},{"categories":["å®ä¾‹"],"content":"URLè§£æ URLæä¾›äº†ä¸€ä¸ªåŒä¸€èµ„æºå®šä½æ–¹å¼ package main import ( \"fmt\" \"net/url\" \"strings\" ) func main() { //è¿™ä¸ªURLå®ä¾‹ï¼ŒåŒ…å«ä¸€ä¸ªSchemeï¼Œè®¤è¯ä¿¡æ¯ï¼Œä¸»æœºåï¼Œç«¯å£ï¼Œè·¯å¾„ï¼ŒæŸ¥è¯¢å‚æ•°å’Œç‰‡æ®µ s := \"postgres://user:pass@host.com:5432/path?k=v#f\" //è§£æURLï¼Œç¡®ä¿è§£ææ²¡é”™ u, e := url.Parse(s) if e != nil { panic(e) } //ç›´æ¥è®¿é—®Scheme fmt.Println(u.Scheme) //UseråŒ…å«äº†æ‰€æœ‰çš„è®¤è¯ä¿¡æ¯ï¼Œè°ƒç”¨Usernameå’ŒPasswordæ¥è·å–ç‹¬ç«‹å€¼ fmt.Println(u.User) fmt.Println(u.User.Username()) p, _ := u.User.Password() fmt.Println(p) //HoståŒæ—¶åŒ…å«ä¸»æœºåå’Œç«¯å£ä¿¡æ¯ï¼Œå¦‚æœç«¯å£å·å­˜åœ¨çš„è¯ï¼Œä½¿ç”¨strings.Splitä»Hostä¸­æ‰‹åŠ¨æå– fmt.Println(u.Host) h := strings.Split(u.Host, \":\") fmt.Println(h[0]) fmt.Println(h[1]) //æå–è·¯å¾„å’ŒæŸ¥è¯¢ç‰‡æ®µä¿¡æ¯ fmt.Println(u.Path) fmt.Println(u.Fragment) //è¦å¾—åˆ°å­—ç¬¦ä¸²ä¸­çš„k=vè¿™ç§æ ¼å¼çš„æŸ¥è¯¢å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨RawQuery //ä¹Ÿå¯ä»¥å°†æŸ¥è¯¢å‚æ•°è§£æä¸ºä¸€ä¸ªmapã€‚å·²è§£æçš„æŸ¥è¯¢å‚æ•° map ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²ä¸ºé”®ï¼Œ //å¯¹åº”å€¼å­—ç¬¦ä¸²åˆ‡ç‰‡ä¸ºå€¼ï¼Œæ‰€ä»¥å¦‚ä½•åªæƒ³å¾—åˆ°ä¸€ä¸ªé”®å¯¹åº”çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œå°†ç´¢å¼•ä½ç½®è®¾ç½®ä¸º [0] å°±è¡Œäº†ã€‚ fmt.Println(u.RawQuery) m, _ := url.ParseQuery(u.RawQuery) fmt.Println(m) fmt.Println(m[\"k\"][0]) } ","date":"2021-03-23","objectID":"/go-instance-19/:2:0","tags":["golang"],"title":"Go Instance 19","uri":"/go-instance-19/"},{"categories":["å®ä¾‹"],"content":"Go Instance 18-éšæœºæ•°","date":"2021-03-23","objectID":"/go-instance-18/","tags":["golang"],"title":"Go Instance 18","uri":"/go-instance-18/"},{"categories":["å®ä¾‹"],"content":"éšæœºæ•° Goçš„math/randåŒ…æä¾›äº†ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ package main import ( \"fmt\" \"math/rand\" \"time\" ) func main() { //rand.Intnè¿”å›ä¸€ä¸ªéšæœºæ•´æ•°nï¼Œ0\u003c=n\u003c=100 fmt.Print(rand.Intn(100),\",\") fmt.Print(rand.Intn(100)) fmt.Println() //rand.Float64è¿”å›ä¸€ä¸ª64ä½æµ®ç‚¹æ•°fï¼Œ0.0\u003c=f\u003c=1.0 fmt.Println(rand.Float64()) //è¿™ä¸ªæŠ€å·§å¯ä»¥ç”¨æ¥ç”Ÿæˆå…¶ä»–èŒƒå›´çš„éšæœºæµ®ç‚¹æ•°fï¼Œ5.0\u003c=f\u003c=10 fmt.Print((rand.Float64()*5)+5, \",\") fmt.Print((rand.Float64()*5)+5) fmt.Println() //é»˜è®¤æƒ…å†µä¸‹ï¼Œç»™å®šçš„ç§å­æ˜¯ç¡®å®šçš„ï¼Œæ¯æ¬¡éƒ½ä¼šäº§ç”Ÿç›¸åŒçš„éšæœºæ•°æ•°å­—åºåˆ— //è¦äº§ç”Ÿå˜åŒ–çš„åºåˆ—ï¼Œéœ€è¦ç»™å®šä¸€ä¸ªå˜åŒ–çš„ç§å­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ //å¦‚æœæ˜¯å‡ºäºåŠ å¯†ç›®çš„ï¼Œéœ€è¦ä½¿ç”¨éšæœºæ•°çš„è¯ï¼Œè¯·ä½¿ç”¨crypto/randåŒ…ï¼Œæ­¤æ–¹æ³•ä¸å¤Ÿå®‰å…¨ s1 := rand.NewSource(time.Now().UnixNano()) r1 := rand.New(s1) fmt.Println(r1) //è°ƒç”¨ä¸Šé¢rand.Sourceçš„å‡½æ•°å’Œè°ƒç”¨randåŒ…ä¸­çš„å‡½æ•°æ˜¯ç›¸åŒçš„ fmt.Print(r1.Intn(100), \",\") fmt.Print(r1.Intn(100)) fmt.Println() //å¦‚æœä½¿ç”¨ç›¸åŒç§å­ç”Ÿæˆçš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå°†ä¼šäº§ç”Ÿç›¸åŒçš„éšæœºæ•°åˆ— s2 := rand.NewSource(42) r2 := rand.New(s2) fmt.Print(r2.Intn(100), \",\") fmt.Print(r2.Intn(100)) fmt.Println() s3 := rand.NewSource(42) r3 := rand.New(s3) fmt.Print(r3.Intn(100), \",\") fmt.Print(r3.Intn(100)) fmt.Println() } ","date":"2021-03-23","objectID":"/go-instance-18/:1:0","tags":["golang"],"title":"Go Instance 18","uri":"/go-instance-18/"},{"categories":["å®ä¾‹"],"content":"Go Instance 17-æ—¶é—´","date":"2021-03-23","objectID":"/go-instance-17/","tags":["golang"],"title":"Go Instance 17","uri":"/go-instance-17/"},{"categories":["å®ä¾‹"],"content":"æ—¶é—´ Goå¯¹æ—¶é—´å’Œæ—¶é—´æ®µæä¾›äº†å¤§é‡çš„æ”¯æŒ package main import ( \"fmt\" \"time\" ) func main() { p := fmt.Println //è·å¾—å½“å‰æ—¶é—´ now := time.Now() p(now) //æä¾›å¹´æœˆæ—¥ç­‰ä¿¡æ¯ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªtimeã€‚æ—¶é—´æ€»æ˜¯å…³è”ä½ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚æ—¶åŒº then := time.Date(2009, 11, 17, 20, 34, 58, 651387237, time.UTC) p(then) //æå–å‡ºæ—¶é—´çš„å„ä¸ªç»„æˆéƒ¨åˆ† p(then.Year()) p(then.Month()) p(then.Day()) p(then.Hour()) p(then.Minute()) p(then.Second()) p(then.Nanosecond()) p(then.Location()) //è¾“å‡ºæ—¶é—´çš„æ˜ŸæœŸ p(then.Weekday()) //ä½¿ç”¨æ–¹æ³•æ¯”è¾ƒæ—¶é—´ï¼Œç²¾ç¡®åˆ°ç§’ p(then.Before(now)) p(then.After(now)) p(then.Equal(now)) //Subè¿”å›ä¸€ä¸ªdurationæ¥è¡¨ç¤ºä¸¤ä¸ªæ—¶é—´ç‚¹çš„é—´éš”æ—¶é—´ diff := now.Sub(then) p(diff) //è®¡ç®—ä¸åŒå•ä½ä¸‹çš„æ—¶é—´é•¿åº¦å€¼ p(diff.Hours()) p(diff.Minutes()) p(diff.Seconds()) p(diff.Nanoseconds()) //å¯ä»¥ä½¿ç”¨Addå°†æ—¶é—´åç§»ä¸€ä¸ªæ—¶é—´é—´éš”ï¼Œæˆ–åœ¨æ—¶é—´é—´éš”å‰åŠ -ï¼Œå°†æ—¶é—´å‰ç§»ä¸€ä¸ªæ—¶é—´é—´éš” p(then.Add(diff)) p(then.Add(-diff)) } ","date":"2021-03-23","objectID":"/go-instance-17/:1:0","tags":["golang"],"title":"Go Instance 17","uri":"/go-instance-17/"},{"categories":["å®ä¾‹"],"content":"æ—¶é—´æˆ³ ä¸€èˆ¬ç¨‹åºéƒ½æœ‰è·å–Unixæ—¶é—´çš„ç§’æ•°ï¼Œæ¯«ç§’æ•°æˆ–å¾®ç§’æ•°çš„éœ€è¦ package main import ( \"fmt\" \"time\" ) func main() { //åˆ†åˆ«ä½¿ç”¨å¸¦Unixæˆ–è€…UnixNanoçš„time.Nowæ¥è·å–ä»è‡ªåè°ƒä¸–ç•Œæ—¶èµ·åˆ°ç°åœ¨çš„ç§’æ•°æˆ–çº³ç§’æ•° now := time.Now() secs := now.Unix() nanos := now.UnixNano() fmt.Println(now) //UnixMillisæ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥è¦å¾—åˆ°æ¯«ç§’æ•°ï¼Œå¾—è‡ªå·±è½¬åŒ– millis := nanos/1000000 fmt.Println(secs) fmt.Println(millis) fmt.Println(nanos) //ä¹Ÿå¯ä»¥å°†ç§’æ•°æˆ–æ¯«ç§’æ•°è½¬åŒ–ä¸ºæ—¶é—´ fmt.Println(time.Unix(secs, 0)) fmt.Println(time.Unix(0, nanos)) } ","date":"2021-03-23","objectID":"/go-instance-17/:2:0","tags":["golang"],"title":"Go Instance 17","uri":"/go-instance-17/"},{"categories":["å®ä¾‹"],"content":"æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ Goæ”¯æŒé€šè¿‡åŸºäºæè¿°æ¨¡æ¿çš„æ—¶é—´æ ¼å¼åŒ–å’Œè§£æ package main import ( \"fmt\" \"time\" ) func main() { p := fmt.Println now := time.Now() //æŒ‰ç…§RFC3339æ ¼å¼åŒ– p(now.Format(time.RFC3339)) //æ—¶é—´è§£æä½¿ç”¨Formatç›¸åŒçš„å½¢å¼å€¼ t1, _ := time.Parse(time.RFC3339, \"2021-03-23T11:01:37+08:00\") p(t1) //Formatå’ŒParseä½¿ç”¨åŸºäºä¾‹å­çš„å½¢å¼æ¥å†³å®šæ—¥æœŸæ ¼å¼ //ä¸€èˆ¬åªéœ€è¦ä½¿ç”¨timeåŒ…å†…çš„æ ¼å¼ï¼Œä½†æ˜¯å¯ä»¥å®ç°è‡ªå®šä¹‰æ¨¡å¼ // æ¨¡å¼å¿…é¡»ä½¿ç”¨æ—¶é—´ Mon Jan 2 15:04:05 MST 2006æ¥æŒ‡å®šç»™å®šæ—¶é—´/å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–/è§£ææ–¹å¼ã€‚ // æ—¶é—´ä¸€å®šè¦æŒ‰ç…§å¦‚ä¸‹æ‰€ç¤ºï¼š2006ä¸ºå¹´ï¼Œ15 ä¸ºå°æ—¶ï¼ŒMonday ä»£è¡¨æ˜ŸæœŸå‡ ï¼Œç­‰ç­‰ã€‚ p(now.Format(\"03:04pm\")) p(now.Format(\"Mon Jan _2 15:04:05 2006\")) p(now.Format(\"2006-01-02T15:04:05.999999-07:00\")) format := \"3 04pm\" t2, _ := time.Parse(format, \"8 41pm\") p(t2) //å¯¹äºçº¯æ•°å­—è¡¨ç¤ºçš„æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¥æå–æ—¶é—´å€¼çš„ç»„æˆ fmt.Printf(\"%d-%02d-%02dT%02d:%02d:%02d-00:00\\n\", now.Year(), now.Month(), now.Day(), now.Hour(), now.Minute(), now.Second()) //Parseå‡½æ•°åœ¨è¾“å…¥æ—¶é—´æ ¼å¼ä¸æ­£ç¡®ä¼šè¿”å›é”™è¯¯ ansic := \"Mon Jan _2 15:04:05 2006\" _, e := time.Parse(ansic, \"8:41PM\") fmt.Println(e) } ","date":"2021-03-23","objectID":"/go-instance-17/:3:0","tags":["golang"],"title":"Go Instance 17","uri":"/go-instance-17/"},{"categories":["å®ä¾‹"],"content":"Go Instance 16-Json","date":"2021-03-22","objectID":"/go-instance-16/","tags":["golang"],"title":"Go Instance 16","uri":"/go-instance-16/"},{"categories":["å®ä¾‹"],"content":"JSON Goæä¾›å†…ç½®çš„JSONç¼–è§£ç æ”¯æŒï¼ŒåŒ…æ‹¬å†…ç½®æˆ–è‡ªå®šä¹‰ç±»å‹ä¸JSONæ•°æ®ä¹‹é—´çš„è½¬åŒ– package main import ( \"encoding/json\" \"fmt\" \"os\" ) type Response1 struct { Page int Fruits []string } type Response2 struct { Page int `json:\"page\"` Fruits []string `json:\"fruits\"` } func main() { //åŸºæœ¬æ•°æ®ç±»å‹åˆ°JSONå­—ç¬¦ä¸²çš„ç¼–ç è¿‡ç¨‹ bolB, _ := json.Marshal(true) fmt.Println(string(bolB)) intB, _ := json.Marshal(1) fmt.Println(string(intB)) fltB, _ := json.Marshal(3.14) fmt.Println(string(fltB)) strB, _ := json.Marshal(\"gopher\") fmt.Println(string(strB)) //åˆ‡ç‰‡å’Œmapç¼–ç æˆJSONæ•°ç»„å’Œå¯¹è±¡ slcD := []string{\"apple\", \"peach\", \"pear\"} slcB, _ := json.Marshal(slcD) fmt.Println(string(slcB)) mapD := map[string]int{\"apple\": 5, \"lettuce\": 7} mapB, _ := json.Marshal(mapD) fmt.Println(string(mapB)) //JSONåŒ…å¯ä»¥è‡ªåŠ¨ç¼–ç è‡ªå®šä¹‰ç±»å‹ //ç¼–ç ä»…è¾“å‡ºå¯å¯¼å‡ºçš„å­—æ®µï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨ä»–ä»¬çš„åå­—ä½œä¸ºJSONæ•°æ®çš„é”® res1D := \u0026Response1{ Page:1, Fruits:[]string{\"apple\", \"peach\", \"pear\"}, } res1B, _ := json.Marshal(res1D) fmt.Println(string(res1B)) //å¯ä»¥åœ¨ç»“æ„ä½“å­—æ®µå£°æ˜æ ‡ç­¾æ¥è‡ªå®šä¹‰ç¼–ç çš„JSONæ•°æ®é”®åç§° res2D := \u0026Response2{ Page:1, Fruits:[]string{\"apple\", \"peach\", \"pear\"}, } res2B, _ := json.Marshal(res2D) fmt.Println(string(res2B)) //JSONæ•°æ®è§£ç  byt := []byte(`{\"num\":6.13, \"strs\":[\"a\", \"b\"]}`) //æä¾›ä¸€ä¸ªJSONåŒ…å¯ä»¥å­˜æ”¾è§£ç æ•°æ®çš„å˜é‡ var dat map[string]interface{} //å®é™…çš„è§£ç ä¸é”™è¯¯æ£€æŸ¥ if err := json.Unmarshal(byt, \u0026dat); err != nil { panic(err) } fmt.Println(dat) //ä¸ºäº†ä½¿ç”¨è§£ç mapä¸­çš„å€¼ï¼Œå¯ä»¥å°†ä»–ä»¬è¿›è¡Œé€‚å½“çš„ç±»å‹è½¬åŒ– //å°†numçš„å€¼è½¬åŒ–ä¸ºfloat64 num := dat[\"num\"].(float64) fmt.Println(num) //è®¿é—®åµŒå¥—çš„å€¼éœ€è¦ä¸€ç³»åˆ—çš„è½¬åŒ– strs := dat[\"strs\"].([]interface{}) str := strs[0].(string) fmt.Println(str) //è§£ç JSONå€¼åˆ°è‡ªå®šä¹‰ç±»å‹ //è¿™ä¸ªåŠŸèƒ½çš„å¥½å¤„ï¼šå¯ä»¥ä¸ºç¨‹åºå¸¦æ¥é¢å¤–çš„ç±»å‹å®‰å…¨åŠ å¼ºï¼Œå¹¶ä¸”æ¶ˆé™¤è®¿é—®æ•°æ®æ—¶çš„ç±»å‹æ–­è¨€ str1 := `{\"page\": 1, \"fruits\": [\"apple\", \"pear\"]}` res := Response2{} json.Unmarshal([]byte(str1), \u0026res) fmt.Println(res) fmt.Println(res.Fruits[0]) //å¯ä»¥å’Œos.Stdoutä¸€æ ·ï¼Œç›´æ¥å°†JSONç¼–ç è¾“å‡ºè‡³os.Writeræµä¸­ï¼Œæˆ–è€…ä½œä¸ºHTTPå“åº”ä½“ enc := json.NewEncoder(os.Stdout) d := map[string]int{\"apple\": 5, \"lettuce\": 7} enc.Encode(d) } ","date":"2021-03-22","objectID":"/go-instance-16/:1:0","tags":["golang"],"title":"Go Instance 16","uri":"/go-instance-16/"},{"categories":["å®ä¾‹"],"content":"Go Instance 15-å­—ç¬¦ä¸²æ ¼å¼åŒ–ã€æ­£åˆ™è¡¨è¾¾å¼","date":"2021-03-22","objectID":"/go-instance-15/","tags":["golang"],"title":"Go Instance 15","uri":"/go-instance-15/"},{"categories":["å®ä¾‹"],"content":"å­—ç¬¦ä¸²æ ¼å¼åŒ– Goåœ¨ä¼ ç»Ÿçš„printfä¸­å¯¹å­—ç¬¦ä¸²æ ¼å¼åŒ–æä¾›äº†ä¼˜å¼‚çš„æ”¯æŒã€‚ package main import ( \"fmt\" \"os\" ) type point struct { x, y int } func main() { //Goä¸ºå¸¸è§„Goå€¼çš„æ ¼å¼è®¾è®¡äº†è®¸å¤šç§æ‰“å°æ–¹å¼ã€‚ p := point{1, 2} fmt.Printf(\"%v\\n\", p) //å¦‚æœå€¼æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œ%+vçš„æ ¼å¼åŒ–è¾“å‡ºå†…å®¹åŒ…æ‹¬ç»“æ„ä½“çš„å­—æ®µå fmt.Printf(\"%+v\\n\", p) //%#vå½¢å¼åˆ™è¾“å‡ºè¿™ä¸ªå€¼çš„Goè¯­æ³•è¡¨ç¤ºã€‚ä¾‹å¦‚å€¼çš„è¿è¡Œæºä»£ç ç‰‡æ®µ fmt.Printf(\"%#v\\n\", p) //éœ€è¦æ‰“å°å€¼çš„ç±»å‹ï¼Œä½¿ç”¨%T fmt.Printf(\"%T\\n\", p) //æ ¼å¼åŒ–å¸ƒå°”å€¼ï¼Œ%t fmt.Printf(\"%t\\n\", true) //æ ¼å¼åŒ–æ•´å‹çš„å¤šç§æ–¹å¼ //ä½¿ç”¨%dè¿›è¡Œæ ‡å‡†çš„åè¿›åˆ¶æ ¼å¼åŒ– fmt.Printf(\"%d\\n\", 123) //ä½¿ç”¨%bè¿›è¡ŒäºŒè¿›åˆ¶æ ¼å¼åŒ– fmt.Printf(\"%b\\n\", 14) //è¿™ä¸ªæ•´æ•°å¯¹åº”çš„å­—ç¬¦ fmt.Printf(\"%c\\n\", 33) //%xæä¾›åå…­è¿›åˆ¶ç¼–ç  fmt.Printf(\"%x\\n\", 456) //å¯¹äºæµ®ç‚¹æ•°åŒæ ·æœ‰å¾ˆå¤šæ ¼å¼åŒ–é€‰é¡¹ //ä½¿ç”¨%fè¿›è¡Œæœ€åŸºæœ¬çš„åè¿›åˆ¶æ ¼å¼åŒ– fmt.Printf(\"%f\\n\", 78.9) //%eå’Œ%Eå°†æµ®ç‚¹å‹æ ¼å¼åŒ–ä¸ºç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºå½¢å¼ fmt.Printf(\"%e\\n\", 123400000.0) fmt.Printf(\"%E\\n\", 123400000.0) //ä½¿ç”¨%sè¿›è¡ŒåŸºæœ¬çš„å­—ç¬¦ä¸²è¾“å‡º fmt.Printf(\"%s\\n\", \"\\\"string\\\"\") //å¸¦æœ‰åŒå¼•å·çš„è¾“å‡ºï¼Œä½¿ç”¨%q fmt.Printf(\"%q\\n\", \"\\\"string\\\"\") //%xè¾“å‡ºä½¿ç”¨base-16ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—èŠ‚ç”¨ä¸¤ä¸ªå­—ç¬¦è¡¨ç¤º fmt.Printf(\"%x\\n\", \"hey this\") //è¾“å‡ºä¸€ä¸ªæŒ‡é’ˆçš„å€¼%p fmt.Printf(\"%p\\n\", \u0026p) //å½“è¾“å‡ºæ•°å­—æ—¶ï¼Œæƒ³è¦æ§åˆ¶è¾“å‡ºç»“æœçš„å®½åº¦å’Œç²¾åº¦ //å¯ä»¥åœ¨%åé¢ä½¿ç”¨æ•°å­—æ¥æ§åˆ¶è¾“å‡ºå®½åº¦ //é»˜è®¤ç»“æœä½¿ç”¨å³å¯¹é½å¹¶ä¸”é€šè¿‡ç©ºæ ¼æ¥å¡«å……ç©ºç™½éƒ¨åˆ† fmt.Printf(\"|%6d|%6d|\\n\", 12, 345) //ä¹Ÿå¯ä»¥æŒ‡å®šæµ®ç‚¹æ•°çš„è¾“å‡ºå®½åº¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡å®½åº¦ï¼Œç²¾åº¦çš„è¯­æ³•æ¥æŒ‡å®šè¾“å‡ºçš„ç²¾åº¦ fmt.Printf(\"|%6.2f|%6.2f|\\n\", 1.2, 3.45) //è¦å·¦å¯¹é½%åé¢ä½¿ç”¨- fmt.Printf(\"|%-6.2f|%-6.2f|\\n\", 1.2, 3.45) //å­—ç¬¦ä¸²è¾“å‡ºæ—¶çš„å®½åº¦ fmt.Printf(\"|%6s|%6s|\\n\", \"foo\", \"b\") //è¦å·¦å¯¹é½%åé¢ä½¿ç”¨- fmt.Printf(\"|%-6s|%-6s|\\n\", \"foo\", \"b\") //Printfé€šè¿‡os.Stdoutè¾“å‡ºæ ¼å¼åŒ–çš„å­—ç¬¦ä¸² //Sprintfæ ¼å¼åŒ–å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸å¸¦ä»»ä½•è¾“å‡º s := fmt.Sprintf(\"a %s\", \"string\") fmt.Println(s) //ä½¿ç”¨Fprintæ ¼å¼åŒ–å¹¶è¾“å‡ºåˆ°io.Writersè€Œä¸æ˜¯os.Stdout fmt.Fprint(os.Stderr, \"an %s\\n\", \"error\") } ","date":"2021-03-22","objectID":"/go-instance-15/:1:0","tags":["golang"],"title":"Go Instance 15","uri":"/go-instance-15/"},{"categories":["å®ä¾‹"],"content":"æ­£åˆ™è¡¨è¾¾å¼ Goæä¾›å†…ç½®çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ package main import ( \"bytes\" \"fmt\" \"regexp\" ) func main() { //æµ‹è¯•ä¸€ä¸ªå­—æ®µæ˜¯å¦ç¬¦åˆä¸€ä¸ªè¡¨è¾¾å¼ matched, _ := regexp.MatchString(\"p([a-z]+)ch\", \"peach\") fmt.Println(matched) //ä¸Šé¢ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å¯¹äºä¸€äº›å…¶ä»–æ­£åˆ™ä»»åŠ¡ //éœ€è¦Compileä¸€ä¸ªä¼˜åŒ–çš„Regexpç»“æ„ä½“ r, _ := regexp.Compile(\"p([a-z]+)ch\") //è¿™ä¸ªç»“æ„ä½“æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œè¿™æ˜¯ç±»ä¼¼å‰é¢çš„åŒ¹é…æµ‹è¯• fmt.Println(r.MatchString(\"peach\")) //è¿™æ˜¯æŸ¥æ‰¾åŒ¹é…å­—ç¬¦ä¸² fmt.Println(r.FindString(\"peach punch\")) //æŸ¥æ‰¾ç¬¬ä¸€æ¬¡åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œè¿”å›çš„æ˜¯åŒ¹é…å¼€å§‹å’Œç»“æŸçš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯å†…å®¹ fmt.Println(r.FindStringIndex(\"peach punch\")) //submatchè¿”å›å®Œå…¨åŒ¹é…å’Œå±€éƒ¨åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¿™é‡Œä¼šè¿”å›p([a-z]+)chå’Œ([a-z]+)çš„ä¿¡æ¯ fmt.Println(r.FindStringSubmatch(\"peach punch\")) //è¿”å›å®Œå…¨åŒ¹é…å’Œå±€éƒ¨åŒ¹é…çš„ç´¢å¼•ä½ç½® fmt.Println(r.FindStringSubmatchIndex(\"peach punch\")) //å¸¦Allçš„è¿™ä¸ªå‡½æ•°è¿”å›æ‰€æœ‰çš„åŒ¹é…é¡¹ï¼Œè€Œä¸ä»…ä»…æ˜¯é¦–æ¬¡åŒ¹é…é¡¹ fmt.Println(r.FindAllString(\"peach punch pinch\", -1)) //è¿”å›æ‰€æœ‰çš„å®Œå…¨åŒ¹é…å’Œå±€éƒ¨åŒ¹é…çš„ç´¢å¼•ä½ç½® fmt.Println(r.FindAllStringSubmatchIndex(\"peach punch pinch\", -1)) //ä½¿ç”¨æä¾›çš„æ­£æ•´æ•°é™åˆ¶åŒ¹é…ä¸ªæ•° fmt.Println(r.FindAllString(\"peach punch pinch\", 2)) //ä¹Ÿå¯ä»¥æä¾›[]byteå‚æ•°å¹¶å°†Stringä»å‡½æ•°åä¸­å»æ‰ fmt.Println(r.Match([]byte(\"peach\"))) //åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¸¸é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Compileçš„å˜ä½“MustCompile //å› ä¸ºCompileè¿”å›ä¸¤ä¸ªå€¼ï¼Œä¸èƒ½ç”¨äºå¸¸é‡ r = regexp.MustCompile(\"p([a-z]+)ch\") fmt.Println(r) //regexpåŒ…ä¹Ÿå¯ä»¥ç”¨æ¥æ›¿æ¢éƒ¨åˆ†å­—ç¬¦ä¸²çš„å…¶ä»–å€¼ fmt.Println(r.ReplaceAllString(\"a peach\", \"\u003cfruits\u003e\")) //Funcå˜é‡å…è®¸ä¼ é€’åŒ¹é…å†…å®¹åˆ°ä¸€ä¸ªç»™å®šçš„å‡½æ•°ä¸­ in := []byte(\"a peach\") out := r.ReplaceAllFunc(in, bytes.ToUpper) fmt.Println(string(out)) } ","date":"2021-03-22","objectID":"/go-instance-15/:2:0","tags":["golang"],"title":"Go Instance 15","uri":"/go-instance-15/"},{"categories":["å®ä¾‹"],"content":"Go Instance 14-ç»„åˆå‡½æ•°ã€å­—ç¬¦ä¸²å‡½æ•°","date":"2021-03-22","objectID":"/go-instance-14/","tags":["golang"],"title":"Go Instance 14","uri":"/go-instance-14/"},{"categories":["å®ä¾‹"],"content":"ç»„åˆå‡½æ•° æˆ‘ä»¬ç»å¸¸éœ€è¦ç¨‹åºåœ¨æ•°æ®é›†ä¸Šæ‰§è¡Œæ“ä½œï¼Œæ¯”å¦‚é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰æƒ³ï¼Œæˆ–è€…å°†æ‰€æœ‰é¡¹é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„é›†åˆä¸Š åœ¨æŸäº›è¯­è¨€ä¸­ï¼Œä¼šä¹ æƒ¯ä½¿ç”¨æ³›å‹ã€‚Goä¸æ”¯æŒæ³›å‹ï¼Œåœ¨Goä¸­å½“ä½ çš„ç¨‹åºæˆ–æ•°æ®ç±»å‹æœ‰éœ€è¦æ—¶ï¼Œé€šå¸¸æ˜¯ä»¥ç»„åˆçš„æ–¹å¼æ¥æä¾›æ“ä½œå‡½æ•° è¿™æ˜¯ä¸€äº›stringsåˆ‡ç‰‡çš„ç»„åˆå‡½æ•°å®ä¾‹ã€‚å¯ä»¥ä½¿ç”¨è¿™äº›ä¾‹å­æ¥æ„å»ºè‡ªå·±çš„å‡½æ•°ã€‚æ³¨æ„æœ‰äº›æ—¶å€™ç›´æ¥ä½¿ç”¨å†…è”ç»„åˆæ“ä½œä»£ç ä¼šæ›´åŠ æ¸…æ™°ï¼Œè€Œä¸æ˜¯åˆ›å»ºå¹¶è°ƒç”¨ä¸€ä¸ªå‡½æ•° package main import ( \"fmt\" \"strings\" ) //è¿”å›ç›®æ ‡å­—æ®µså‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ²¡æœ‰è¿”å›-1 func Index(s string, arr []string) int { for i, v := range arr { if s == v { return i } } return -1 } //å¦‚æœç›®æ ‡såœ¨åˆ‡ç‰‡ä¸­å­˜åœ¨è¿”å›true func Include(s string, arr []string) bool { return Index(s, arr) \u003e= 0 } //å¦‚æœåˆ‡ç‰‡ä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶fè¿”å›true func Any(arr []string, f func(string) bool) bool { for _, v := range arr { if f(v) { return true } } return false } //å¦‚æœåˆ‡ç‰‡ä¸­çš„å­—ç¬¦ä¸²æ‰€æœ‰éƒ½æ»¡è¶³æ¡ä»¶fè¿”å›true func All(arr []string, f func(string) bool) bool { for _, v := range arr { if !f(v) { return false } } return true } //è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åˆ‡é¢ä¸­æ»¡è¶³æ¡ä»¶fçš„æ–°åˆ‡ç‰‡ func Filer(arr []string, f func(string) bool) []string { result := make([]string, 0) for _, v := range arr{ if f(v) { result = append(result, v) } } return result } //è¿”å›ä¸€ä¸ªå¯¹åŸå§‹åˆ‡ç‰‡ä¸­æ‰€æœ‰å­—ç¬¦ä¸²æ‰§è¡Œå‡½æ•°fçš„åˆ‡ç‰‡ func Map(arr []string, f func(string) string) []string { result := make([]string, 0) for _, v := range arr { result = append(result, f(v)) } return result } func main() { fruits := []string{\"peach\", \"apple\", \"pear\", \"plum\"} fmt.Println(Index(\"pear\", fruits)) fmt.Println(Include(\"grape\", fruits)) fmt.Println(Any(fruits, func(v string) bool { return strings.HasPrefix(v, \"p\") })) fmt.Println(All(fruits, func(v string) bool { return strings.HasPrefix(v, \"p\") })) fmt.Println(Filer(fruits, func(v string) bool { return strings.Contains(v, \"e\") })) //ä¸Šé¢éƒ½æ˜¯ä½¿ç”¨åŒ¿åå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ­£ç¡®çš„å‘½åå‡½æ•° fmt.Println(Map(fruits, strings.ToUpper)) } ","date":"2021-03-22","objectID":"/go-instance-14/:1:0","tags":["golang"],"title":"Go Instance 14","uri":"/go-instance-14/"},{"categories":["å®ä¾‹"],"content":"å­—ç¬¦ä¸²å‡½æ•° æ ‡å‡†åº“çš„stringsåŒ…æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„å­—ç¬¦ç›¸å…³çš„å‡½æ•°ã€‚è¿™é‡Œæ˜¯ä¸€äº›ç”¨æ¥è®©ä½ å¯¹è¿™ä¸ªåŒ…æœ‰ä¸ªåˆæ­¥ç†è§£çš„ä¾‹å­ package main import ( \"fmt\" s \"strings\" ) //ç»™fmt.Printlnèµ·åˆ«åï¼Œä¹‹åä¼šç»å¸¸ç”¨åˆ° var p = fmt.Println func main() { //è¿™æ˜¯ä¸€äº›stringsä¸­çš„å‡½æ•°ä¾‹å­ã€‚æ³¨æ„ä»–ä»¬éƒ½æ˜¯å‡½æ•°ä¸­çš„ä¾‹å­ï¼Œä¸æ˜¯å­—ç¬¦ä¸²å¯¹è‡ªèº«çš„æ–¹æ³• //è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦è€ƒè™‘åœ¨è°ƒç”¨æ—¶ä¼ é€’å­—ç¬¦ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è¿›è¡Œä¼ é€’ p(\"Contains: \", s.Contains(\"test\", \"es\")) p(\"Count: \", s.Count(\"test\", \"t\")) p(\"HasPrefix: \", s.HasPrefix(\"test\", \"te\")) p(\"HasSuffix: \", s.HasSuffix(\"test\", \"st\")) p(\"Index: \", s.Index(\"test\", \"e\")) p(\"Join: \", s.Join([]string{\"a\", \"b\"}, \"-\")) p(\"Repeat: \", s.Repeat(\"a\", 5)) p(\"Replace: \", s.Replace(\"foo\", \"o\", \"O\", -1)) p(\"Replace: \", s.Replace(\"foo\", \"o\", \"O\", 1)) p(\"Split: \", s.Split(\"a-b-c-d-e\", \"-\")) p(\"ToLower: \", s.ToLower(\"TEST\")) p(\"ToUpper: \", s.ToUpper(\"test\")) } ","date":"2021-03-22","objectID":"/go-instance-14/:2:0","tags":["golang"],"title":"Go Instance 14","uri":"/go-instance-14/"},{"categories":["å®ä¾‹"],"content":"Go Instance 13-panicã€defer","date":"2021-03-22","objectID":"/go-instance-13/","tags":["golang"],"title":"Go Instance 13","uri":"/go-instance-13/"},{"categories":["å®ä¾‹"],"content":"Panic panicæ„å‘³ç€æœ‰äº›å‡ºä¹æ„æ–™çš„é”™è¯¯å‘ç”Ÿã€‚é€šå¸¸ç”¨å®ƒè¡¨ç¤ºç¨‹åºæ­£å¸¸è¿è¡Œä¸­ä¸è¯¥å‡ºç°çš„ï¼Œæˆ–è€…æ²¡æœ‰å¤„ç†å¥½çš„äº‹åŠ¡ package main import \"os\" func main() { //è¿™é‡Œç›´æ¥panicå‡ºä¸€ä¸ªé”™è¯¯ panic(\"a problem\") //panicçš„ä¸€ä¸ªåŸºæœ¬ç”¨æ³•å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°è¿”å›äº†é”™è¯¯å€¼ä½†æ˜¯å¹¶ä¸çŸ¥é“ï¼ˆæˆ–ä¸æƒ³ï¼‰å¤„ç†æ—¶åœæ­¢è¿è¡Œ //è¿™é‡Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶è¿”å›å¼‚å¸¸é”™è¯¯çš„panicç”¨æ³• _, e := os.Create(\"F://test.txt\") if e != nil { panic(e) } } ","date":"2021-03-22","objectID":"/go-instance-13/:1:0","tags":["golang"],"title":"Go Instance 13","uri":"/go-instance-13/"},{"categories":["å®ä¾‹"],"content":"Defer deferç”¨æ¥ç¡®ä¿ä¸€ä¸ªå‡½æ•°è°ƒç”¨åœ¨ç¨‹åºæ‰§è¡Œç»“æŸå‰æ‰§è¡Œã€‚é€šå¸¸ç”¨æ¥æ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œ package main import ( \"fmt\" \"os\" ) //æœ¬ä¾‹ä¸ºåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¯¹å…¶è¿›è¡Œå†™æ“ä½œï¼Œç»“æŸåå…³é—­ func main() { //åˆ›å»ºæ–‡ä»¶ï¼Œè¿›è¡Œå†™æ“ä½œï¼Œç»“æŸæ—¶å…³é—­æ–‡ä»¶ f := createFile(\"F:/test/test.txt\") defer closeFile(f) writeFile(f) } func createFile(s string) *os.File { fmt.Println(\"creating\") file, err := os.Create(s) if err != nil { panic(err) } return file } func closeFile(f *os.File) { fmt.Println(\"closing\") f.Close() } func writeFile(f *os.File) { fmt.Println(\"writing\") fmt.Fprintln(f, \"data ok\") } ","date":"2021-03-22","objectID":"/go-instance-13/:2:0","tags":["golang"],"title":"Go Instance 13","uri":"/go-instance-13/"},{"categories":["å­¦ä¹ "],"content":"redisé¢è¯•02","date":"2021-03-18","objectID":"/redis-interview-02/","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"è¿‡æœŸé”®çš„åˆ é™¤ç­–ç•¥ ","date":"2021-03-18","objectID":"/redis-interview-02/:1:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisçš„è¿‡æœŸé”®çš„åˆ é™¤ç­–ç•¥ Redisæ˜¯ä¸€ä¸ªkey-valueæ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Redisä¸­è®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´ã€‚Redisçš„è¿‡æœŸç­–ç•¥å°±æ˜¯æŒ‡å½“å‰Redisä¸­çš„ç¼“å­˜keyè¿‡æœŸäº†ï¼ŒRediså¦‚ä½•å¤„ç†ã€‚ é€šå¸¸è¿‡æœŸç­–ç•¥æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š å®šæ—¶è¿‡æœŸï¼šæ¯ä¸ªè®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyéƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿‡åˆ°æœŸæ—¶é—´å°±ä¼šç«‹å³æ¸…é™¤ã€‚è¯¥ç­–ç•¥å¯ä»¥ç«‹å³æ¸…é™¤è¿‡æœŸçš„æ•°æ®ï¼Œå¯¹å†…å­˜å¾ˆå‹å¥½ï¼›ä½†æ˜¯ä¼šå ç”¨å¤§é‡çš„CPUèµ„æºå»å¤„ç†è¿‡æœŸçš„æ•°æ®ï¼Œä»è€Œå½±å“ç¼“å­˜çš„ç›¸åº”æ—¶é—´å’Œååé‡ã€‚ æƒ°æ€§è¿‡æœŸï¼šåªæœ‰å½“è®¿é—®ä¸€ä¸ªkeyæ—¶ï¼Œæ‰ä¼šåˆ¤æ–­è¿™ä¸ªkeyæ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸåˆ™ç«‹å³æ¸…é™¤ã€‚è¯¥ç­–ç•¥å¯ä»¥æœ€å¤§åŒ–çš„èŠ‚çœCPUèµ„æºï¼Œå´å¯¹å†…å­˜éå¸¸ä¸å‹å¥½ã€‚æç«¯æƒ…å†µä¸‹å¯èƒ½å‡ºç°å¤§é‡è¿‡æœŸçš„keyæ²¡æœ‰å†æ¬¡è¢«è®¿é—®ï¼Œä»è€Œä¸ä¼šè¢«åˆ é™¤ï¼Œå ç”¨å¤§é‡å†…å­˜ã€‚ å®šæœŸè¿‡æœŸï¼šæ¯éš”ä¸€å®šæ—¶é—´ï¼Œä¼šæ‰«æä¸€å®šæ•°é‡æ•°æ®åº“çš„expireså­—å…¸ä¸­ä¸€å®šæ•°é‡çš„keyï¼Œå¹¶æ¸…é™¤å…¶ä¸­å·²ç»è¿‡æœŸçš„keyã€‚è¯¥ç­–ç•¥æ˜¯å‰ä¸¤ç§çš„æŠ˜ä¸­ç­–ç•¥ã€‚é€šè¿‡è°ƒæ•´å®šæ—¶æ‰«æçš„æ—¶é—´é—´éš”å’Œæ¯æ¬¡æ‰«æçš„é™å®šè€—æ—¶ï¼Œå¯ä»¥åœ¨ä¸åŒæƒ…å†µä¸‹ä½¿å¾—CPUå’Œå†…å­˜èµ„æºè¾¾åˆ°æœ€ä¼˜çš„å¹³è¡¡æ•ˆæœã€‚ ï¼ˆexpireså­—å…¸ä¼šä¿å­˜æ‰€æœ‰è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyçš„è¿‡æœŸæ—¶é—´å’Œæ•°æ®ï¼Œå…¶ä¸­ï¼Œkeyæ˜¯æŒ‡å‘é”®ç©ºé—´ä¸­çš„æŸä¸ªé”®çš„æŒ‡é’ˆï¼Œvalueæ˜¯è¯¥é”®çš„æ¯«ç§’ç²¾åº¦Unixæ—¶é—´æˆ³è¡¨ç¤ºçš„è¿‡æœŸæ—¶é—´ï¼Œé”®ç©ºé—´æ˜¯æŒ‡è¯¥Redisé›†ç¾¤ä¸­ä¿å­˜çš„æ‰€æœ‰é”®ï¼‰ Redisä¸­åŒæ—¶ä½¿ç”¨äº†æƒ°æ€§è¿‡æœŸå’Œå®šæœŸè¿‡æœŸä¸¤ç§è¿‡æœŸæ–¹å¼ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:1:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redis keyçš„è¿‡æœŸæ—¶é—´å’Œæ°¸ä¹…æœ‰æ•ˆåˆ†åˆ«æ€ä¹ˆè®¾ç½® EXPIREå’ŒPERSISTå‘½ä»¤ ","date":"2021-03-18","objectID":"/redis-interview-02/:1:2","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"é€šè¿‡EXPIREæ¥è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œé‚£ä¹ˆå¯¹è¿‡æœŸçš„æ•°æ®æ€ä¹ˆå¤„ç† é™¤äº†ç¼“å­˜æœåŠ¡å™¨è‡ªå¸¦çš„ç¼“å­˜å¤±æ•ˆç­–ç•¥ä¹‹å¤–ï¼ˆRedisä¸­æœ‰6ä¸­ç­–ç•¥å¯ä»¥é€‰æ‹©ï¼‰ï¼Œè¿˜å¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡è‡ªå®šä¹‰çš„ç¼“å­˜æ·˜æ±°ï¼Œå¸¸è§çš„ç­–ç•¥æœ‰ä¸¤ç§ï¼š å®šæ—¶å»æ¸…ç†è¿‡æœŸç¼“å­˜ å½“æœ‰ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œå†åˆ¤æ–­è¿™ä¸ªæ‰€ç”¨åˆ°çš„ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸçš„è¯å°±å»åº•å±‚ç³»ç»Ÿå¾—åˆ°æ–°æ•°æ®å¹¶æ›´æ–°ç¼“å­˜ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:1:3","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"å†…å­˜ç›¸å…³ ","date":"2021-03-18","objectID":"/redis-interview-02/:2:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQLé‡Œæœ‰2000wæ•°æ®ï¼Œredisä¸­åªå­˜20wçš„æ•°æ®ï¼Œå¦‚ä½•ä¿è¯redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ® rediså†…å­˜æ•°æ®é›†å¤§å°ä¸Šå‡åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™ï¼Œå°±ä¼šæ–½è¡Œæ•°æ®æ·˜æ±°ç­–ç•¥ ","date":"2021-03-18","objectID":"/redis-interview-02/:2:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æœ‰å“ªäº› Redisçš„å†…å­˜æ·˜æ±°ç­–ç•¥æ˜¯æŒ‡åœ¨Redisçš„ç”¨äºç¼“å­˜çš„å†…å­˜ä¸è¶³ï¼Œæ€ä¹ˆå¤„ç†éœ€è¦æ–°å†™å…¥ä¸”éœ€è¦ç”³è¯·é¢å¤–ç©ºé—´çš„æ•°æ® å…¨å±€çš„é”®ç©ºé—´é€‰æ‹©æ€§ç§»é™¤ï¼š noevictionï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œæ–°å†™å…¥æ“ä½œä¼šæŠ¥é”™ allkeys-lruï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„keyï¼ˆè¿™ä¸ªæ˜¯æœ€å¸¸ç”¨çš„ï¼‰ allkeys-randomï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´éšæœºç§»é™¤æŸä¸ªkey è®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´é€‰æ‹©æ€§ç§»é™¤ volatile-lruï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„key volatile-randomï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ªkey volatile-ttlï¼šå½“å†…å­˜ä¸è¶³å®¹çº³å†™å…¥æ–°æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œæœ‰æ›´æ—©è¿‡æœŸçš„keyä¼˜å…ˆç§»é™¤ ","date":"2021-03-18","objectID":"/redis-interview-02/:2:2","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Rediså¦‚ä½•åšå†…å­˜ä¼˜åŒ– å¯ä»¥åˆ©ç”¨Hashï¼ŒSetï¼ŒZsetï¼ŒListç­‰é›†åˆç±»å‹æ•°æ®ã€‚å› ä¸ºé€šå¸¸æƒ…å†µä¸‹å¾ˆå¤šå°çš„key-valueå¯ä»¥ç”¨æ›´ç´§å‡‘çš„æ–¹å¼æ”¾åœ¨ä¸€èµ·ã€‚å°½é‡ä½¿ç”¨æ•£åˆ—è¡¨ï¼ˆhashï¼‰ï¼Œæ•£åˆ—è¡¨ä½¿ç”¨çš„å†…å­˜éå¸¸å°ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:2:3","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"çº¿ç¨‹æ¨¡å‹ ","date":"2021-03-18","objectID":"/redis-interview-02/:3:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisçº¿ç¨‹æ¨¡å‹ RedisåŸºäºReactoræ¨¡å¼å¼€å‘äº†ç½‘ç»œæ—¶é—´å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨è¢«ç§°ä¸ºæ–‡ä»¶æ—¶é—´å¤„ç†å™¨ã€‚å®ƒçš„ç»„æˆç»“æ„ä¸º4éƒ¨åˆ†å¤šä¸ªå¥—æ¥å­—ï¼ŒIOå¤šè·¯å¤ç”¨ç¨‹åºï¼Œæ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ï¼Œäº‹ä»¶å¤„ç†å™¨ã€‚å› ä¸ºæ–‡ä»¶äº‹ä»¶åˆ†é…å™¨é˜Ÿåˆ—çš„æ¶ˆè´¹æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥Redisæ‰å«å•çº¿ç¨‹æ¨¡å‹ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:3:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"äº‹åŠ¡ ","date":"2021-03-18","objectID":"/redis-interview-02/:4:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯äº‹åŠ¡ äº‹åŠ¡æ˜¯ä¸€ä¸ªå•ç‹¬çš„éš”ç¦»æ“ä½œï¼Œäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šåºåˆ—åŒ–ï¼ŒæŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œã€‚äº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šè¢«å…¶ä»–å®¢æˆ·ç«¯å‘æ¥çš„å‘½ä»¤è¯·æ±‚æ‰“æ–­ã€‚ äº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚äº‹åŠ¡ä¸­çš„å‘½ä»¤è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:4:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisäº‹åŠ¡æ¦‚å¿µ Redisäº‹åŠ¡çš„æœ¬è´¨æ˜¯é€šè¿‡MULTIï¼ŒEXECï¼ŒWATCHç­‰ä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚äº‹åŠ¡æ”¯æŒä¸€æ¬¡æ‰§è¡Œå¤šæ¡æŒ‡ä»¤ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ã€‚åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŒ‰ç…§åºåˆ—ä¸²è¡ŒåŒ–æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„å‘½ä»¤ï¼Œå…¶ä»–å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸ä¼šæ’å…¥åˆ°äº‹åŠ¡æ‰§è¡Œå‘½ä»¤åºåˆ—ä¸­ã€‚ æ€»ç»“ï¼šRedisäº‹åŠ¡å°±æ˜¯ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§çš„æ‰§è¡Œä¸€ä¸ªé˜Ÿåˆ—é‡Œçš„ä¸€ç³»åˆ—å‘½ä»¤ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:4:2","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisäº‹åŠ¡çš„ä¸‰ä¸ªå‘½ä»¤ äº‹åŠ¡å¼€å§‹ MULTI å‘½ä»¤å…¥é˜Ÿ äº‹åŠ¡ç»“æŸ EXEC ","date":"2021-03-18","objectID":"/redis-interview-02/:4:3","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"Redisä¿è¯åŸå­æ€§å—ï¼Ÿæ”¯æŒå›æ»šå—ï¼Ÿ Redisä¸­å•æ¡å‘½ä»¤æ˜¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ä¸æ”¯æŒå›æ»šã€‚äº‹åŠ¡ä¸­çš„å‘½ä»¤åªè¦æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œäº‹åŠ¡ä¸­çš„å‘½ä»¤éƒ½ä¼šä¾æ¬¡æ‰§è¡Œã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:4:4","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"é›†ç¾¤æ–¹æ¡ˆ ","date":"2021-03-18","objectID":"/redis-interview-02/:5:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"å“¨å…µæ¨¡å¼ å“¨å…µä¸»è¦åŠŸèƒ½ï¼š é›†ç¾¤ç›‘æ§ï¼šè´Ÿè´£ç›‘æ§masterå’Œslaveæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ æ¶ˆæ¯é€šçŸ¥ï¼šå¦‚æœæŸä¸ªå®ä¾‹æœ‰æ•…éšœï¼Œå“¨å…µè´Ÿè´£å‘é€æ¶ˆæ¯ä½œä¸ºæŠ¥è­¦é€šçŸ¥ç»™ç®¡ç†å‘˜ æ•…éšœè½¬ç§»ï¼šå¦‚æœmasteræŒ‚äº†ï¼Œä¼šæŠ•ç¥¨é€‰ä¸€ä¸ªslaveä½œä¸ºmaster é…ç½®ä¸­å¿ƒï¼šå¦‚æœæ•…éšœè½¬ç§»äº†ï¼Œé€šçŸ¥clientå®¢æˆ·ç«¯æ–°çš„masteråœ°å€ å“¨å…µæ¨¡å¼ç”¨äºå®ç°Redisé›†ç¾¤çš„é«˜å¯ç”¨ï¼Œæœ¬èº«ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ˜¯ä»¥é›†ç¾¤è¿è¡Œå·¥ä½œçš„ã€‚ æ•…éšœè½¬ç§»æ—¶ï¼Œåˆ¤æ–­ä¸€ä¸ªä¸»æœºæ˜¯å¦å®•æœºï¼Œéœ€è¦å¤§éƒ¨åˆ†å“¨å…µåŒæ„ï¼Œè¿™æ¶‰åŠåˆ†å¸ƒå¼é€‰ä¸¾ã€‚ å³ä½¿éƒ¨åˆ†å“¨å…µå¤±æ•ˆäº†ï¼Œå“¨å…µé›†ç¾¤è¿˜æ˜¯èƒ½æ­£å¸¸å·¥ä½œçš„ã€‚ å“¨å…µçš„æ ¸å¿ƒçŸ¥è¯†ï¼š å“¨å…µè‡³å°‘è¦æœ‰ä¸‰ä¸ªå®ä¾‹æ¥ä¿è¯å¥å£®æ€§ å“¨å…µ+redisä¸»ä»çš„éƒ¨ç½²ç»“æ„ï¼Œä¸ä¼šä¿è¯æ•°æ®é›¶ä¸¢å¤±ï¼Œåªèƒ½ä¿è¯Redisé›†ç¾¤çš„é«˜å¯ç”¨æ€§ ","date":"2021-03-18","objectID":"/redis-interview-02/:5:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜å¼‚å¸¸ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:0","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜é›ªå´© ç¼“å­˜é›ªå´©æ˜¯æŒ‡ç¼“å­˜åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œæ‰€ä»¥åé¢çš„è¯·æ±‚éƒ½ä¼šè½åœ¨æ•°æ®åº“ä¸Šï¼Œé€ æˆæ•°æ®åº“çŸ­æ—¶é—´å†…æ‰¿å—å¤§é‡è¯·æ±‚è€Œå´©æ‰ã€‚ è§£å†³æ–¹æ¡ˆ ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´è®¾ç½®éšæœºï¼Œé˜²æ­¢åŒä¸€æ—¶é—´å¤§é‡æ•°æ®è¿‡æœŸç°è±¡å‘ç”Ÿã€‚ ä¸€èˆ¬å¹¶å‘é‡ä¸æ˜¯ç‰¹åˆ«å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯åŠ é”æ’é˜Ÿ ç»™æ¯ä¸ªç¼“å­˜æ•°æ®æ·»åŠ ç¼“å­˜æ ‡è®°ï¼Œè®°å½•ç¼“å­˜æ˜¯å¦å¤±æ•ˆï¼Œå¦‚æœæ ‡è®°å¤±æ•ˆï¼Œæ›´æ–°ç¼“å­˜ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:1","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜ç©¿é€ ç¼“å­˜ç©¿é€æ˜¯æŒ‡ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æ²¡æœ‰æ•°æ®ï¼Œå¯¼è‡´æ‰€æœ‰çš„è¯·æ±‚éƒ½è½åœ¨æ•°æ®åº“ä¸Šï¼Œé€ æˆæ•°æ®çŸ­æ—¶é—´æ‰¿å—å¤§é‡è¯·æ±‚è€Œå´©æ‰ è§£å†³æ–¹æ¡ˆï¼š æ¥å£å±‚æ·»åŠ æ ¡éªŒï¼Œå¦‚ç”¨æˆ·é‰´æƒæ ¡éªŒï¼Œidä½œä¸ºåŸºç¡€æ ¡éªŒï¼Œidå°äºç­‰äº0ç›´æ¥æ‹¦æˆª ä»ç¼“å­˜ä¸­å–ä¸åˆ°æ•°æ®ï¼Œåœ¨æ•°æ®åº“ä¸­ä¹Ÿå–ä¸åˆ°æ•°æ®ï¼Œè¿™æ—¶å¯ä»¥å°†key-valueå†™æˆkey-nullï¼Œç¼“å­˜æœ‰æ•ˆæ—¶é—´å¯ä»¥å†™çŸ­ä¸€ç‚¹ï¼Œï¼ˆè®¾ç½®å¤ªé•¿å¯èƒ½å¯¼è‡´æ­£å¸¸æƒ…å†µä¹Ÿæ²¡æ³•ä½¿ç”¨ï¼‰ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢æ”»å‡»ç”¨æˆ·åå¤ä½¿ç”¨ä¸€ä¸ªidæ”»å‡»ã€‚ é‡‡ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå°†æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ•°æ®å“ˆå¸Œåˆ°ä¸€ä¸ªè¶³å¤Ÿå¤§çš„bitmapä¸­ï¼Œä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ä¼šè¢«è¿™ä¸ªbitmapæ‹¦æˆªæ‰ï¼Œä»è€Œé¿å…å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:2","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜å‡»ç©¿ ç¼“å­˜å‡»ç©¿æ˜¯æŒ‡ç¼“å­˜ä¸­æ²¡æœ‰ä½†æ•°æ®åº“ä¸­æœ‰çš„æ•°æ®ï¼ˆä¸€èˆ¬æ˜¯ç¼“å­˜æ—¶é—´è¿‡æœŸï¼‰ï¼Œè¿™æ—¶ç”±äºå¹¶å‘ç”¨æˆ·ç‰¹åˆ«å¤šï¼ŒåŒæ—¶è¯»ç¼“å­˜æ²¡è¯»åˆ°æ•°æ®ï¼ŒåˆåŒæ—¶å»æ•°æ®åº“å–æ•°æ®ï¼Œå¼•èµ·æ•°æ®åº“å‹åŠ›ç¬é—´å¢å¤§ï¼Œé€ æˆè¿‡å¤§å‹åŠ›ã€‚ å’Œé›ªå´©ä¸åŒçš„æ˜¯ï¼šç¼“å­˜å‡»ç©¿æŒ‡å¹¶å‘å·®åŒä¸€æ¡æ•°æ®ï¼Œç¼“å­˜é›ªå´©æ˜¯æŒ‡ä¸åŒçš„æ•°æ®éƒ½è¿‡æœŸäº†ï¼Œå¾ˆå¤šæ•°æ®æŸ¥ä¸åˆ°ä»è€ŒæŸ¥æ•°æ®åº“ è§£å†³æ–¹æ¡ˆï¼š è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ åŠ äº’æ–¥é” ","date":"2021-03-18","objectID":"/redis-interview-02/:6:3","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜é¢„çƒ­ ç¼“å­˜é¢„çƒ­å°±æ˜¯æŒ‡ç³»ç»Ÿä¸Šçº¿åï¼Œå°†ç›¸å…³çš„ç¼“å­˜æ•°æ®ç›´æ¥åŠ è½½åˆ°ç¼“å­˜ç³»ç»Ÿã€‚è¿™æ ·å°±å¯ä»¥é¿å…åœ¨ç”¨æˆ·è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆæŸ¥è¯¢æ•°æ®åº“ï¼Œç„¶åå†å°†æ•°æ®ç¼“å­˜çš„é—®é¢˜ï¼Œç”¨æˆ·ç›´æ¥æŸ¥è¯¢äº‹å…ˆè¢«é¢„çƒ­çš„ç¼“å­˜æ•°æ® è§£å†³æ–¹æ¡ˆï¼š ç›´æ¥å†™ä¸ªç¼“å­˜åˆ·æ–°é¡µé¢ï¼Œä¸Šçº¿æ—¶æ‰‹å·¥æ“ä½œä¸€ä¸‹ æ•°æ®é‡ä¸å¤§ï¼Œå¯ä»¥åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨è¿›è¡ŒåŠ è½½ è‡ªåŠ¨åˆ·æ–°ç¼“å­˜ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:4","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜é™çº§ å½“è®¿é—®é‡å‰§å¢ï¼ŒæœåŠ¡å‡ºç°é—®é¢˜ï¼ˆå¦‚å“åº”æ—¶é—´æ…¢æˆ–ä¸å“åº”ï¼‰æˆ–éæ ¸å¿ƒæœåŠ¡å½±å“åˆ°æ ¸å¿ƒæµç¨‹çš„æ€§èƒ½æ—¶ï¼Œä»ç„¶è¦ä¿è¯æœåŠ¡è¿˜æ˜¯å¯ç”¨çš„ï¼Œå³ä½¿æ˜¯æœ‰æŸæœåŠ¡ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®ä¸€äº›å…³é”®æ•°æ®è¿›è¡Œè‡ªåŠ¨é™çº§ï¼Œä¹Ÿå¯ä»¥é…ç½®å¼€å…³å®ç°äººå·¥é™çº§ ç¼“å­˜é™çº§çš„æœ€ç»ˆç›®æ ‡æ˜¯ä¿è¯æ ¸å¿ƒæœåŠ¡å¯ç”¨ï¼Œå³ä½¿æ˜¯æœ‰æŸçš„ï¼Œè€Œä¸”æœ‰äº›æœåŠ¡æ˜¯æ— æ³•é™çº§çš„ï¼ˆå¦‚åŠ å…¥è´­ç‰©è½¦ï¼Œç»“ç®—ï¼‰ åœ¨è¿›è¡Œé™çº§ä¹‹å‰è¦å¯¹ç³»ç»Ÿè¿›è¡Œæ¢³ç†ï¼Œçœ‹çœ‹ç³»ç»Ÿæ˜¯ä¸æ˜¯å¯ä»¥å¼ƒè½¦ä¿å¸…ï¼›ä»è€Œæ¢³ç†å‡ºå“ªäº›å¿…é¡»èª“æ­»ä¿æŠ¤ï¼Œå“ªäº›å¯ä»¥é™çº§ï¼Œæ¯”å¦‚å¯ä»¥å‚è€ƒæ—¥å¿—çº§åˆ«è®¾ç½®é¢„æ¡ˆ ä¸€èˆ¬ï¼šæ¯”å¦‚æœ‰äº›æœåŠ¡å¶å°”å› ä¸ºç½‘ç»œæŠ–åŠ¨æˆ–è€…æœåŠ¡æ­£åœ¨ä¸Šçº¿è€Œè¶…æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é™çº§ è­¦å‘Šï¼šæœ‰äº›æœåŠ¡åœ¨ä¸€æ®µæ—¶é—´å†…æˆåŠŸç‡æœ‰æ³¢åŠ¨ï¼ˆå¦‚åœ¨95%~100%ä¹‹é—´ï¼‰ï¼Œå¯ä»¥è‡ªåŠ¨é™çº§æˆ–äººå·¥é™çº§ï¼Œå¹¶å‘é€è­¦å‘Š é”™è¯¯ï¼šæ¯”å¦‚å¯ç”¨ç‡ä½äº90%ï¼Œæˆ–è€…æ•°æ®åº“è¿æ¥æ± è¢«æ‰“çˆ†äº†ï¼Œæˆ–è€…è®¿é—®é‡å¿½ç„¶é—´çŒ›å¢åˆ°ç³»ç»Ÿèƒ½æ‰¿å—çš„æœ€å¤§é˜ˆå€¼ï¼Œæ­¤æ—¶å¯ä»¥æ ¹æ®æƒ…å†µè‡ªåŠ¨é™çº§æˆ–äººå·¥é™çº§ ä¸¥é‡é”™è¯¯ï¼šæ¯”å¦‚å› ä¸ºç‰¹æ®ŠåŸå› æ•°æ®é”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦ç´§æ€¥äººå·¥é™çº§ æœåŠ¡é™çº§çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢RedisæœåŠ¡æ•…éšœï¼Œå¯¼è‡´æ•°æ®åº“è·Ÿç€ä¸€èµ·å‘ç”Ÿé›ªå´©é—®é¢˜ã€‚å› æ­¤å¯¹äºä¸é‡è¦çš„ç¼“å­˜æ•°æ®ï¼Œå¯ä»¥é‡‡å–æœåŠ¡é™çº§ç­–ç•¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åšæ³•å°±æ˜¯ï¼ŒRediså‡ºç°é—®é¢˜ï¼Œä¸å»æ•°æ®åº“æŸ¥è¯¢ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›é»˜è®¤å€¼ç»™ç”¨æˆ·ã€‚ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:5","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"çƒ­ç‚¹æ•°æ®å’Œå†·æ•°æ® çƒ­ç‚¹æ•°æ®ï¼Œç¼“å­˜æ‰æœ‰ä»·å€¼ å¯¹äºå†·æ•°æ®è€Œè¨€ï¼Œå¤§éƒ¨åˆ†æ•°æ®å¯èƒ½è¿˜æ²¡æœ‰å†æ¬¡è®¿é—®å°±å·²ç»è¢«æŒ¤å‡ºå†…å­˜ï¼Œä¸ä»…å ç”¨å†…å­˜ï¼Œè€Œä¸”ä»·å€¼ä¸å¤§ã€‚é¢‘ç¹ä¿®æ”¹çš„æ•°æ®ï¼Œçœ‹æƒ…å†µè€ƒè™‘ä½¿ç”¨ç¼“å­˜ å¯¹äºçƒ­ç‚¹æ•°æ®ï¼Œç¼“å­˜ä»¥åå¯èƒ½è¯»å–æ•°åä¸‡æ¬¡æˆ–ç™¾ä¸‡æ¬¡ ç¼“å­˜æ•°æ®æ›´æ–°å‰è‡³å°‘è¯»å–ä¸¤æ¬¡ï¼Œç¼“å­˜æ‰æœ‰æ„ä¹‰ã€‚è¿™ä¸ªæ˜¯æœ€åŸºæœ¬çš„ç­–ç•¥ï¼Œå¦‚æœç¼“å­˜è¿˜æ²¡æœ‰å…¶ä½œç”¨å°±å¤±æ•ˆäº†ï¼Œé‚£å°±å¤ªæ²¡æœ‰ä»·å€¼äº†ã€‚ é‚£å­˜ä¸å­˜åœ¨ï¼Œä¿®æ”¹é¢‘ç‡å¾ˆé«˜ï¼Œä½†æ˜¯åˆä¸å¾—ä¸è€ƒè™‘ç¼“å­˜çš„åœºæ™¯ï¼Ÿå­˜åœ¨ï¼Œå¦‚è¿™ä¸ªè¯»å–æ¥å£å¯¹æ•°æ®åº“å‹åŠ›å¾ˆå¤§ï¼Œè¿™äº›è¯·æ±‚å‘ç°ç¼“å­˜è¿‡æœŸä¸€èˆ¬éƒ½ä¼šä»åç«¯DBåŠ è½½æ•°æ®å¹¶å›è®¾åˆ°ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¤§å¹¶å‘çš„è¯·æ±‚å¯èƒ½ä¼šç¬é—´æŠŠåç«¯DBå‹å® ","date":"2021-03-18","objectID":"/redis-interview-02/:6:6","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜çƒ­ç‚¹key ç¼“å­˜ä¸­çš„ä¸€ä¸ªKeyï¼ˆæ¯”å¦‚ä¸€ä¸ªä¿ƒé”€å•†å“ï¼‰ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹è¿‡æœŸçš„æ—¶å€™ï¼Œæ°å¥½åœ¨è¿™ä¸ªæ—¶é—´ç‚¹å¯¹è¿™ä¸ªKeyæœ‰å¤§é‡çš„å¹¶å‘è¯·æ±‚å‘é€è¿‡æ¥ï¼Œè¿™äº›è¯·æ±‚å‘ç°ç¼“å­˜è¿‡æœŸï¼Œä¸€èˆ¬éƒ½ä¼šä»åç«¯DBåŠ è½½æ•°æ®å¹¶å›è®¾åˆ°ç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¤§å¹¶å‘çš„è¯·æ±‚å¯èƒ½ä¼šç¬é—´æŠŠåç«¯DBå‹å® è§£å†³æ–¹æ¡ˆï¼š å¯¹ç¼“å­˜æŸ¥è¯¢åŠ é”ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå°±åŠ é”ï¼Œç„¶åæŸ¥DBå…¥ç¼“å­˜ï¼Œç„¶åè§£é”ã€‚å…¶ä»–è¿›ç¨‹å¦‚æœå‘ç°æœ‰é”å°±ç­‰å¾…ï¼Œç„¶åç­‰è§£é”åè¿”å›é”å…·æˆ–è€…è¿›å…¥DBæŸ¥è¯¢ ","date":"2021-03-18","objectID":"/redis-interview-02/:6:7","tags":["redis"],"title":"Redis Interview 02","uri":"/redis-interview-02/"},{"categories":["å­¦ä¹ "],"content":"rediså­¦ä¹ 04","date":"2021-03-15","objectID":"/redis-study-04/","tags":["redis"],"title":"Redis Study 04","uri":"/redis-study-04/"},{"categories":["å­¦ä¹ "],"content":"Redisä¸»ä»å¤åˆ¶ ","date":"2021-03-15","objectID":"/redis-study-04/:1:0","tags":["redis"],"title":"Redis Study 04","uri":"/redis-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ¦‚å¿µ ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„RedisæœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹ï¼ˆmaster/leaderï¼‰ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹ï¼ˆslave/followerï¼‰ã€‚æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ä»ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚masterä»¥å†™ä¸ºä¸»ï¼Œsalveä»¥è¯»ä¸ºä¸»ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ã€‚ä¸”æ¯ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªä»èŠ‚ç‚¹ï¼ˆæˆ–æ²¡æœ‰ä»èŠ‚ç‚¹ï¼‰ï¼Œä½†æ˜¯ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ ä¸»ä»å¤åˆ¶åŒ…æ‹¬ï¼š æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ æ•…éšœä¿®å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœä¿®å¤ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯»Redisæ•°æ®æ˜¯åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶åœ¨å†™å°‘è¯»å¤šçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¤šä¸ªèŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜RedisæœåŠ¡çš„å¹¶å‘é‡ é«˜å¯ç”¨ï¼ˆé›†ç¾¤ï¼‰åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯Redisçš„é«˜å¯ç”¨çš„åŸºç¡€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦å°†Redisè¿ç”¨äºå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåªä½¿ç”¨ä¸€å°Redisæ˜¯ä¸‡ä¸‡ä¸èƒ½çš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š ä»ç»“æ„ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœï¼Œå¹¶ä¸”ä¸€å°æœåŠ¡å™¨è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒå¤§ã€‚ ä»å®¹é‡ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ï¼Œå°±ç®—ä¸€å°RedisæœåŠ¡å™¨å†…å­˜å®¹é‡ä¸º256GBï¼Œä¹Ÿä¸èƒ½å°†æ‰€æœ‰å†…å­˜ä½œä¸ºRediså­˜å‚¨å†…å­˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå•å°Redisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡20GB ä¸€èˆ¬ç”µå•†ç½‘ç«™ä¸Šçš„å•†å“ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸€æ¬¡ä¸Šä¼ ï¼Œæ— æ•°æ¬¡æµè§ˆï¼Œè¯´ä¸“ä¸šç‚¹å°±æ˜¯å¤šè¯»å°‘å†™ ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼80%çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨è¿›è¡Œè¯»æ“ä½œï¼å‡ç¼“æœåŠ¡å™¨å‹åŠ›ï¼æ¶æ„ä¸­ç»å¸¸ä½¿ç”¨ä¸€ä¸»äºŒä»ï¼ ","date":"2021-03-15","objectID":"/redis-study-04/:1:1","tags":["redis"],"title":"Redis Study 04","uri":"/redis-study-04/"},{"categories":["å­¦ä¹ "],"content":"ç¯å¢ƒé…ç½® åªé…ç½®ä»åº“ï¼Œä¸ç”¨é…ç½®ä¸»åº“ 127.0.0.1:6379\u003e info replication # æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯ # Replication role:master # è§’è‰² connected_slaves:0 # è¿æ¥çš„ä»æœºä¸ªæ•° master_replid:c3d733dbffb09746cf8ef0b4b87ce62406dd0c83 master_replid2:0000000000000000000000000000000000000000 master_repl_offset:0 second_repl_offset:-1 repl_backlog_active:0 repl_backlog_size:1048576 repl_backlog_first_byte_offset:0 repl_backlog_histlen:0 å¤åˆ¶3ä¸ªé…ç½®æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹å¯¹åº”çš„é…ç½®ä¿¡æ¯ ç«¯å£å· pidæ–‡ä»¶å æ—¥å¿—å dump.rdbæ–‡ä»¶ ä¿®æ”¹å®Œæ¯•åå¯åŠ¨ï¼Œå¯åŠ¨3ä¸ªRedisé›†ç¾¤ redisä¸»ä»å¤åˆ¶é…ç½®\u0026ldquo;redisä¸»ä»å¤åˆ¶é…ç½®\u0026rdquo; \"\rredisä¸»ä»å¤åˆ¶é…ç½®\r ","date":"2021-03-15","objectID":"/redis-study-04/:1:2","tags":["redis"],"title":"Redis Study 04","uri":"/redis-study-04/"},{"categories":["å­¦ä¹ "],"content":"ä¸€ä¸»äºŒä» é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼›æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹åªè¦é…ç½®ä»æœºå°±å¯ä»¥äº† 127.0.0.1:6380\u003e SLAVEOF 127.0.0.1 6379 # é€‰æ‹©ä¸»æœº OK 127.0.0.1:6380\u003e info replication # Replication role:slave # å½“å‰è§’è‰²æ˜¯ä»æœº master_host:127.0.0.1 # ä¸»æœºip master_port:6379 # ä¸»æœºç«¯å£å· master_link_status:up master_last_io_seconds_ago:2 master_sync_in_progress:0 slave_repl_offset:14 slave_priority:100 slave_read_only:1 connected_slaves:0 master_replid:60116b0ccf67baa49701e78ea9cbb17c2673dded master_replid2:0000000000000000000000000000000000000000 master_repl_offset:14 second_repl_offset:-1 repl_backlog_active:1 repl_backlog_size:1048576 repl_backlog_first_byte_offset:1 repl_backlog_histlen:14 # é…ç½®å®Œä¸¤å°ä»æœº 127.0.0.1:6379\u003e info replication # Replication role:master connected_slaves:2 slave0:ip=127.0.0.1,port=6380,state=online,offset=1148,lag=0 slave1:ip=127.0.0.1,port=6381,state=online,offset=1148,lag=0 master_replid:60116b0ccf67baa49701e78ea9cbb17c2673dded master_replid2:0000000000000000000000000000000000000000 master_repl_offset:1148 second_repl_offset:-1 repl_backlog_active:1 repl_backlog_size:1048576 repl_backlog_first_byte_offset:1 repl_backlog_histlen:1148 çœŸå®çš„ä»ä¸»é…ç½®åº”è¯¥åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·çš„è¯æ˜¯æ°¸ä¹…çš„ï¼Œè¿™é‡Œä½¿ç”¨å‘½ä»¤é…ç½®ï¼Œæš‚æ—¶çš„ã€‚ ä¸»æœºå¯ä»¥å†™ï¼Œä»æœºä¸èƒ½å†™åªèƒ½è¯»ï¼ä¸»æœºä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½ä¼šè¢«ä»æœºè‡ªåŠ¨ä¿å­˜ ä¸»æœºæ–­å¼€è¿æ¥ï¼Œä»æœºä¾æ—§å¯ä»¥è¿åˆ°ä¸»æœºï¼Œä½†æ²¡æœ‰å†™æ“ä½œã€‚å¦‚æœä¸»æœºé‡æ–°è¿æ¥äº†ï¼Œä»æœºä¾æ—§å¯ä»¥ç›´æ¥è·å–ä¸»æœºå†™çš„ä¿¡æ¯! å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œé…ç½®ä¸»ä»ï¼Œå¦‚æœä»æœºé‡å¯äº†ï¼Œå°±ä¼šå˜å›ä¸»æœºï¼åªè¦å˜å›ä»æœºï¼Œå°±èƒ½ç«‹é©¬ä»ä¸»æœºè·å–å€¼ ","date":"2021-03-15","objectID":"/redis-study-04/:1:3","tags":["redis"],"title":"Redis Study 04","uri":"/redis-study-04/"},{"categories":["å­¦ä¹ "],"content":"rediså­¦ä¹ 04","date":"2021-03-15","objectID":"/redis-study-03/","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"ä¸‰å¤§ç‰¹æ®Šæ•°æ®ç±»å‹ ","date":"2021-03-15","objectID":"/redis-study-03/:1:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"geospatialï¼ˆåœ°ç†ä½ç½®ï¼‰ Redisçš„GEO ####################################################### # geoadd æ·»åŠ geo # geopos è·å–geo 127.0.0.1:6379\u003e GEOADD china:city 116.40 39.90 beijing (integer) 1 127.0.0.1:6379\u003e GEOADD china:city 121.47 31.23 shanghai 106.50 29.53 chongqin (integer) 2 127.0.0.1:6379\u003e GEOADD china:city 120.16 30.24 hangzhou 108.96 34.26 xian (integer) 2 127.0.0.1:6379\u003e GEOPOS china:city beijing chongqin 1) 1) \"116.39999896287918091\" 2) \"39.90000009167092543\" 2) 1) \"106.49999767541885376\" 2) \"29.52999957900659211\" ####################################################### # geodist ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦» 127.0.0.1:6379\u003e GEODIST china:city beijing shanghai km # æŸ¥çœ‹åŒ—äº¬åˆ°ä¸Šæµ·çš„è·ç¦» \"1067.3788\" ####################################################### # georadius è·å–åæ ‡ç‚¹å‘¨å›´çš„æ•°æ® 127.0.0.1:6379\u003e GEORADIUS china:city 110 30 1000 km # è·å–åæ ‡ç‚¹ä½110,30æ–¹åœ†1000kmåœ¨china:cityæ•°æ® 1) \"chongqin\" 2) \"xian\" 3) \"hangzhou\" 127.0.0.1:6379\u003e GEORADIUS china:city 110 30 500 km 1) \"chongqin\" 2) \"xian\" ####################################################### # georadiusbymember ä»¥åŸå¸‚ä¸ºä¸­å¿ƒæ–¹åœ†çš„æ•°æ® 127.0.0.1:6379\u003e GEORADIUSBYMEMBER china:city beijing 100 km 1) \"beijing\" 127.0.0.1:6379\u003e GEORADIUSBYMEMBER china:city beijing 1000 km 1) \"beijing\" 2) \"xian\" 127.0.0.1:6379\u003e GEORADIUSBYMEMBER china:city hanghai 1000 km (error) ERR could not decode requested zset member 127.0.0.1:6379\u003e GEORADIUSBYMEMBER china:city shanghai 1000 km 1) \"hangzhou\" 2) \"shanghai\" ####################################################### # geohash ä»¥hashè¿”å›æ•°æ®çš„ç»çº¬åº¦ 127.0.0.1:6379\u003e GEOHASH china:city beijing 1) \"wx4fbxxfke0\" ####################################################### # geoåº•å±‚å®ç°åŸç†å…¶å®æ˜¯zset 127.0.0.1:6379\u003e ZRANGE china:city 0 -1 # æŸ¥çœ‹å…¨éƒ¨å…ƒç´  1) \"chongqin\" 2) \"xian\" 3) \"hangzhou\" 4) \"shanghai\" 5) \"beijing\" 127.0.0.1:6379\u003e ZREM china:city beijing # ç§»é™¤å…ƒç´  (integer) 1 127.0.0.1:6379\u003e ZRANGE china:city 0 -1 1) \"chongqin\" 2) \"xian\" 3) \"hangzhou\" 4) \"shanghai\" ","date":"2021-03-15","objectID":"/redis-study-03/:1:1","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"hyperloglog åŸºæ•°ï¼šä¸€ä¸ªsetä¸é‡å¤å…ƒç´ çš„æ•°é‡ hyperloglogä¸»è¦ç”¨æ¥åšç»Ÿè®¡ å¦‚æœå¯ä»¥å®¹é”™å¯ä»¥ä½¿ç”¨è¿™ä¸ªã€‚è¿™ä¸ªç©ºé—´å ç”¨å°‘ã€‚ ####################################################### # pfadd æ·»åŠ å…ƒç´  # pfcount è·å¾—å…ƒç´ ä¸ªæ•° # pfmerge å°†ä¸¤ä¸ªsetæ•´åˆåˆ°ä¸€ä¸ªæ–°çš„é›†åˆ 127.0.0.1:6379\u003e PFADD myset a b c d e f g h i j k (integer) 1 127.0.0.1:6379\u003e PFCOUNT myset (integer) 11 127.0.0.1:6379\u003e PFADD myset2 b s d j o l m n u (integer) 1 127.0.0.1:6379\u003e PFCOUNT myset2 (integer) 9 127.0.0.1:6379\u003e PFMERGE myset3 myset myset2 OK 127.0.0.1:6379\u003e PFCOUNT myset3 (integer) 17 ","date":"2021-03-15","objectID":"/redis-study-03/:1:2","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"bitmaps ä½å­˜å‚¨ åªæœ‰å­˜å‚¨0å’Œ1 ####################################################### # setbit æ·»åŠ æ•°æ® # getbit è·å¾—æ•°æ® # bitcount ç»Ÿè®¡ä¸ªæ•° 127.0.0.1:6379\u003e SETBIT sign 0 1 (integer) 0 127.0.0.1:6379\u003e SETBIT sign 1 1 (integer) 0 127.0.0.1:6379\u003e SETBIT sign 2 0 (integer) 0 127.0.0.1:6379\u003e SETBIT sign 3 0 (integer) 0 127.0.0.1:6379\u003e SETBIT sign 4 1 (integer) 0 127.0.0.1:6379\u003e GETBIT sign 3 (integer) 0 127.0.0.1:6379\u003e GETBIT sign 4 (integer) 1 127.0.0.1:6379\u003e BITCOUNT sign (integer) 3 ","date":"2021-03-15","objectID":"/redis-study-03/:1:3","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"äº‹åŠ¡ Redisäº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤ä¼šè¢«åºåˆ—åŒ–ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚ ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§ã€‚æ‰§è¡Œä¸€äº›å‘½ä»¤ Rediså•æ¡å‘½ä»¤ä¿æŒåŸå­æ€§ï¼Œäº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ Redisäº‹åŠ¡ï¼š å¼€å§‹äº‹åŠ¡ï¼ˆï¼‰ å‘½ä»¤å…¥é˜Ÿï¼ˆï¼‰ æ‰§è¡Œäº‹åŠ¡ï¼ˆï¼‰ ####################################################### # multi å¼€å§‹äº‹åŠ¡ # exec æ‰§è¡Œäº‹åŠ¡ 127.0.0.1:6379\u003e MULTI OK 127.0.0.1:6379\u003e set k1 v1 QUEUED 127.0.0.1:6379\u003e set k2 v2 QUEUED 127.0.0.1:6379\u003e get k2 QUEUED 127.0.0.1:6379\u003e set k3 v3 QUEUED 127.0.0.1:6379\u003e EXEC 1) OK 2) OK 3) \"v2\" 4) OK ####################################################### # discard æ”¾å¼ƒäº‹åŠ¡ï¼ˆç›¸å½“äºå›æ»šï¼‰ 127.0.0.1:6379\u003e MULTI OK 127.0.0.1:6379\u003e set k4 v4 QUEUED 127.0.0.1:6379\u003e set k5 v5 QUEUED 127.0.0.1:6379\u003e DISCARD OK 127.0.0.1:6379\u003e get k4 (nil) ","date":"2021-03-15","objectID":"/redis-study-03/:2:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"ç¼–è¯‘å‹å¼‚å¸¸ï¼ˆä»£ç æœ‰é—®é¢˜ï¼Œå‘½ä»¤æœ‰é”™ï¼‰ï¼Œäº‹åŠ¡ä¸­çš„å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ 127.0.0.1:6379\u003e MULTI OK 127.0.0.1:6379\u003e set k1 v1 QUEUED 127.0.0.1:6379\u003e set k2 v2 QUEUED 127.0.0.1:6379\u003e set k3 v3 QUEUED 127.0.0.1:6379\u003e GETSET k4 # é”™è¯¯å‘½ä»¤ (error) ERR wrong number of arguments for 'getset' command 127.0.0.1:6379\u003e set k4 v4 QUEUED 127.0.0.1:6379\u003e set k5 v5 QUEUED 127.0.0.1:6379\u003e EXEC # æ‰§è¡Œäº‹åŠ¡æŠ¥é”™ (error) EXECABORT Transaction discarded because of previous errors. 127.0.0.1:6379\u003e get k5 # æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ (nil) ","date":"2021-03-15","objectID":"/redis-study-03/:2:1","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­å­˜åœ¨è¯­æ³•æ€§ï¼ˆè¯­æ³•æ²¡æœ‰é—®é¢˜ï¼‰ï¼Œé‚£ä¹ˆæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å…¶ä»–å‘½ä»¤æ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œé”™è¯¯å‘½ä»¤æŠ›å‡ºå¼‚å¸¸ 127.0.0.1:6379\u003e set k1 v1 OK 127.0.0.1:6379\u003e MULTI OK 127.0.0.1:6379\u003e INCR k1 # ä¼šæ‰§è¡ŒæŠ¥é”™ QUEUED 127.0.0.1:6379\u003e set k2 v2 QUEUED 127.0.0.1:6379\u003e set k3 v3 QUEUED 127.0.0.1:6379\u003e get k3 QUEUED 127.0.0.1:6379\u003e EXEC 1) (error) ERR value is not an integer or out of range # è™½ç„¶ç¬¬ä¸€æ¡å‘½ä»¤æŠ¥é”™äº†ï¼Œä½†å…¶ä»–è¿˜æ˜¯æ­£å¸¸æ‰§è¡Œäº† 2) OK 3) OK 4) \"v3\" ","date":"2021-03-15","objectID":"/redis-study-03/:2:2","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"Redisé” ","date":"2021-03-15","objectID":"/redis-study-03/:3:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"æ‚²è§‚é” å¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é” ","date":"2021-03-15","objectID":"/redis-study-03/:3:1","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"ä¹è§‚é” å¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œæ›´æ–°çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡å€¼ ä¸»è¦é€šè¿‡è·å–version æ›´æ–°çš„æ—¶å€™æ¯”è¾ƒç¬¬ä¸€æ¬¡è·å–çš„version æ­£å¸¸æ‰§è¡ŒæˆåŠŸ 127.0.0.1:6379\u003e set money 100 OK 127.0.0.1:6379\u003e set out 0 OK 127.0.0.1:6379\u003e watch money # ç›‘è§†moneyå¯¹è±¡ OK 127.0.0.1:6379\u003e MULTI # äº‹åŠ¡å¼€å§‹ï¼Œäº‹åŠ¡æ‰§è¡ŒæœŸé—´æ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œäº‹åŠ¡æ­£å¸¸æ‰§è¡Œ OK 127.0.0.1:6379\u003e DECR money QUEUED 127.0.0.1:6379\u003e INCR out QUEUED 127.0.0.1:6379\u003e EXEC 1) (integer) 99 2) (integer) 1 æµ‹è¯•å¤šçº¿ç¨‹ä¿®æ”¹å€¼ï¼Œä½¿ç”¨watchå¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œ 127.0.0.1:6379\u003e watch money #ç›‘è§†money OK 127.0.0.1:6379\u003e MULTI OK 127.0.0.1:6379\u003e DECRBY money 20 QUEUED 127.0.0.1:6379\u003e INCRBY out 20 QUEUED 127.0.0.1:6379\u003e EXEC (nil) æ‰§è¡Œå‰å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹å€¼ 127.0.0.1:6379\u003e INCRBY money 300 (integer) 399 ","date":"2021-03-15","objectID":"/redis-study-03/:3:2","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"redis.confè¯¦è§£ å¯åŠ¨çš„æ—¶å€™å°±é€šè¿‡é…ç½®æ–‡ä»¶æ¥å¯åŠ¨ ","date":"2021-03-15","objectID":"/redis-study-03/:4:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"å•ä½ rediså•ä½\u0026ldquo;rediså•ä½\u0026rdquo; \"\rrediså•ä½\r é…ç½®æ–‡ä»¶ï¼Œunitå•ä½ï¼Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿ ","date":"2021-03-15","objectID":"/redis-study-03/:4:1","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"åŒ…å« redisåŒ…å«\u0026ldquo;redisåŒ…å«\u0026rdquo; \"\rredisåŒ…å«\r å¯¼å…¥æ–‡ä»¶ ","date":"2021-03-15","objectID":"/redis-study-03/:4:2","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"ç½‘ç»œ bind 127.0.0.1 # ç»‘å®šçš„ip protected-mode yes # ä¿æŠ¤æ¨¡å¼æ˜¯å¦å¼€å¯ port 6379 # ç«¯å£å· ","date":"2021-03-15","objectID":"/redis-study-03/:4:3","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"é€šç”¨GENERAL daemonize yes # ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œé»˜è®¤æ˜¯no pidfile /var/run/redis_6379.pid # å¦‚æœä»¥åå°çš„æ–¹å¼è¿è¡Œï¼Œæˆ‘ä»¬å°±éœ€è¦æŒ‡å®šä¸€ä¸ªpidæ–‡ä»¶ ","date":"2021-03-15","objectID":"/redis-study-03/:4:4","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"æ—¥å¿— redisæ—¥å¿—\u0026ldquo;redisæ—¥å¿—\u0026rdquo; \"\rredisæ—¥å¿—\r logfile \"\" # æ—¥å¿—çš„æ–‡ä»¶ä½ç½®å databases 16 # æ•°æ®åº“æ•°é‡ï¼Œé»˜è®¤æ˜¯16ä¸ªæ•°æ®åº“ always-show-logo yes # æ˜¯å¦æ€»æ˜¯æ˜¾ç¤ºlogo ","date":"2021-03-15","objectID":"/redis-study-03/:4:5","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"å¿«ç…§ æŒä¹…åŒ–ï¼Œåœ¨è§„å®šçš„æ—¶é—´æ‰§è¡Œäº†å¤šå°‘æ¬¡æ“ä½œï¼Œåˆ™ä¼šæŒä¹…åŒ–åˆ°æ–‡ä»¶.rdbæˆ–.aofä¸­ redisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰æŒä¹…åŒ–ï¼Œæ•°æ®åº“æ–­ç‚¹å³å¤± # å¦‚æœ900å†…è‡³å°‘æœ‰1ä¸ªkeyè¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šè¿›è¡ŒæŒä¹…åŒ–æ“ä½œ save 900 1 # å¦‚æœ300å†…æœ‰10ä¸ªkeyè¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šè¿›è¡ŒæŒä¹…åŒ–æ“ä½œ save 300 10 # å¦‚æœ60å†…æœ‰10000ä¸ªkeyè¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šè¿›è¡ŒæŒä¹…åŒ–æ“ä½œ save 60 10000 stop-writes-on-bgsave-error yes # æŒä¹…åŒ–å¦‚æœå‡ºé”™æ˜¯å¦è¿˜éœ€è¦ç»§ç»­è¿è¡Œ rdbcompression yes # æ˜¯å¦å‹ç¼©rdbæ–‡ä»¶ï¼Œéœ€è¦æ¶ˆè€—ä¸€äº›cpuèµ„æº rdbchecksum yes # ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿›è¡Œé”™è¯¯çš„æ£€æŸ¥æ ¡éªŒ dir ./ # rdbæ–‡ä»¶çš„ä¿å­˜è·¯å¾„ ","date":"2021-03-15","objectID":"/redis-study-03/:4:6","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"REPLICATION å¤åˆ¶ ","date":"2021-03-15","objectID":"/redis-study-03/:4:7","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"SECURITY å®‰å…¨ ","date":"2021-03-15","objectID":"/redis-study-03/:4:8","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"é™åˆ¶CLIENTS maxclients 10000 # è®¾ç½®èƒ½è¿æ¥ä¸Šredisçš„æœ€å¤šå®¢æˆ·ç«¯æ•°é‡ maxmemory \u003cbytes\u003e # redisé…ç½®çš„æœ€å¤§å†…å­˜å®¹é‡ maxmemory-policy noeviction # å†…å­˜è¾¾åˆ°ä¸Šé™çš„å¤„ç†ç­–ç•¥ 1. volatile-lruï¼šåªå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyè¿›è¡ŒLRUï¼ˆé»˜è®¤å€¼ï¼‰ 2. allkeys-lruï¼šåˆ é™¤LRUç®—æ³•çš„key 3. volatile-lfuï¼šåªå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyè¿›è¡ŒLFU 4. allkeys-lfuï¼šåˆ é™¤LFUç®—æ³•çš„key 5. volatile-randomï¼šéšæœºåˆ é™¤å³å°†è¿‡æœŸçš„key 6. allkeys-randomï¼šéšæœºåˆ é™¤ 7. volatile-ttlï¼šåˆ é™¤å³å°†è¿‡æœŸçš„ 8. noevictionï¼šæ°¸ä¸è¿‡æœŸï¼Œè¿”å›é”™è¯¯ ","date":"2021-03-15","objectID":"/redis-study-03/:4:9","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"APPEND ONLYæ¨¡å¼ aofæŒä¹…åŒ– appendonly no # é»˜è®¤æ˜¯ä¸å¼€å¯aofæ¨¡å¼ appendfilename \"appendonly.aof\" # æŒä¹…åŒ–æ–‡ä»¶çš„åå­— # appendfsync always # æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šsyncã€‚æ¶ˆè€—æ€§èƒ½ appendfsync everysec # æ¯ç§’æ‰§è¡Œä¸€æ¬¡syncã€‚å¯èƒ½ä¼šä¸¢å¤±è¿™1sçš„æ•°æ® # appendfsync no # ä¸æ‰§è¡Œsyncï¼Œè¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿè‡ªå·±åŒæ­¥æ•°æ®ï¼Œé€Ÿåº¦æœ€å¿« ","date":"2021-03-15","objectID":"/redis-study-03/:4:10","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"RedisæŒä¹…åŒ– Redisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœä¸å°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¿å­˜åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆä¸€æ—¦æœåŠ¡å™¨è¿›ç¨‹é€€å‡ºï¼ŒæœåŠ¡å™¨ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¹Ÿä¼šæ¶ˆå¤±ã€‚æ‰€ä»¥redisæä¾›äº†æŒä¹…åŒ–åŠŸèƒ½ ","date":"2021-03-15","objectID":"/redis-study-03/:5:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"RDB ä»€ä¹ˆæ˜¯RDB åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†ä½“å¿«ç…§å†™å…¥ç£ç›˜ä¸­ï¼Œä¹Ÿå°±æ˜¯å¿«ç…§ï¼Œæ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»åˆ°å†…å­˜ä¸­ã€‚ Redisä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶çš„æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢æ‰ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹ä¸ä¼šè¿›è¡Œä»»ä½•IOæ“ä½œã€‚è¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚å¦‚æœéœ€è¦å¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹æ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯å¾ˆæ•æ„Ÿï¼ŒRDBè¦æ¯”AOFé«˜æ•ˆã€‚RDBç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–çš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚ RDBä¿å­˜çš„dump.rdbæ–‡ä»¶ï¼Œåœ¨confæ–‡ä»¶ä¸­è¿›è¡Œé…ç½® dbfilename dump.rdb è§¦å‘æœºåˆ¶ saveè§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘rdbè§„åˆ™ æ‰§è¡Œflushallå‘½ä»¤ä¹Ÿä¼šè§¦å‘rdbè§„åˆ™ é€€å‡ºredisï¼Œä¹Ÿä¼šäº§ç”Ÿrdbæ–‡ä»¶ å¤‡ä»½å°±ä¼šç”Ÿæˆdump.rdb å¦‚ä½•æ¢å¤rdbæ–‡ä»¶ åªéœ€è¦å°†rdbæ–‡ä»¶æ”¾åœ¨å¯åŠ¨ç›®å½•ä¸‹å³å¯ï¼Œrediså¯åŠ¨çš„æ—¶å€™å›è‡ªåŠ¨æ£€æŸ¥dump.rdbæ¢å¤å…¶ä¸­çš„æ•°æ®ã€‚ æŸ¥çœ‹éœ€è¦å­˜åœ¨çš„ä½ç½® 127.0.0.1:6379\u003e clear 127.0.0.1:6379\u003e config get dir 1) \"dir\" 2) \"/root\" # å¦‚æœç›®å½•ä¸‹å­˜åœ¨dump.rdbæ–‡ä»¶ï¼Œå¯åŠ¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ¢å¤å…¶ä¸­çš„æ•°æ® å‡ ä¹é»˜è®¤çš„é…ç½®å°±å¤Ÿç”¨äº† ä¼˜ç‚¹ï¼š é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤ï¼ å¦‚æœå¯¹æ•°æ®çš„å®Œæ•´æ€§è¦æ±‚ä¸é«˜ ç¼ºç‚¹ï¼š éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›è¡Œæ“ä½œï¼Œå¦‚æœredisæ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹æ•°æ®å°±æ²¡äº† forkè¿›ç¨‹çš„æ—¶å€™ä¼šå ç”¨ä¸€å®šçš„å†…å®¹ç©ºé—´ ","date":"2021-03-15","objectID":"/redis-study-03/:5:1","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"AOFï¼ˆAppend Only Fileï¼‰ ä»€ä¹ˆæ˜¯AOFï¼š å°†æ‰§è¡Œè¿‡çš„æ‰€æœ‰å‘½ä»¤è®°å½•ä¸‹æ¥ ä»¥æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™æ“ä½œï¼Œå°†Redisæ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰ï¼Œåªè®¸è¿½åŠ æ–‡ä»¶ï¼Œä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶ï¼ŒRediså¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„é€ æ•°æ®ã€‚æ¢è¨€ä¹‹ï¼ŒRedisé‡å¯çš„è¯å°±æ˜¯æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œã€‚ AOF ä¿å­˜çš„æ˜¯appendonly.aofæ–‡ä»¶ é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé…ç½®ï¼Œåªè®¸å°†appendonlyæ”¹ä¸ºyeså°±å¼€å¯çš„AOF é‡å¯ï¼ŒRediså°±ç”Ÿæ•ˆäº† å¦‚æœappendonly.aofæ–‡ä»¶æœ‰é”™ï¼Œredisæ˜¯å¯åŠ¨ä¸äº†çš„ï¼Œéœ€è¦ä¿®å¤aofæ–‡ä»¶ã€‚redisæä¾›äº†ä¸€ä¸ªå·¥å…·redis-check-aof â€“fix å¦‚æœæ–‡ä»¶æ­£å¸¸ï¼Œé‡å¯å°±å¯ä»¥ç›´æ¥æ¢å¤äº† ä¼˜ç‚¹ï¼š æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ï¼Œæ–‡ä»¶å®Œæ•´ä¼šæ›´å¥½ æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’çš„æ•°æ® ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜ ç¼ºç‚¹ï¼š ç›¸å¯¹äºæ•°æ®æ–‡ä»¶æ¥è¯´ï¼Œaofè¿œå¤§äºrdbï¼Œä¿®å¤é€Ÿåº¦ä¹Ÿæ¯”rdbæ…¢ aofè¿è¡Œæ•ˆç‡æ¯”rdbæ…¢ï¼Œæ‰€ä»¥é»˜è®¤çš„æ˜¯rdbæŒä¹…åŒ– ","date":"2021-03-15","objectID":"/redis-study-03/:5:2","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"Redisè®¢é˜…å‘å¸ƒ è®¢é˜…ç«¯ 127.0.0.1:6379\u003e SUBSCRIBE cc # è®¢é˜…ä¸€ä¸ªé¢‘é“ Reading messages... (press Ctrl-C to quit) 1) \"subscribe\" 2) \"cc\" 3) (integer) 1 # ç­‰å¾…è¯»å–æ¨é€çš„ä¿¡æ¯ 1) \"message\" #æ¶ˆæ¯ 2) \"cc\" #é¢‘é“ 3) \"hello,world\" #å…·ä½“å†…å®¹ å‘é€ç«¯ 127.0.0.1:6379\u003e PUBLISH cc hello,world # å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ (integer) 1 ","date":"2021-03-15","objectID":"/redis-study-03/:6:0","tags":["redis"],"title":"Redis Study 03","uri":"/redis-study-03/"},{"categories":["å­¦ä¹ "],"content":"rediså­¦ä¹ 02","date":"2021-03-12","objectID":"/redis-study-02/","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"äº”å¤§æ•°æ®ç±»å‹ ","date":"2021-03-12","objectID":"/redis-study-02/:1:0","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"Stirngï¼ˆå­—ç¬¦ä¸²ï¼‰ ####################################################### # set # get # exists # append 127.0.0.1:6379\u003e set key1 v1 # è®¾ç½®key1 OK 127.0.0.1:6379\u003e get key1 # è·å¾—å€¼ \"v1\" 127.0.0.1:6379\u003e exists key1 # åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ (integer) 1 127.0.0.1:6379\u003e append key1 \"hello\" # è¿½åŠ å­—ç¬¦ä¸²ï¼Œå¦‚æœå½“å‰keyä¸å­˜åœ¨ç›¸å½“äºset key (integer) 7 127.0.0.1:6379\u003e get key1 \"v1hello\" ####################################################### # strlen 127.0.0.1:6379\u003e strlen key1 # è·å–å­—ç¬¦ä¸²é•¿åº¦ (integer) 7 127.0.0.1:6379\u003e append key1 \",cc\" (integer) 10 127.0.0.1:6379\u003e strlen key1 (integer) 10 127.0.0.1:6379\u003e get key1 \"v1hello,cc\" ####################################################### # æ­¥é•¿ i++ 127.0.0.1:6379\u003e incr views # è‡ªå¢1 (integer) 1 127.0.0.1:6379\u003e get views \"1\" 127.0.0.1:6379\u003e decr views # è‡ªå‡1 (integer) 0 127.0.0.1:6379\u003e incrby views 10 # è®¾ç½®æ­¥é•¿ï¼ŒæŒ‡å®šå¢é‡ (integer) 10 127.0.0.1:6379\u003e get views \"10\" 127.0.0.1:6379\u003e DECRBY views 5 (integer) 5 127.0.0.1:6379\u003e GET views \"5\" ####################################################### # å­—ç¬¦ä¸²èŒƒå›´ 127.0.0.1:6379\u003e set key1 \"hello,cc\" OK 127.0.0.1:6379\u003e GETRANGE key1 0 3 # æˆªå–å­—ç¬¦ä¸²ï¼Œ [0,3] \"hell\" 127.0.0.1:6379\u003e GETRANGE key1 0 -1 # è·å–å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œç›¸å½“äºget key \"hello,cc\" # æ›¿æ¢ 127.0.0.1:6379\u003e set key2 abcdefg OK 127.0.0.1:6379\u003e GET key2 \"abcdefg\" 127.0.0.1:6379\u003e SETRANGE key2 1 xx # æ›¿æ¢æŒ‡å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸² (integer) 7 127.0.0.1:6379\u003e GET key2 \"axxdefg\" ####################################################### # setex (set with expire) è®¾ç½®è¿‡æœŸæ—¶é—´ # setnx (set if not exist) ä¸å­˜åœ¨æ‰è®¾ç½®ï¼ˆåœ¨åˆ†å¸ƒå¼é”ä¸­å¸¸ä½¿ç”¨ï¼‰ 127.0.0.1:6379\u003e SETEX key3 30 \"hello\" # è®¾ç½®key3ä¸ºhelloï¼Œ30ç§’åè¿‡æœŸ OK 127.0.0.1:6379\u003e ttl key3 # æŸ¥çœ‹å‰©ä½™æ—¶é—´ (integer) 22 127.0.0.1:6379\u003e get key3 \"hello\" 127.0.0.1:6379\u003e SETNX mykey redis # å¦‚æœmykeyä¸å­˜åœ¨ï¼Œåˆ›å»ºmykey (integer) 1 127.0.0.1:6379\u003e get mykey \"redis\" 127.0.0.1:6379\u003e SETNX mykey mongodb # å¦‚æœmykeyå­˜åœ¨ï¼Œåˆ›å»ºå¤±è´¥ (integer) 0 127.0.0.1:6379\u003e get mykey \"redis\" 127.0.0.1:6379\u003e ttl key3 (integer) -2 127.0.0.1:6379\u003e get key3 (nil) ####################################################### # mset ï¼ˆåŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼‰ # mget ï¼ˆåŒæ—¶è·å–å¤šä¸ªå€¼ï¼‰ 127.0.0.1:6379[1]\u003e mset k1 v1 k2 v2 k3 v3 # åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ OK 127.0.0.1:6379[1]\u003e keys * 1) \"k1\" 2) \"k3\" 3) \"k2\" 127.0.0.1:6379[1]\u003e mget k1 k2 k3 # åŒæ—¶è·å–å¤šä¸ªå€¼ 1) \"v1\" 2) \"v2\" 3) \"v3\" 127.0.0.1:6379[1]\u003e mset k1 v1 k4 v4 OK 127.0.0.1:6379[1]\u003e keys * 1) \"k1\" 2) \"k4\" 3) \"k3\" 4) \"k2\" 127.0.0.1:6379[1]\u003e mget k1 k2 k3 k4 1) \"v1\" 2) \"v2\" 3) \"v3\" 4) \"v4\" 127.0.0.1:6379[1]\u003e msetnx k1 v1 k5 v5 # msetnxæ˜¯ä¸€ä¸ªåŸå­æ€§æ“ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ (integer) 0 127.0.0.1:6379[1]\u003e keys * 1) \"k1\" 2) \"k4\" 3) \"k3\" 4) \"k2\" ####################################################### # å¯¹è±¡ 127.0.0.1:6379[1]\u003e set user:1 {name:zhangsan,age:3} # è®¾ç½®ä¸€ä¸ªuser:1å¯¹è±¡ï¼Œå€¼ä¸ºjsonå­—ç¬¦æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡ OK 127.0.0.1:6379[1]\u003e mset user:1:name zhangsan user:1:age 3 # è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼šuser:{id}:{filed}ï¼Œå¦‚æ­¤è®¾è®¡åœ¨redisä¸­æ˜¯å®Œå…¨okçš„ OK 127.0.0.1:6379[1]\u003e mget user:1:name user:1:age 1) \"zhangsan\" 2) \"3\" ####################################################### # getset å…ˆgetåset 127.0.0.1:6379[1]\u003e GETSET db redis # å¦‚æœä¸å­˜åœ¨å€¼ï¼Œè¿”å›nilï¼Œå¹¶è®¾ç½®å€¼ (nil) 127.0.0.1:6379[1]\u003e get db \"redis\" 127.0.0.1:6379[1]\u003e GETSET db mongodb # å¦‚æœå­˜åœ¨å€¼ï¼Œè¿”å›åŸæ¥çš„å€¼ï¼Œå¹¶åšæ›´æ–°æ“ä½œ \"redis\" 127.0.0.1:6379[1]\u003e get db \"mongodb\" ","date":"2021-03-12","objectID":"/redis-study-02/:1:1","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"List åˆ—è¡¨æ˜¯ä¸€ç§åŸºæœ¬çš„æ•°æ®ç±»å‹ åœ¨Redisé‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠlistå®Œæˆï¼Œæ ˆã€é˜Ÿåˆ—ã€å µå¡é˜Ÿåˆ—ã€‚ ####################################################### # lpush # lpop # lrange 127.0.0.1:6379[1]\u003e LPUSH list one # å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼ï¼Œæ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨ (integer) 1 127.0.0.1:6379[1]\u003e LPUSH list two (integer) 2 127.0.0.1:6379[1]\u003e LPUSH list three (integer) 3 127.0.0.1:6379[1]\u003e LRANGE list 0 -1 # è·å–listä¸­çš„å€¼ 1) \"three\" 2) \"two\" 3) \"one\" 127.0.0.1:6379[1]\u003e LRANGE list 0 1 # é€šè¿‡åŒºé—´è·å–å…·ä½“çš„å€¼ 1) \"three\" 2) \"two\" 127.0.0.1:6379[1]\u003e RPUSH list right # å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ”¾åˆ°åˆ—è¡¨çš„å°¾éƒ¨ (integer) 4 127.0.0.1:6379[1]\u003e LRANGE list 0 -1 1) \"three\" 2) \"two\" 3) \"one\" 4) \"right\" 127.0.0.1:6379[1]\u003e LPOP list # ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  \"three\" 127.0.0.1:6379[1]\u003e RPOP list # ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´  \"right\" 127.0.0.1:6379[1]\u003e LRANGE list 0 -1 1) \"two\" 2) \"one\" ####################################################### # lindex # llen 127.0.0.1:6379[1]\u003e LINDEX list 0 # é€šè¿‡ä¸‹æ ‡è·å–listä¸­çš„æŸä¸€ä¸ªå€¼ \"two\" 127.0.0.1:6379[1]\u003e LINDEX list 1 \"one\" 127.0.0.1:6379\u003e LPUSH list one (integer) 1 127.0.0.1:6379\u003e LPUSH list two (integer) 2 127.0.0.1:6379\u003e LPUSH list three (integer) 3 127.0.0.1:6379\u003e LLEN list # è¿”å›åˆ—è¡¨çš„é•¿åº¦ (integer) 3 ####################################################### # lrem 127.0.0.1:6379\u003e LRANGE list 0 -1 1) \"three\" 2) \"three\" 3) \"two\" 4) \"one\" 127.0.0.1:6379\u003e LREM list 1 one # ç§»é™¤listé›†åˆä¸­æŒ‡å®šä¸ªæ•°çš„value (integer) 1 127.0.0.1:6379\u003e LRANGE list 0 -1 1) \"three\" 2) \"three\" 3) \"two\" 127.0.0.1:6379\u003e LREM list 2 three (integer) 2 127.0.0.1:6379\u003e LRANGE list 0 -1 1) \"two\" ####################################################### # trimä¿®å‰ª 127.0.0.1:6379\u003e RPUSH mylist hello (integer) 1 127.0.0.1:6379\u003e RPUSH mylist hello1 (integer) 2 127.0.0.1:6379\u003e RPUSH mylist hello2 (integer) 3 127.0.0.1:6379\u003e RPUSH mylist hello3 (integer) 4 127.0.0.1:6379\u003e LRANGE mylist 0 -1 1) \"hello\" 2) \"hello1\" 3) \"hello2\" 4) \"hello3\" 127.0.0.1:6379\u003e LTRIM mylist 1 2 # é€šè¿‡ä¸‹æ ‡æˆªå–æŒ‡å®šé•¿åº¦ï¼Œè¿™ä¸ªlistå·²ç»æ”¹å˜ï¼Œåªå‰©ä¸‹æˆªå–çš„å…ƒç´  OK 127.0.0.1:6379\u003e LRANGE mylist 0 -1 1) \"hello1\" 2) \"hello2\" ####################################################### # rpoplpush 127.0.0.1:6379\u003e LRANGE mylist 0 -1 1) \"hello1\" 2) \"hello2\" 127.0.0.1:6379\u003e RPOPLPUSH mylist myotherlist # ç§»åŠ¨åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ åˆ°å…¶ä»–è¡¨ä¸­ \"hello2\" 127.0.0.1:6379\u003e LRANGE mylist 0 -1 # æŸ¥çœ‹åŸæ¥çš„è¡¨ 1) \"hello1\" 127.0.0.1:6379\u003e LRANGE myotherlist 0 -1 # æŸ¥çœ‹æ–°çš„è¡¨ 1) \"hello2\" ####################################################### # exists # lset å°†åˆ—è¡¨æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼Œæ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªå€¼ï¼Œæ›´æ–°æ“ä½œ 127.0.0.1:6379\u003e exists list # åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ (integer) 0 127.0.0.1:6379\u003e lset list 0 item # ä¸å­˜åœ¨ï¼Œæ›´æ–°ï¼ŒæŠ¥é”™ (error) ERR no such key 127.0.0.1:6379\u003e LPUSH list value (integer) 1 127.0.0.1:6379\u003e lset list 0 item # å­˜åœ¨ï¼Œæ›´æ–°å½“å‰ä¸‹æ ‡çš„å€¼ OK 127.0.0.1:6379\u003e LRANGE list 0 -1 1) \"item\" 127.0.0.1:6379\u003e lset list 1 other # åˆ—è¡¨ä¸å­˜åœ¨ï¼Œä¹ŸæŠ¥é”™ (error) ERR index out of range ####################################################### # linsert å°†æŸä¸ªå…·ä½“çš„valueæ’å…¥åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ çš„å‰é¢æˆ–è€…åé¢ 127.0.0.1:6379\u003e LPUSH mylist hello (integer) 1 127.0.0.1:6379\u003e LPUSH mylist world (integer) 2 127.0.0.1:6379\u003e LINSERT mylist before world other (integer) 3 127.0.0.1:6379\u003e LRANGE mylist 0 -1 1) \"other\" 2) \"world\" 3) \"hello\" 127.0.0.1:6379\u003e LINSERT mylist after world other1 (integer) 4 127.0.0.1:6379\u003e LRANGE mylist 0 -1 1) \"other\" 2) \"world\" 3) \"other1\" 4) \"hello\" å°ç»“ï¼š listå®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore Node afterï¼Œleftï¼Œrightéƒ½å¯ä»¥æ’å…¥ å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„é“¾è¡¨ å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹ å¦‚æœç§»é™¤äº†keyï¼Œç©ºé“¾è¡¨ï¼Œä¹Ÿä»£è¡¨ä¸å­˜åœ¨ åœ¨ä¸¤è¾¹æ’å…¥æˆ–æ”¹åŠ¨å€¼ï¼Œæ•ˆç‡æœ€é«˜ã€‚ä¸­é—´å…ƒç´ ï¼Œç›¸å¯¹æ¥è¯´æ•ˆç‡ä¼šä½ä¸€ç‚¹ ä½¿ç”¨åœºæ™¯ï¼š æ¶ˆæ¯æ’é˜Ÿ æ¶ˆæ¯é˜Ÿåˆ— ","date":"2021-03-12","objectID":"/redis-study-02/:1:2","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"Setï¼ˆé›†åˆï¼‰ Setä¸­çš„å€¼æ˜¯ä¸èƒ½é‡å¤çš„ ####################################################### # sadd # smembers # sismember 127.0.0.1:6379\u003e sadd myset \"hello\" # seté›†åˆä¸­æ·»åŠ å…ƒç´  (integer) 1 127.0.0.1:6379\u003e sadd myset cc (integer) 1 127.0.0.1:6379\u003e SMEMBERS myset # æŸ¥çœ‹æŒ‡å®šsetæ‰€æœ‰å€¼ 1) \"cc\" 2) \"hello\" 127.0.0.1:6379\u003e SISMEMBER myset cc # åˆ¤æ–­æŸä¸€ä¸ªå€¼åœ¨ä¸åœ¨setä¸­ (integer) 1 127.0.0.1:6379\u003e SISMEMBER myset a (integer) 0 ####################################################### # scard # è·å–seté›†åˆä¸­çš„å†…å®¹å…ƒç´ ä¸ªæ•° 127.0.0.1:6379\u003e scard myset # è·å–seté›†åˆå…ƒç´ ä¸ªæ•° (integer) 2 127.0.0.1:6379\u003e SMEMBERS myset 1) \"cc\" 2) \"hello\" 127.0.0.1:6379\u003e SADD myset cc # set å·²å­˜åœ¨å…ƒç´  (integer) 0 127.0.0.1:6379\u003e SADD myset cc1 (integer) 1 127.0.0.1:6379\u003e SCARD myset (integer) 3 127.0.0.1:6379\u003e SMEMBERS myset 1) \"cc\" 2) \"hello\" 3) \"cc1\" ####################################################### # srem ç§»é™¤seté›†åˆé‡Œçš„æŒ‡å®šå…ƒç´  127.0.0.1:6379\u003e srem myset hello (integer) 1 127.0.0.1:6379\u003e SMEMBERS myset 1) \"cc\" 2) \"cc1\" ####################################################### # srandmember éšæœºæŠ½é€‰å‡ºå‡ ä¸ªå…ƒç´  127.0.0.1:6379\u003e SRANDMEMBER myset # éšæœºæŠ½é€‰ä¸€ä¸ªå…ƒç´  \"cc\" 127.0.0.1:6379\u003e SRANDMEMBER myset \"cc1\" 127.0.0.1:6379\u003e SRANDMEMBER myset 2 # éšæœºæŠ½é€‰å‡ºä¸¤ä¸ªå…ƒç´  1) \"cc\" 2) \"cc1\" ####################################################### # spop éšæœºç§»é™¤å‡ ä¸ªå…ƒç´  127.0.0.1:6379\u003e SMEMBERS myset 1) \"cc\" 2) \"cc1\" 127.0.0.1:6379\u003e spop myset \"cc1\" 127.0.0.1:6379\u003e spop myset \"cc\" ####################################################### # smove å°†æŒ‡å®šçš„å€¼ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆ 127.0.0.1:6379\u003e SMEMBERS myset 1) \"cc\" 2) \"world\" 3) \"hello\" 127.0.0.1:6379\u003e SADD myset2 set2 (integer) 1 127.0.0.1:6379\u003e smove myset myset2 cc (integer) 1 127.0.0.1:6379\u003e SMEMBERS myset 1) \"world\" 2) \"hello\" 127.0.0.1:6379\u003e SMEMBERS myset2 1) \"cc\" 2) \"set2\" ####################################################### # æ•°å­—é›†åˆç±»ï¼ˆå·®é›†ã€å¹¶é›†ã€äº¤é›†ï¼‰ 127.0.0.1:6379\u003e sadd key1 a (integer) 1 127.0.0.1:6379\u003e sadd key1 b (integer) 1 127.0.0.1:6379\u003e sadd key1 c (integer) 1 127.0.0.1:6379\u003e sadd key2 c (integer) 1 127.0.0.1:6379\u003e sadd key2 d (integer) 1 127.0.0.1:6379\u003e sadd key2 e (integer) 1 127.0.0.1:6379\u003e SDIFF key1 key2 # å·®é›† 1) \"a\" 2) \"b\" 127.0.0.1:6379\u003e SINTER key1 key2 # äº¤é›† å…±åŒå¥½å‹å®ç° 1) \"c\" 127.0.0.1:6379\u003e SUNION key1 key2 # å¹¶é›† 1) \"a\" 2) \"b\" 3) \"c\" 4) \"e\" 5) \"d\" setæ˜¯æ— åºä¸é‡å¤é›†åˆï¼ŒæŠ½éšæœº ","date":"2021-03-12","objectID":"/redis-study-02/:1:3","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"Zset åœ¨setçš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€ä¸ªå€¼ï¼Œset k1 v1ï¼Œzset k2 score v2 ####################################################### zadd # æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ zrange # éå†æŸ¥è¯¢ 127.0.0.1:6379\u003e zadd myset 1 one (integer) 1 127.0.0.1:6379\u003e zadd myset 2 two 3 three (integer) 2 127.0.0.1:6379\u003e ZRANGE myset 0 -1 1) \"one\" 2) \"two\" 3) \"three\" ####################################################### # zrangebyscore æ ¹æ®scoreæ’åº 127.0.0.1:6379\u003e zset salary 2000 a (error) ERR unknown command `zset`, with args beginning with: `salary`, `2000`, `a`, 127.0.0.1:6379\u003e zadd salary 2000 a (integer) 1 127.0.0.1:6379\u003e zadd salary 5000 b (integer) 1 127.0.0.1:6379\u003e zadd salary 500 c (integer) 1 127.0.0.1:6379\u003e ZRANGEBYSCORE salary -inf +inf #æ˜¾ç¤ºå…¨éƒ¨ç”¨æˆ·ï¼Œä»å°åˆ°å¤§ 1) \"c\" 2) \"a\" 3) \"b\" 127.0.0.1:6379\u003e ZRANGEBYSCORE salary -inf +inf withscores #æ˜¾ç¤ºå…¨éƒ¨ç”¨æˆ·å¹¶ä¸”é™„å¸¦æˆç»© 1) \"c\" 2) \"500\" 3) \"a\" 4) \"2000\" 5) \"b\" 6) \"5000\" 127.0.0.1:6379\u003e ZREVRANGE salary 0 -1 withscores # æ˜¾ç¤ºå…¨éƒ¨ç”¨æˆ·ï¼Œä»å¤§åˆ°å° 1) \"b\" 2) \"5000\" 3) \"c\" 4) \"500\" ####################################################### # zrem ç§»é™¤æŒ‡å®šå…ƒç´  # zcard è·å–é›†åˆä¸­çš„ä¸ªæ•° 127.0.0.1:6379\u003e ZRANGEBYSCORE salary -inf +inf 1) \"c\" 2) \"a\" 3) \"b\" 127.0.0.1:6379\u003e ZREM salary a (integer) 1 127.0.0.1:6379\u003e ZRANGEBYSCORE salary -inf +inf 1) \"c\" 2) \"b\" 127.0.0.1:6379\u003e zcard salary (integer) 2 ####################################################### # zcount è·å–æŒ‡å®šåŒºé—´çš„ä¸ªæ•° 127.0.0.1:6379\u003e zadd myset 1 hello (integer) 1 127.0.0.1:6379\u003e zadd myset 2 world 3 c (integer) 2 127.0.0.1:6379\u003e ZCOUNT myset 1 3 (integer) 3 ","date":"2021-03-12","objectID":"/redis-study-02/:1:4","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"Hash ####################################################### # hset setä¸€ä¸ªå…·ä½“çš„value # hget getä¸€ä¸ªå…·ä½“çš„value # hmset setå¤šä¸ªå…·ä½“çš„value # hmget getå¤šä¸ªå…·ä½“çš„value # hgetall getæ‰€æœ‰ # hdel åˆ é™¤hashæŒ‡å®škeyå­—æ®µï¼å¯¹åº”çš„valueå€¼ä¹Ÿå°±æ¶ˆå¤±äº† 127.0.0.1:6379\u003e hset myhash field1 c (integer) 1 127.0.0.1:6379\u003e HGET myhash field1 \"c\" 127.0.0.1:6379\u003e HMSET myhash field1 hello field2 world OK 127.0.0.1:6379\u003e HMGET myhash field1 field2 1) \"hello\" 2) \"world\" 127.0.0.1:6379\u003e HGETALL myhash 1) \"field1\" 2) \"hello\" 3) \"field2\" 4) \"world\" 127.0.0.1:6379\u003e HGETALL myhash 1) \"field2\" 2) \"world\" 3) \"field1\" 4) \"hello\" 127.0.0.1:6379\u003e HDEL myhash field1 (integer) 1 127.0.0.1:6379\u003e HGETALL myhash 1) \"field2\" 2) \"world\" ####################################################### # hlen è·å–hashè¡¨çš„å­—ç¬¦å­—æ®µ 127.0.0.1:6379\u003e hgetall myhash 1) \"field2\" 2) \"world\" 127.0.0.1:6379\u003e hlen myhash (integer) 1 ####################################################### # hexists åˆ¤æ–­hashä¸­æŒ‡å®šå­—æ®µæ˜¯å¦å­˜åœ¨ 127.0.0.1:6379\u003e hgetall myhash 1) \"field2\" 2) \"world\" 127.0.0.1:6379\u003e HEXISTS myhash field2 (integer) 1 127.0.0.1:6379\u003e HEXISTS myhash field1 (integer) 0 ####################################################### # hkeys åªè·å¾—æ‰€æœ‰çš„field # hvals åªè·å¾—æ‰€æœ‰çš„value 127.0.0.1:6379\u003e HKEYS myhash 1) \"field2\" 127.0.0.1:6379\u003e HVALS myhash 1) \"world\" ####################################################### # hincrby æ­¥é•¿ è‡ªå¢ 127.0.0.1:6379\u003e hset myhash field3 5 (integer) 1 127.0.0.1:6379\u003e HINCRBY myhash field3 1 (integer) 6 127.0.0.1:6379\u003e HINCRBY myhash field3 -1 (integer) 5 ####################################################### # hsetnx æ²¡æœ‰å…ƒç´ åˆ™åˆ›å»ºï¼Œæœ‰å…ƒç´ å¤±è´¥ 127.0.0.1:6379\u003e HSETNX myhash field4 hello (integer) 1 127.0.0.1:6379\u003e HSETNX myhash field4 hello1 (integer) 0 mapé›†åˆï¼Œ key-mapï¼Œæœ¬è´¨å’Œstringç±»å‹æœ‰å¤ªå¤§åŒºåˆ«ï¼Œè¿˜æ˜¯ä¸€ä¸ªç®€å•çš„key-value ä½¿ç”¨åœºæ™¯ï¼š hashå˜æ›´æ•°æ®ï¼Œhashæ›´é€‚åˆå¯¹è±¡çš„å­˜å‚¨ï¼Œstringæ›´é€‚åˆå­—ç¬¦ä¸²çš„å­˜å‚¨ ","date":"2021-03-12","objectID":"/redis-study-02/:1:5","tags":["redis"],"title":"Redis Study 02","uri":"/redis-study-02/"},{"categories":["å­¦ä¹ "],"content":"rediså­¦ä¹ 01","date":"2021-03-11","objectID":"/redis-study-01/","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"NoSQLçš„å››å¤§åˆ†ç±» ","date":"2021-03-11","objectID":"/redis-study-01/:1:0","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"KVé”®å€¼å¯¹ æ–°æµªï¼šRedis ç¾å›¢ï¼šRedis+Tair é˜¿é‡Œã€ç™¾åº¦ï¼šRedis+Memecache ","date":"2021-03-11","objectID":"/redis-study-01/:1:1","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"æ–‡æ¡£å‹æ•°æ®åº“ MongoDBï¼ˆä¸€èˆ¬å¿…é¡»æŒæ¡ï¼‰ MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼ŒC++ç¼–å†™ï¼Œç”¨æ¥å¤„ç†å¤§é‡æ–‡æ¡£ MongoDBæ˜¯ä¸€ä¸ªä»‹äºå…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¹‹é—´çš„äº§å“ï¼ŒMongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„ï¼Œæœ€åƒå…³ç³»å‹æ•°æ®åº“çš„ ConthDBï¼ˆå›½å¤–ï¼Œä¸éœ€äº†è§£ï¼‰ ","date":"2021-03-11","objectID":"/redis-study-01/:1:2","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"åˆ—å­˜å‚¨æ•°æ®åº“ HBase åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ","date":"2021-03-11","objectID":"/redis-study-01/:1:3","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"å›¾å…³ç³»æ•°æ®åº“ ä¸æ˜¯å­˜æ”¾å›¾å½¢ï¼Œæ˜¯å­˜æ”¾å…³ç³»çš„ Neo4jã€infoGrid ","date":"2021-03-11","objectID":"/redis-study-01/:1:4","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisæ¦‚è¿° ","date":"2021-03-11","objectID":"/redis-study-01/:2:0","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisæ˜¯ä»€ä¹ˆ Redisï¼ˆRemote Dictionary Serverï¼‰è¿œç¨‹å­—å…¸æœåŠ¡ æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨Cè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œï¼Œå¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ï¼ŒKey-Valueçš„æ•°æ®åº“ï¼Œæä¾›å¤šç§è¯­è¨€çš„API redisä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™è¿›ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå®ç°master-slaveï¼ˆä¸»ä»ï¼‰åŒæ­¥ ","date":"2021-03-11","objectID":"/redis-study-01/:2:1","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisèƒ½å¹²å˜› å†…å­˜å­˜å‚¨ï¼ŒæŒä¹…åŒ–ï¼Œå†…å­˜ä¸­æ˜¯æ–­ç‚¹å³å¤±çš„ï¼Œæ‰€ä»¥è¯´æŒä¹…åŒ–å¾ˆé‡è¦ï¼ˆrdbï¼Œaofï¼‰ æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨äºé«˜é€Ÿç¼“å­˜ å‘å¸ƒè®¢é˜…ç³»ç»Ÿ åœ°å›¾ä¿¡æ¯åˆ†æ è®¡æ—¶å™¨ï¼Œè®¡æ•°å™¨ ã€‚ã€‚ã€‚ ","date":"2021-03-11","objectID":"/redis-study-01/:2:2","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisç‰¹æ€§ å¤šæ ·çš„æ•°æ®ç±»å‹ æŒä¹…åŒ– é›†ç¾¤ äº‹åŠ¡ ã€‚ã€‚ã€‚ ","date":"2021-03-11","objectID":"/redis-study-01/:2:3","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"æµ‹è¯•Redisæ€§èƒ½ ","date":"2021-03-11","objectID":"/redis-study-01/:3:0","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨benchmarkæ€§èƒ½æµ‹è¯• ä½¿ç”¨Redis-benchmarkæ€§èƒ½æµ‹è¯• ","date":"2021-03-11","objectID":"/redis-study-01/:3:1","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"RedisåŸºç¡€çŸ¥è¯† ","date":"2021-03-11","objectID":"/redis-study-01/:4:0","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"RedisåŸºæœ¬æ“ä½œå‘½ä»¤ Redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ é»˜è®¤ä½¿ç”¨ç¬¬0ä¸ªæ•°æ®åº“ select indexï¼Œåˆ‡æ¢æ•°æ®åº“ DBSIZEï¼ŒæŸ¥çœ‹å½“å‰æ•°æ®åº“å¤§å° keys *ï¼ŒæŸ¥çœ‹å½“å‰æ•°æ®åº“æ‰€æœ‰çš„key flushdbï¼Œæ¸…é™¤å½“å‰æ•°æ®åº“ flushallï¼Œæ¸…é™¤æ‰€æœ‰æ•°æ®åº“ set name ccï¼Œset key exists nameï¼Œåˆ¤æ–­å½“å‰çš„keyæ˜¯å¦å­˜åœ¨ move nameï¼Œç§»é™¤å½“å‰çš„key expire name 10ï¼Œè®¾ç½®keyçš„è¿‡æœŸæ—¶é—´å•ä½ç§’ ttl nameï¼ŒæŸ¥çœ‹keyçš„å‰©ä½™æ—¶é—´ get nameï¼Œè·å¾—key type nameï¼ŒæŸ¥çœ‹keyçš„ç±»å‹ ","date":"2021-03-11","objectID":"/redis-study-01/:4:1","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisæ˜¯å•çº¿ç¨‹çš„ Redisæ˜¯å¾ˆå¿«çš„ã€‚å®˜æ–¹è¡¨ç¤ºRedisæ˜¯åŸºäºå†…å­˜æ“ä½œçš„ï¼ŒCPUå¹¶ä¸æ˜¯Redisçš„ç“¶é¢ˆRedisæ˜¯æ ¹æ®æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ï¼Œå¯ä»¥ä½¿ç”¨å•çº¿ç¨‹å°±ä½¿ç”¨å•çº¿ç¨‹ã€‚ ","date":"2021-03-11","objectID":"/redis-study-01/:4:2","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿« è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ æ ¸å¿ƒï¼ŒRedisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ã€‚å¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šè€—æ—¶æ“ä½œï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ã€‚å¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šï¼Œåœ¨å†…å­˜æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå°±æ˜¯æœ€ä¼˜çš„æ–¹æ¡ˆã€‚ ","date":"2021-03-11","objectID":"/redis-study-01/:4:3","tags":["redis"],"title":"Redis Study 01","uri":"/redis-study-01/"},{"categories":["å­¦ä¹ "],"content":"redisé¢è¯•01","date":"2021-03-11","objectID":"/redis-interview-01/","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"æ¦‚è¿° ","date":"2021-03-11","objectID":"/redis-interview-01/:1:0","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯Redis Redisæ˜¯ä¸€ä¸ªä½¿ç”¨Cè¯­è¨€ç¼–å†™çš„ï¼Œå¼€æºçš„ï¼ˆBSDè®¸å¯ï¼‰é«˜æ€§èƒ½éå…³ç³»å‹ï¼ˆNoSQLï¼‰çš„é”®å€¼å¯¹æ•°æ®åº“ã€‚ Rediså¯ä»¥å­˜å‚¨é”®å’Œäº”ç§ä¸åŒç±»å‹çš„å€¼ä¹‹é—´çš„æ˜ å°„ã€‚é”®çš„ç±»å‹åªèƒ½ä¸ºå­—ç¬¦ä¸²ï¼Œå€¼æ”¯æŒ5ç§æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼Œåˆ—è¡¨ï¼Œé›†åˆï¼Œæ•£åˆ—è¡¨ï¼Œæœ‰åºé›†åˆã€‚ ä¸ä¼ ç»Ÿæ•°æ®åº“ä¸åŒçš„æ˜¯Redisçš„æ•°æ®æ˜¯å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œå› æ­¤Redisè¢«å¹¿æ³›å¼•ç”¨ä¸ç¼“å­˜æ–¹å‘ï¼Œæ¯ç§’å¯ä»¥å¤„ç†11ä¸‡å†™æ“ä½œï¼Œ8ä¸‡è¯»æ“ä½œï¼Œæ˜¯å·²çŸ¥æ€§èƒ½æœ€å¿«çš„Key-Value DBã€‚å¦å¤–ï¼ŒRedisä¹Ÿç»å¸¸ç”¨æ¥åšåˆ†å¸ƒå¼é”ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒRedisæ”¯æŒäº‹åŠ¡ã€æŒä¹…åŒ–ã€LUAè„šæœ¬ã€LRUé©±åŠ¨äº‹ä»¶ã€å¤šç§é›†ç¾¤æ–¹æ¡ˆã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:1:1","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"Redisæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ è¯»å†™æ€§èƒ½ä¼˜å¼‚ï¼ŒRedisèƒ½å†™çš„é€Ÿåº¦æ˜¯11wæ¬¡/ç§’ï¼Œå†™çš„é€Ÿåº¦æ˜¯8wæ¬¡/ç§’ æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œæ”¯æŒRDBå’ŒAOFä¸¤ç§æŒä¹…åŒ–æ–¹å¼ æ”¯æŒäº‹åŠ¡ï¼ŒRedisçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼ŒåŒæ—¶Redisè¿˜æ”¯æŒå¯¹å‡ ä¸ªæ“ä½œåˆå¹¶åçš„åŸå­æ€§æ“ä½œ æ•°æ®ç»“æ„ä¸°å¯Œï¼Œé™¤äº†æ”¯æŒStringç±»å‹çš„Valueå¤–è¿˜æ”¯æŒhashã€setã€zsetã€listç­‰æ•°æ®ç»“æ„ æ”¯æŒä¸»ä»å¤åˆ¶ï¼Œä¸»æœºä¼šè‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œå¯ä»¥è¿›è¡Œè¯»å†™åˆ†ç¦» ç¼ºç‚¹ æ•°æ®åº“å®¹é‡å®¹æ˜“å—åˆ°ç‰©ç†å†…å­˜é™åˆ¶ï¼Œä¸èƒ½ä½œä¸ºæµ·é‡æ•°æ®çš„é«˜æ€§èƒ½è¯»å†™ï¼Œå› æ­¤Redisé€‚åˆçš„åœºæ™¯ä¸»è¦å±€é™åœ¨è¾ƒå°æ•°æ®é‡çš„é«˜æ€§èƒ½æ“ä½œå’Œè¿ç®—ä¸Šã€‚ Redisä¸å…·å¤‡è‡ªåŠ¨å®¹é”™å’Œå›å¤åŠŸèƒ½ï¼Œä¸»æœºä»æœºå®•æœºéƒ½ä¼šå¯¼è‡´å‰ç«¯éƒ¨åˆ†è¯»å†™è¯·æ±‚å¤±è´¥ï¼Œéœ€è¦ç­‰å¾…æœºå™¨é‡å¯æˆ–æ‰‹åŠ¨åˆ‡æ¢å‰ç«¯çš„IPæ‰èƒ½å›å¤ ä¸»æœºå®•æœºï¼Œå®•æœºå‰æœ‰éƒ¨åˆ†æ•°æ®æœªåŠæ—¶åŒæ­¥åˆ°ä»æœºï¼Œåˆ‡æ¢IPåè¿˜ä¼šå¼•å…¥æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œé™ä½äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚ Redisè¾ƒéš¾æ”¯æŒåœ¨çº¿æ‰©å®¹ï¼Œåœ¨é›†ç¾¤å®¹é‡åˆ°è¾¾ä¸Šé™æ—¶åœ¨çº¿æ‰©å®¹ä¼šå˜å¾—å¾ˆå¤æ‚ï¼Œä¸ºé¿å…è¿™ä¸€é—®é¢˜ï¼Œè¿ç»´äººå‘˜åœ¨ç³»ç»Ÿä¸Šçº¿æ—¶å¿…é¡»ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™å¯¹èµ„æºé€ æˆäº†å¾ˆå¤§çš„æµªè´¹ ","date":"2021-03-11","objectID":"/redis-interview-01/:1:2","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆè¦ç”¨Redis é«˜æ€§èƒ½ï¼š å‡å¦‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æ•°æ®åº“ä¸­çš„æŸäº›æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šæ¯”è¾ƒæ…¢ï¼Œå› ä¸ºæ˜¯ä»ç¡¬ç›˜ä¸Šè¯»å–çš„ã€‚å°†ç”¨æˆ·è®¿é—®çš„æ•°æ®ç¼“å­˜åœ¨ç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡å†è®¿é—®è¿™äº›æ•°æ®ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚æ“ä½œç¼“å­˜å°±æ˜¯ç›´æ¥æ“ä½œå†…å­˜ï¼Œæ‰€ä»¥é€Ÿåº¦ç›¸å½“å¿«ï¼Œå¦‚æœæ•°æ®åº“ä¸­çš„å¯¹åº”æ•°æ®æ”¹å˜çš„ä¹‹åï¼ŒåŒæ­¥æ”¹å˜ç¼“å­˜ä¸­çš„å¯¹åº”æ•°æ®å³å¯ã€‚ é«˜å¹¶å‘ï¼š ç›´æ¥æ“ä½œç¼“å­˜èƒ½å¤Ÿæ‰¿å—çš„è¯·æ±‚æ˜¯è¿œè¿œå¤§äºç›´æ¥è®¿é—®æ•°æ®åº“çš„ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘æŠŠæ•°æ®åº“ä¸­çš„éƒ¨åˆ†æ•°æ®è½¬ç§»åˆ°ç¼“å­˜ä¸­å»ï¼Œè¿™æ ·ç”¨æˆ·çš„ä¸€éƒ¨åˆ†è¯·æ±‚ä¼šç›´æ¥åˆ°ç¼“å­˜è¿™é‡Œè€Œä¸ç”¨ç»è¿‡æ•°æ®åº“ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:1:3","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆè¦ç”¨Redisè€Œä¸ç”¨map/guavaåšç¼“å­˜ ç¼“å­˜åˆ†ä¸ºæœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜ã€‚ä»¥Javaä¸ºä¾‹ï¼Œä½¿ç”¨è‡ªå¸¦çš„mapæˆ–guavaå®ç°çš„æ˜¯æœ¬åœ°ç¼“å­˜ï¼Œæœ€ä¸»è¦çš„ç‰¹ç‚¹æ˜¯è½»é‡ä»¥åŠå¿«é€Ÿï¼Œç”Ÿå‘½å‘¨æœŸéšç€jvmçš„é”€æ¯è€Œç»“æŸï¼Œå¹¶ä¸”åœ¨å¤šå®ä¾‹çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªå®ä¾‹éœ€è¦å„è‡ªä¿å­˜ä¸€ä»½ç¼“å­˜ï¼Œç¼“å­˜ä¸å…·å¤‡ä¸€è‡´æ€§ã€‚ ä½¿ç”¨Redisæˆ–Memcacheä¹‹ç±»çš„ç§°ä¸ºåˆ†å¸ƒå¼ç¼“å­˜ï¼Œåœ¨å¤šå®ä¾‹çš„æƒ…å†µä¸‹ï¼Œå„å®ä¾‹å…±ç”¨ä¸€ä»½ç¼“å­˜æ•°æ®ï¼Œç¼“å­˜å…·æœ‰ä¸€è‡´æ€§ã€‚ç¡®å®šéœ€è¦ä¿æŒredisæˆ–memcacheæœåŠ¡çš„é«˜å¯ç”¨ï¼Œæ•´ä¸ªç¨‹åºæ¶æ„ä¸Šè¾ƒä¸ºå¤æ‚ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:1:4","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿« å®Œå…¨åŸºäºå†…å­˜ï¼Œç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼Œéå¸¸å¿«é€Ÿã€‚æ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äºHashMapï¼ŒHashMapçš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚ æ•°æ®ç»“æ„ç®€å•ï¼Œå¯¹æ•°æ®æ“ä½œä¹Ÿç®€å•ï¼ŒRedisä¸­çš„æ•°æ®ç»“æ„æ˜¯ä¸“é—¨è¿›è¡Œè®¾è®¡çš„ã€‚ é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œä¹Ÿä¸å­˜åœ¨å¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹å¯¼è‡´çš„åˆ‡æ¢è€Œæ¶ˆè€—CPUï¼Œä¸ç”¨å»è€ƒè™‘å„ç§é”çš„é—®é¢˜ï¼Œä¸å­˜åœ¨åŠ é”é‡Šæ”¾é”æ“ä½œï¼Œæ²¡æœ‰å› ä¸ºå¯èƒ½å‡ºç°æ­»é”è€Œå¯¼è‡´çš„æ€§èƒ½æ¶ˆè€—ã€‚ ä½¿ç”¨å¤šè·¯I/Oå¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IOã€‚ ä½¿ç”¨åº•å±‚æ¨¡å‹ä¸åŒï¼Œä»–ä»¬ä¹‹é—´åº•å±‚çš„å®ç°æ–¹å¼ä»¥åŠä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„åº”ç”¨åè®®ä¸ä¸€æ ·ï¼ŒRedisç›´æ¥è‡ªå·±æ„å»ºäº†VMæœºåˆ¶ï¼Œå› ä¸ºä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„è¯ï¼Œä¼šæµªè´¹ä¸€å®šæ—¶é—´å»ç§»åŠ¨å’Œè¯·æ±‚ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:1:5","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"æ•°æ®ç±»å‹ ","date":"2021-03-11","objectID":"/redis-interview-01/:2:0","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"Redisæœ‰å“ªäº›æ•°æ®ç±»å‹ Redisä¸»è¦æœ‰5ç§æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬Stringï¼ŒListï¼ŒSetï¼ŒZsetï¼ŒHashï¼Œæ»¡è¶³å¤§éƒ¨åˆ†çš„ä½¿ç”¨è¦æ±‚ æ•°æ®ç±»å‹ å¯ä»¥å­˜å‚¨çš„å€¼ æ“ä½œ åº”ç”¨åœºæ™¯ String å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–æµ®ç‚¹å‹ å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²çš„å…¶ä¸­ä¸€éƒ¨åˆ†æ‰§è¡Œæ“ä½œã€‚å¯¹æ•´æ•°å’Œæµ®ç‚¹æ•°æ‰§è¡Œè‡ªå¢æˆ–è‡ªå‡æ“ä½œ åšç®€å•çš„é”®å€¼å¯¹ç¼“å­˜ List åˆ—è¡¨ ä»ä¸¤ç«¯å‹å…¥æˆ–å¼¹å‡ºå…ƒç´ ï¼Œå¯¹å•ä¸ªæˆ–å¤šä¸ªå…ƒç´ è¿›è¡Œä¿®å‰ªï¼Œåªä¿ç•™ä¸€ä¸ªèŒƒå›´å†…çš„å…ƒç´  å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ï¼Œæ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„æ•°æ® Set æ— åºé›†åˆ æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ ï¼Œæ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ã€‚è®¡ç®—äº¤é›†ã€å¹¶é›†ã€å·®é›†ä»é›†åˆé‡Œé¢éšæœºè·å–å…ƒç´  äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†ï¼Œå¯ä»¥æŠŠä¸¤ä¸ªäººçš„ç²‰ä¸è¡¨æ•´æˆä¸€ä¸ªäº¤é›† Hash åŒ…å«é”®å€¼å¯¹çš„æ— åºæ•£åˆ—è¡¨ æ·»åŠ ã€è·å–ã€åˆ é™¤å•ä¸ªé”®å€¼å¯¹ï¼Œè·å–æ‰€æœ‰é”®å€¼å¯¹ï¼Œæ£€æŸ¥æŸä¸ªé”®æ˜¯å¦å­˜åœ¨ ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ Zset æœ‰åºé›†åˆ æ·»åŠ ã€è·å–ã€åˆ é™¤å…ƒç´ ã€‚æ ¹æ®åˆ†å€¼èŒƒå›´æˆ–è€…æˆå‘˜æ¥è·å–å…ƒç´ ã€‚è®¡ç®—ä¸€ä¸ªé”®çš„æ’å å»é‡ä½†å¯ä»¥æ’åºï¼Œå¦‚è·å–æ’åå‰å‡ åçš„ç”¨æˆ· ","date":"2021-03-11","objectID":"/redis-interview-01/:2:1","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"Redisçš„åº”ç”¨åœºæ™¯ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:0","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"è®¡æ•°å™¨ å¯ä»¥å¯¹stringè¿›è¡Œè‡ªå¢æˆ–è‡ªå‡è¿ç®—ï¼Œä»è€Œå®ç°è®¡æ•°å™¨åŠŸèƒ½ã€‚Redisè¿™ç§å†…å­˜å‹æ•°æ®åº“çš„è¯»å†™æ€§èƒ½ç‰¹åˆ«é«˜ï¼Œæœ€é€‚åˆå­˜å‚¨é¢‘ç¹è¯»å†™çš„è®¡æ•°é‡ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:1","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ç¼“å­˜ å°†çƒ­ç‚¹æ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼Œè®¾ç½®å†…å­˜çš„æœ€å¤§ä½¿ç”¨ä»¥åŠæ·˜æ±°ç­–ç•¥æ¥ä¿è¯ç¼“å­˜çš„å‘½ä¸­ç‡ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:2","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä¼šè¯ç¼“å­˜ å¯ä»¥ä½¿ç”¨Redisæ¥åŒä¸€å­˜å‚¨å¤šæ€åº”ç”¨æœåŠ¡å™¨çš„ä¼šè¯ä¿¡æ¯ã€‚å½“æœåŠ¡å™¨ä¸åœ¨å­˜å‚¨ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Œä¹Ÿå°±ä¸å†å…·æœ‰çŠ¶æ€ï¼Œä¸€ä¸ªç”¨æˆ·å¯ä»¥è¯·æ±‚ä»»æ„ä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨ï¼Œä»è€Œæ›´å®¹æ˜“å®ç°é«˜å¯ç”¨æ€§ä»¥åŠå¯ä¼¸ç¼©æ€§ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:3","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"å…¨é¡µç¼“å­˜ï¼ˆFPCï¼‰ é™¤åŸºæœ¬çš„ä¼šè¯tokenä¹‹å¤–ï¼ŒRedisè¿˜æä¾›å¾ˆç®€å•çš„FPCå¹³å°ã€‚ä»¥Megentoä¸ºä¾‹ï¼ŒMegentoæä¾›ä¸€ä¸ªæ’ä»¶æ¥ä½¿ç”¨Redisä½œä¸ºå…¨é¡µç¼“å­˜åç«¯ã€‚æ­¤å¤–ï¼Œå¯¹WordPressçš„ç”¨æˆ·æ¥è¯´ï¼ŒPantheonæœ‰ä¸€ä¸ªéå¸¸å¥½çš„æ’ä»¶wp-redisï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥å¸®åŠ©ä»¥æœ€å¿«é€Ÿåº¦åŠ è½½å·²ç»æµè§ˆè¿‡çš„é¡µé¢ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:4","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"æŸ¥æ‰¾è¡¨ ä¾‹å¦‚DNSè®°å½•å°±å¾ˆé€‚åˆç”¨Redisè¿›è¡Œå­˜å‚¨ã€‚æŸ¥æ‰¾è¡¨å’Œç¼“å­˜ç±»ä¼¼ï¼Œä¹Ÿæ˜¯åˆ©ç”¨äº†Rediså¿«é€ŸæŸ¥æ‰¾çš„ç‰¹æ€§ã€‚ä½†æ˜¯æŸ¥æ‰¾è¡¨çš„å†…å®¹ä¸èƒ½å¤±æ•ˆï¼Œè€Œç¼“å­˜å†…å®¹å¯ä»¥å¤±æ•ˆï¼Œå› ä¸ºç¼“å­˜ä¸ä½œä¸ºå¯é çš„æ•°æ®æ¥æº ","date":"2021-03-11","objectID":"/redis-interview-01/:3:5","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå‘å¸ƒ/è®¢é˜…åŠŸèƒ½ï¼‰ Listæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå¯ä»¥é€šè¿‡lpushå’Œrpopå†™å…¥å’Œè¯»å–æ¶ˆæ¯ã€‚ä¸è¿‡æœ€å¥½ä½¿ç”¨kafkaï¼ŒRabbitMQç­‰æ¶ˆæ¯ä¸­é—´ä»¶ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:6","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"åˆ†å¸ƒå¼é”å®ç° åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œæ— æ³•ä½¿ç”¨å•æœºç¯å¢ƒä¸‹çš„é”å¯¹å¤šä¸ªèŠ‚ç‚¹ä¸Šçš„è¿›ç¨‹è¿›è¡ŒåŒæ­¥ã€‚å¯ä»¥ä½¿ç”¨Redisè‡ªå¸¦çš„SETNXå‘½ä»¤å®ç°åˆ†å¸ƒå¼é”ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„RedLockåˆ†å¸ƒå¼é”å®ç° ","date":"2021-03-11","objectID":"/redis-interview-01/:3:7","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"å…¶ä»– Setå¯ä»¥å®ç°äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼Œä»è€Œå®ç°å…±åŒå¥½å‹ç­‰åŠŸèƒ½ã€‚Zsetå¯ä»¥å®ç°æœ‰åºæ€§æ“ä½œï¼Œä»è€Œå®ç°æ’è¡Œæ¦œçš„åŠŸèƒ½ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:3:8","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"æŒä¹…åŒ– ","date":"2021-03-11","objectID":"/redis-interview-01/:4:0","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯RedisæŒä¹…åŒ– æŒä¹…åŒ–å°±æ˜¯æŠŠå†…å­˜çš„æ•°æ®å†™åˆ°ç£ç›˜ï¼Œé˜²æ­¢æœåŠ¡å®•æœºï¼Œå†…å­˜æ•°æ®ä¸¢å¤± ","date":"2021-03-11","objectID":"/redis-interview-01/:4:1","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"Redisçš„æŒä¹…åŒ–æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Ÿ Redisæä¾›ä¸¤ç§æŒä¹…åŒ–æœºåˆ¶RDBï¼ˆé»˜è®¤ï¼‰å’ŒAOFæœºåˆ¶ RDBï¼šæ˜¯Redis DataBaseç¼©å†™å¿«ç…§ RDBæ˜¯Redisé»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼ã€‚æŒ‰ç…§ä¸€å®šæ—¶é—´å°†å†…å­˜çš„æ•°æ®ä»¥å¿«ç…§çš„å½¢å¼ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ï¼Œå¯¹åº”äº§ç”Ÿçš„æ•°æ®æ–‡ä»¶ä¸ºdump.rdbã€‚é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„saveå‚æ•°æ¥å®šä¹‰å¿«ç…§çš„å‘¨æœŸ RDBæœºåˆ¶\u0026ldquo;RDBæœºåˆ¶\u0026rdquo; \"\rRDBæœºåˆ¶\r ä¼˜ç‚¹ï¼š åªæœ‰ä¸€ä¸ªæ–‡ä»¶dump.rdbï¼Œæ–¹ä¾¿æŒä¹…åŒ– å®¹ç¾æ€§å¥½ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥ä¿å­˜åœ¨å®‰å…¨ç£ç›˜ æ€§èƒ½æœ€å¤§åŒ–ï¼Œforkå­è¿›ç¨‹æ¥å®Œæˆå†™æ“ä½œï¼Œè®©ä¸»ç¨‹åºç»§ç»­æ‰§è¡Œå‘½ä»¤ï¼Œæ‰€ä»¥æ˜¯IOæœ€å¤§åŒ–ã€‚ä½¿ç”¨å•ç‹¬å­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¸»è¿›ç¨‹ä¸ä¼šè¿›è¡Œä»»ä½•IOæ“ä½œï¼Œä¿è¯äº†Redisçš„é«˜æ€§èƒ½ ç›¸å¯¹äºæ•°æ®é›†å¤§æ—¶ï¼Œæ¯”AOFçš„å¯åŠ¨æ•ˆç‡æ›´é«˜ ç¼ºç‚¹ æ•°æ®å®‰å…¨æ€§ä½ã€‚RDBæ˜¯é—´éš”ä¸€æ®µæ—¶é—´è¿›è¡ŒæŒä¹…åŒ–ï¼Œå¦‚æœæŒä¹…åŒ–ä¹‹é—´Rediså‘ç”Ÿæ•…éšœï¼Œä¼šå‘ç”Ÿæ•°æ®ä¸¢å¤±ã€‚æ‰€ä»¥è¿™ç§æ–¹å¼æ›´é€‚åˆæ•°æ®è¦æ±‚ä¸ä¸¥è°¨çš„æ—¶å€™ AOFï¼ˆAppend Only Fileï¼‰æŒä¹…åŒ–ï¼šå°†Redisæ‰§è¡Œçš„æ¯æ¬¡å†™å‘½ä»¤è®°å½•åˆ°å•ç‹¬çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå½“é‡å¯Redisä¼šé‡æ–°å°†æŒä¹…åŒ–çš„æ—¥å¿—ä¸­æ–‡ä»¶æ¢å¤æ•°æ®ã€‚ AOFæœºåˆ¶\u0026ldquo;AOFæœºåˆ¶\u0026rdquo; \"\rAOFæœºåˆ¶\r å½“ä¸¤ç§æ–¹å¼åŒæ—¶æ‰“å¼€æ—¶ï¼Œæ•°æ®æ¢å¤Redisä¼šä¼˜å…ˆ ä¼˜ç‚¹ï¼š æ•°æ®å®‰å…¨ï¼ŒaofæŒä¹…åŒ–å¯ä»¥é…ç½®appendfsyncå±æ€§ï¼Œæœ‰alwaysï¼Œæ¯è¿›è¡Œä¸€ä¸ªå‘½ä»¤æ“ä½œå°±è®°å½•åˆ°aofæ–‡ä»¶ä¸­ä¸€æ¬¡ é€šè¿‡appendæ¨¡å¼å†™æ–‡ä»¶ï¼Œå³ä½¿ä¸­é€”é‡åˆ°å®•æœºï¼Œä¹Ÿå¯ä»¥é€šè¿‡redis-check-aofå·¥å…·è§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ AOFæœºåˆ¶çš„rewriteæ¨¡å¼ã€‚AOFæ–‡ä»¶æ²¡è¢«rewriteä¹‹å‰ï¼ˆæ–‡ä»¶è¿‡å¤§ä¼šå¯¹å‘½ä»¤è¿›è¡Œåˆå¹¶æˆ–é‡å†™ï¼‰ï¼Œå¯ä»¥åˆ é™¤å…¶ä¸­çš„æŸäº›å‘½ä»¤ï¼ˆæ¯”å¦‚è¯¯æ“ä½œçš„flushallï¼‰ ç¼ºç‚¹ AOFæ–‡ä»¶æ¯”RDBæ–‡ä»¶å¤§ï¼Œä¸”æ¢å¤é€Ÿåº¦æ…¢ æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œæ¯”rdbå¯åŠ¨æ•ˆç‡ä½ ä¸¤è€…çš„åŒºåˆ« AOFæ–‡ä»¶æ¯”RDBæ›´æ–°é¢‘ç‡é«˜ï¼Œä¼˜å…ˆä½¿ç”¨AOFè¿˜åŸæ•°æ® AOFæ¯”RDBæ›´å®‰å…¨ä¹Ÿæ›´å¤§ RDBæ€§èƒ½æ¯”AOFå¥½ ","date":"2021-03-11","objectID":"/redis-interview-01/:4:2","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"å¦‚ä½•é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–æ–¹å¼ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæƒ³è¾¾åˆ°è¶³ä»¥åª²ç¾PostgreSQLçš„æ•°æ®å®‰å…¨æ€§ï¼Œåº”è¯¥åŒæ—¶ä½¿ç”¨ä¸¤ç§æŒä¹…åŒ–åŠŸèƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRedisé‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥AOFæ–‡ä»¶æ¥æ¢å¤åŸå§‹æ•°æ®ï¼Œå› ä¸ºé€šå¸¸æƒ…å†µä¸‹AOFä¿å­˜çš„æ•°æ®è¦æ¯”RDBæ–‡ä»¶ä¿å­˜çš„æ•°æ®æ›´å®Œæ•´ å¦‚æœéå¸¸å…³å¿ƒæ•°æ®ï¼Œä½†ä»ç„¶å¯ä»¥æ‰¿å—æ•°åˆ†é’Ÿå†…çš„æ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥åªä½¿ç”¨AOFæŒä¹…åŒ– è®¸å¤šç”¨æˆ·åªä½¿ç”¨AOFæŒä¹…åŒ–ï¼Œä½†æ˜¯ä¸æ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºå®šæ—¶ç”ŸæˆRDBå¿«ç…§éå¸¸ä¾¿åˆ©äºè¿›è¡Œæ•°æ®åº“å¤‡ä»½ï¼Œå¹¶ä¸”RDBæ¢å¤æ•°æ®çš„é€Ÿåº¦è¦æ¯”AOFçš„é€Ÿåº¦å¿«å¾—å¤šï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨RDBè¿˜å¯ä»¥é¿å…AOFç¨‹åºçš„bug å¦‚æœåªå¸Œæœ›æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œæ—¶å­˜åœ¨æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–æ–¹å¼ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:4:3","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"RedisæŒä¹…åŒ–æ•°æ®å’Œç¼“å­˜æ€ä¹ˆåšæ‰©å®¹ å¦‚æœRedisè¢«å½“åšç¼“å­˜ä½¿ç”¨ï¼Œä½¿ç”¨ä¸€è‡´æ€§çš„hashå®ç°åŠ¨æ€æ‰©å®¹ç¼©å®¹ å¦‚æœRedisè¢«å½“åšä¸€ä¸ªæŒä¹…åŒ–å­˜å‚¨ä½¿ç”¨ï¼Œå¿…é¡»ä½¿ç”¨å›ºå®šçš„key-to-nodesæ˜ å°„å…³ç³»ï¼ŒèŠ‚ç‚¹æ•°é‡ä¸€æ—¦ç¡®å®šä¸èƒ½å˜åŒ–ã€‚å¦åˆ™çš„è¯(å³RedisèŠ‚ç‚¹éœ€è¦åŠ¨æ€å˜åŒ–çš„æƒ…å†µï¼‰ï¼Œå¿…é¡»ä½¿ç”¨å¯ä»¥åœ¨è¿è¡Œæ—¶è¿›è¡Œæ•°æ®å†å¹³è¡¡çš„ä¸€å¥—ç³»ç»Ÿï¼Œè€Œå½“å‰åªæœ‰Redisé›†ç¾¤å¯ä»¥åšåˆ°è¿™æ ·ã€‚ ","date":"2021-03-11","objectID":"/redis-interview-01/:4:4","tags":["redis"],"title":"Redis Interview 01","uri":"/redis-interview-01/"},{"categories":["å­¦ä¹ "],"content":"mysqlé¢è¯•05","date":"2021-03-11","objectID":"/mysql-interview-05/","tags":["mysql"],"title":"Mysql Interview 05","uri":"/mysql-interview-05/"},{"categories":["å­¦ä¹ "],"content":"mysqlé¢è¯•04","date":"2021-03-10","objectID":"/mysql-interview-04/","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"MySQLé” ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:0","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"MVCCæ€»ç»“ MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰æŒ‡çš„å°±æ˜¯åœ¨ä½¿ç”¨READ COMMITTEDï¼ŒREPEATABLE READè¿™ä¸¤ç§éš”ç¦»çº§åˆ«çš„äº‹åŠ¡åœ¨æ‰§è¡Œæ™®é€šçš„selectæ“ä½œæ—¶è®¿é—®è®°å½•çš„ç‰ˆæœ¬é“¾çš„è¿‡ç¨‹ã€‚å¯ä»¥ä½¿ä¸åŒäº‹åŠ¡çš„è¯»-å†™ï¼Œå†™-è¯»æ“ä½œå¹¶å‘æ‰§è¡Œï¼Œä»è€Œæå‡ç³»ç»Ÿæ€§èƒ½ã€‚READ COMMITTEDã€REPEATABLE READè¿™ä¸¤ä¸ªéš”ç¦»çº§åˆ«ä¸€ä¸ªå¾ˆå¤§çš„ä¸åŒå°±æ˜¯ï¼šç”ŸæˆReadViewçš„æ—¶æœºä¸åŒï¼ŒREAD COMMITTEDæ˜¯æ¯ä¸€æ¬¡è¿›è¡Œæ™®é€šSELECTæ“ä½œå‰éƒ½ä¼šç”Ÿæˆä¸€æ¬¡ReadViewã€‚è€ŒREPEATABLE READåªä¼šåœ¨ç¬¬ä¸€æ¬¡è¿›è¡Œæ™®é€šSELECTçš„æ—¶å€™å¶ç”ŸæˆReadViewã€‚ä¹‹åçš„æŸ¥è¯¢é‡å¤ä½¿ç”¨è¿™ä¸ªReadViewã€‚ ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:1","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"MySQLé”çš„ä»‹ç» æŒ‰ç…§é”çš„ç²’åº¦æ¥è¯´ï¼ŒMySQLä¸»è¦åŒ…å«ä¸‰ç§é”ï¼šå…¨å±€é”ï¼Œè¡¨çº§é”ï¼Œè¡Œçº§é” å…¨å±€é”ï¼Œé”çš„æ˜¯æ•´ä¸ªdatabaseï¼Œç”±MySQLçš„Sql layerå±‚å®ç° è¡¨çº§é”ï¼Œé”çš„æ˜¯æ•´å¼ è¡¨ï¼Œç”±MySQLçš„Sql layerå±‚å®ç° è¡Œçº§é”ï¼Œé”çš„æ˜¯æŸè¡Œæ•°æ®ï¼Œä¹Ÿå¯èƒ½é”çš„æ˜¯è¡Œä¹‹é—´çš„é—´éš™ï¼Œç”±å­˜å‚¨å¼•æ“å®ç° æŒ‰ç…§é”çš„åŠŸèƒ½æ¥åˆ†ï¼Œå¯ä»¥åˆ†ä¸ºå…±äº«é”å’Œæ’ä»–é” å…±äº«é”ï¼šä¹Ÿç§°Sé”ï¼ŒåŠ äº†Sé”ï¼Œå…è®¸å…¶ä»–äº‹åŠ¡å†åŠ Sé”ï¼Œä½†æ˜¯ä¸å…è®¸å…¶ä»–äº‹åŠ¡åŠ Xé”ã€‚åŠ é”æ–¹å¼select â€¦ lock in share mode æ’ä»–é”ï¼šä¹Ÿç§°Xé”ï¼ŒåŠ äº†Xé”ï¼Œä¸å…è®¸å…¶ä»–äº‹åŠ¡å†åŠ Xé”æˆ–Sé”ã€‚åŠ é”æ–¹å¼ï¼šselect â€¦ for update(delete|insert) ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:2","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"ä¸åŒç²’åº¦é”çš„æ¯”è¾ƒ è¡¨çº§é”ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ã€‚ä¸ä¼šå‡ºç°æ­»é”ï¼Œé”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½ã€‚ è¿™äº›å­˜å‚¨å¼•æ“é€šè¿‡æ€»æ˜¯ä¸€æ¬¡æ€§åŒæ—¶è·å–æ‰€æœ‰éœ€è¦é”ä»¥åŠæ€»æ˜¯æŒ‰ç›¸åŒé¡ºåºè·å–è¡¨é”é¿å…æ­»é” è¡¨çº§é”ä¸»è¦é€‚åˆä»¥æŸ¥è¯¢ä¸ºä¸»ï¼Œå¹¶å‘æ•°é‡å°‘ï¼Œåªæœ‰å°‘é‡æŒ‰ç´¢å¼•æ¡ä»¶æ›´æ–°æ•°æ®çš„åº”ç”¨ï¼Œå¦‚WEBåº”ç”¨ è¡Œçº§é”ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ã€‚ä¼šå‡ºç°æ­»é”ï¼Œé”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦ä¹Ÿæœ€é«˜ æœ€å¤§ç¨‹åº¦æ”¯æŒå¹¶å‘ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥äº†æœ€å¤§çš„é”å¼€é”€ åœ¨InnoDBä¸­ï¼Œé™¤å•ä¸ªSQLç»„æˆçš„äº‹åŠ¡å¤–ï¼Œé”æ˜¯é€æ­¥è·å–çš„ï¼Œè¿™å°±å†³å®šäº†åœ¨InnoDBå‘ç”Ÿæ­»é”æ˜¯å¯èƒ½çš„ è¡Œçº§é”åªæ˜¯åœ¨å­˜å‚¨å¼•æ“å±‚å®ç°ï¼Œè€ŒMySQLæœåŠ¡å±‚æ²¡æœ‰å®ç°ã€‚è¡Œçº§é”æ›´é€‚åˆäºæœ‰å¤§é‡æŒ‰ç´¢å¼•æ¡ä»¶å¹¶å‘æ›´æ–°å°‘é‡ä¸åŒæ•°æ®ï¼ŒåŒæ—¶åˆæœ‰å¹¶å‘æŸ¥è¯¢çš„åº”ç”¨ï¼Œå¦‚ä¸€äº›åœ¨çº¿äº‹åŠ¡å¤„ç†ç³»ç»Ÿ ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:3","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"InnoDBé”æ¨¡å¼ InnoDBå®ç°äº†ä»¥ä¸‹ä¸¤ç§é” å…±äº«é”ï¼ˆSï¼‰ï¼šå…è®¸ä¸€ä¸ªäº‹åŠ¡å»è¯»è¡Œï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å¾—ç›¸åŒæ•°æ®é›†çš„æ’ä»–é” æ’ä»–é”ï¼ˆXï¼‰ï¼šå…è®¸è·å¾—æ’ä»–é”çš„äº‹åŠ¡æ›´æ–°æ•°æ®ï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å¾—ç›¸åŒæ•°æ®é›†çš„å…±äº«é”å’Œæ’ä»–é” ä¸ºäº†å…è®¸è¡Œé”å’Œè¡¨é”å…±å­˜ï¼Œå®ç°å¤šç²’åº¦é”æœºåˆ¶ï¼ŒInnoDBè¿˜æœ‰ä¸¤ç§å†…éƒ¨ä½¿ç”¨çš„æ„å‘é”ï¼Œè¿™ä¸¤ç§é”éƒ½æ˜¯è¡¨é” æ„å‘å…±äº«é”ï¼ˆISï¼‰ï¼šäº‹åŠ¡æ‰“ç®—ä¸ªæ•°æ®è¡ŒåŠ è¡Œå…±äº«é”ï¼Œäº‹åŠ¡åœ¨ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ å…±äº«é”å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„ISé” æ„å‘æ’ä»–é”ï¼ˆIXï¼‰ï¼šäº‹åŠ¡æ‰“ç®—ç»™æ•°æ®è¡ŒåŠ è¡Œæ’ä»–é”ï¼Œäº‹åŠ¡åœ¨ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ æ’ä»–é”å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„IXé” é”ä¸é”ä¹‹é—´å¦‚æœç›¸å®¹ï¼ŒMySQLä¼šç»™äºˆé”ï¼Œä¸ç›¸å®¹åˆ™ä¼šé˜»å¡ã€‚ ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:4","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"InnoDBåŠ é”æ–¹å¼ æ„å‘é”æ˜¯InnoDBè‡ªåŠ¨åŠ çš„ï¼Œä¸éœ€ç”¨æˆ·å¹²é¢„ å¯¹äºUPDATEã€DELETEå’ŒINSERTè¯­å¥ï¼ŒInnoDBä¼šè‡ªåŠ¨ç»™æ¶‰åŠæ•°æ®é›†åŠ å…±äº«é”æˆ–æ’ä»–é” å¯¹äºæ™®é€šSELECTè¯­å¥ï¼ŒInnoDBä¸ä¼šåŠ ä»»ä½•é”ï¼›äº‹åŠ¡å¯ä»¥é€šè¿‡ä»¥ä¸‹è¯­å¥æ˜¾å¼ç»™è®°å½•é›†åŠ å…±äº«é”æˆ–æ’ä»–é”ï¼š å…±äº«é”ï¼ˆSï¼‰ï¼šSELECT * FROM table_name WHERE â€¦ LOCK IN SHARE MODEã€‚å…¶ä»–sessionä»ç„¶å¯ä»¥æŸ¥è¯¢è®°å½•ï¼Œå¹¶ä¹Ÿå¯ä»¥å¯¹è¯¥è®°å½•åŠ SHARE MODEçš„å…±äº«é”ã€‚ä½†å¦‚æœå½“å‰äº‹åŠ¡éœ€è¦å¯¹è¯¥è®°å½•è¿›è¡Œæ›´æ–°æ“ä½œï¼Œåˆ™å¾ˆæœ‰å¯èƒ½é€ æˆæ­»é”ã€‚ æ’ä»–é”ï¼ˆXï¼‰ï¼šSELECT * FROM table_name WHERE â€¦ FOR UPDATEã€‚å…¶ä»–sessionå¯ä»¥æŸ¥è¯¢è¯¥è®°å½•ã€‚ä½†æ˜¯ä¸èƒ½å¯¹è¯¥è®°å½•åŠ å…±äº«é”æˆ–æ’ä»–é”ï¼Œè€Œæ˜¯ç­‰å¾…è·å¾—é”ã€‚ éšå¼é”å®š InnoDBåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸¤é˜¶æ®µé”åè®®ï¼š éšæ—¶éƒ½å¯ä»¥æ‰§è¡Œé”å®šï¼ŒInnoDBä¼šæ ¹æ®éš”ç¦»çº§åˆ«åœ¨éœ€è¦çš„æ—¶å€™è‡ªè¡ŒåŠ é”ï¼› é”åªæœ‰åœ¨æ‰§è¡Œcommitæˆ–rollbackçš„æ—¶å€™æ‰ä¼šé‡Šæ”¾ï¼Œå¹¶ä¸”æ‰€æœ‰çš„é”éƒ½æ˜¯åœ¨åŒä¸€æ—¶åˆ»è¢«é‡Šæ”¾ã€‚ æ˜¾ç¤ºé”å®š select â€¦ lock in share mode //å…±äº«é” in share modeå­å¥åœ¨ä½œç”¨å°±æ˜¯å°†æŸ¥æ‰¾åˆ°çš„æ•°æ®åŠ ä¸Šä¸€ä¸ªshareé”ï¼Œè¿™ä¸ªå°±æ˜¯è¡¨ç¤ºå…¶ä»–çš„äº‹åŠ¡åªèƒ½è¿›è¡Œç®€å•çš„selectæ“ä½œï¼Œå¹¶ä¸èƒ½å¤Ÿè¿›è¡ŒDMLæ“ä½œã€‚ select â€¦ lock in share modeä½¿ç”¨åœºæ™¯ï¼šä¸ºäº†ç¡®ä¿è‡ªå·±æŸ¥åˆ°çš„æ•°æ®æ²¡æœ‰è¢«å…¶ä»–äº‹åŠ¡æ­£åœ¨ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿æŸ¥åˆ°çš„æ•°æ®æ˜¯æœ€æ–°çš„æ•°æ®ï¼Œå¹¶ä¸”ä¸å…è®¸å…¶ä»–äº‹åŠ¡æ¥ä¿®æ”¹æ•°æ®ã€‚ä½†æ˜¯è‡ªå·±ä¸ä¸€å®šèƒ½ä¿®æ”¹æ•°æ®ï¼Œå› ä¸ºæœ‰å¯èƒ½å…¶ä»–äº‹åŠ¡ä¹Ÿå¯¹è¿™äº›æ•°æ®ä½¿ç”¨äº†in share modeçš„æ–¹å¼ä¸Šäº†Sé” select â€¦ for update //æ’ä»–é” åœ¨æ‰§è¡Œè¿™ä¸ªselectæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼šå°†ç›¸åº”çš„ç´¢å¼•è®¿é—®æ¡ç›®è¿›è¡Œä¸Šæ’ä»–é”ï¼ˆXé”ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯­å¥å¯¹åº”çš„é”å°±ç›¸å½“äºupdateå¸¦æ¥çš„æ•ˆæœ select â€¦ for update çš„ä½¿ç”¨åœºæ™¯ï¼šä¸ºäº†è®©è‡ªå·±æŸ¥åˆ°çš„æ•°æ®ç¡®ä¿æ˜¯æœ€æ–°çš„æ•°æ®ï¼Œå¹¶ä¸”æŸ¥åˆ°åçš„æ•°æ®åªå…è®¸è‡ªå·±æ¥ä¿®æ”¹çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°for updateå­å¥ æ€§èƒ½å½±å“ select â€¦ for updateè¯­å¥ï¼Œç›¸å½“äºä¸€ä¸ªUPDATEè¯­å¥ã€‚åœ¨ä¸šåŠ¡ç¹å¿™çš„æƒ…å†µä¸‹ï¼Œå¦‚æœäº‹åŠ¡æ²¡æœ‰åŠæ—¶çš„commitæˆ–rollbackå¯èƒ½ä¼šé€ æˆå…¶ä»–äº‹åŠ¡é•¿æ—¶é—´çš„ç­‰å¾…ï¼Œä»è€Œå½±å“æ•°æ®åº“çš„å¹¶å‘ä½¿ç”¨æ•ˆç‡ã€‚ select â€¦ lock in share modeè¯­å¥æ˜¯ç»™ä¸€ä¸ªæŸ¥æ‰¾è¯­å¥ä¸Šä¸€ä¸ªå…±äº«é”ï¼ˆSï¼‰çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸å…¶ä»–äº‹åŠ¡ä¹Ÿå¯¹è¯¥äº‹åŠ¡ä¸ŠSé”ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿå…è®¸å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœä¸åŠæ—¶çš„commitæˆ–rollbackä¹Ÿå¯èƒ½é€ æˆå¤§é‡çš„äº‹åŠ¡ç­‰å¾…ã€‚ InnoDBè¡Œé”å®ç°æ–¹å¼ InnoDBè¡Œé”æ˜¯é€šè¿‡ç»™ç´¢å¼•ä¸Šçš„ç´¢å¼•é¡¹åŠ é”æ¥å®ç°çš„ï¼Œè¿™ä¸€ç‚¹MySQLå’ŒOracleå®Œå…¨ä¸åŒï¼Œåè€…æ˜¯é€šè¿‡åœ¨æ•°æ®å—ä¸­å¯¹ç›¸åº”æ•°æ®è¡ŒåŠ é”æ¥å®ç°çš„ã€‚InnoDBè¿™ç§è¡Œé”å®ç°ç‰¹ç‚¹æ„å‘³ç€ï¼šåªç”¨é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®ï¼ŒInnoDBæ‰ä½¿ç”¨è¡Œé”ï¼Œå¦åˆ™InnoDBå°†ä½¿ç”¨è¡¨é”ã€‚ ä¸è®ºæ˜¯ä¸»é”®ç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•ï¼ŒInnoDBéƒ½ä¼šä½¿ç”¨è¡Œé”æ¥å¯¹æ•°æ®åŠ é” åªæœ‰åœ¨æ‰§è¡Œè®¡åˆ’ä¸­çœŸæ­£ä½¿ç”¨äº†ç´¢å¼•ï¼Œæ‰èƒ½ä½¿ç”¨è¡Œé”ï¼šå³ä½¿åœ¨æ¡ä»¶ä¸­ä½¿ç”¨äº†ç´¢å¼•å­—æ®µï¼Œä½†æ˜¯å¦ä½¿ç”¨ç´¢å¼•æ¥æ£€ç´¢æ•°æ®æ˜¯æœ‰MySQLé€šè¿‡åˆ¤æ–­ä¸åŒæ‰§è¡Œè®¡åˆ’çš„ä»£ä»·æ¥å†³å®šçš„ï¼Œå¦‚æœMySQLè®¤ä¸ºå…¨è¡¨æ‰«ææ•ˆç‡æ›´é«˜ï¼Œæ¯”å¦‚å¯¹ä¸€äº›å¾ˆå°çš„è¡¨ï¼ŒMySQLå°±ä¸ä¼šä½¿ç”¨ç´¢å¼•ï¼Œè¿™ç§æƒ…å†µä¸‹InnoDBå°†ä½¿ç”¨è¡¨é”ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è¡Œé”ã€‚å› æ­¤åœ¨åˆ†æé”å†²çªçš„æ—¶å€™å¯ä»¥æ£€æŸ¥SQLçš„æ‰§è¡Œè®¡åˆ’ï¼ˆå¯ä»¥é€šè¿‡explainæ£€æŸ¥SQLçš„æ‰§è¡Œè®¡åˆ’ï¼‰ï¼Œå·²ç¡®è®¤æ˜¯å¦çœŸæ­£ä½¿ç”¨äº†ç´¢å¼•ã€‚ ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:5","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"ä¹è§‚é”å’Œæ‚²è§‚é” æ‚²è§‚é”æ˜¯æŒ‡åœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­æ˜¯æ•°æ®å¤„äºé”å®šçŠ¶æ€ã€‚åœ¨MySQLä¸­ä½¿ç”¨æ‚²è§‚é”ï¼Œå¿…é¡»å…³é—­MySQLè‡ªåŠ¨æäº¤ï¼Œset autocommit = 0ï¼ŒMySQLé»˜è®¤ä½¿ç”¨è‡ªåŠ¨æäº¤æ¨¡å¼ï¼Œå³ä½¿ä½ æ‰§è¡Œä¸€ä¸ªæ›´æ–°æ“ä½œï¼ŒMySQLä¼šè‡ªåŠ¨å°†ç»“æœæäº¤ã€‚ select â€¦ for update æ˜¯MySQLæä¾›å®ç°æ‚²è§‚é”çš„æ–¹å¼ã€‚æ‰§è¡Œåè¯¥æ•°æ®å°†è¢«é”å®šï¼Œç›´åˆ°è·å¾—è¯¥é”çš„äº‹åŠ¡æäº¤æˆ–å›æ»šåï¼Œé”æ‰èƒ½é‡Šæ”¾ã€‚å…¶ä»–è¦æ‰§è¡Œè¯¥æ•°æ®çš„äº‹åŠ¡æ‰èƒ½æ‰§è¡Œã€‚ ä¹è§‚é”ç›¸å¯¹äºæ‚²è§‚é”æ¥è¯´ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸ä¼šé€ æˆå†²çªï¼Œæ‰€ä»¥åªæœ‰åœ¨æ•°æ®æäº¤æ›´æ–°çš„æ—¶å€™ï¼Œæ‰ä¼šæ­£å¼å¯¹æ•°æ®çš„å†²çªä¸å¦è¿›è¡Œæ£€æµ‹ã€‚å¦‚æœå‘ç°å†²çªäº†ï¼Œåˆ™è®©è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œè®©ç”¨æˆ·å†³å®šå¦‚ä½•å»åšã€‚ åˆ©ç”¨æ•°æ®ç‰ˆæœ¬å·ï¼ˆversionï¼‰æœºåˆ¶æ˜¯ä¹è§‚é”æœ€å¸¸ç”¨çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œä¸€èˆ¬é€šè¿‡ä¸ºæ•°æ®åº“æ·»åŠ ä¸€ä¸ªversionå­—æ®µï¼Œå½“è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°†versionå­—æ®µçš„æ•°æ®ä¸€åŒè¯»å‡ºï¼Œæ•°æ®æ¯æ›´æ–°ä¸€æ¬¡ï¼Œå¯¹æ­¤versionå€¼+1ã€‚å½“æäº¤æ›´æ–°çš„æ—¶å€™ï¼Œåˆ¤æ–­æ•°æ®åº“å¯¹åº”çš„å½“å‰çš„ç‰ˆæœ¬ä¿¡æ¯æ˜¯å¦ä¸ç¬¬ä¸€æ¬¡å»å‡ºæ¥çš„ç‰ˆæœ¬ä¿¡æ¯ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™äºˆä»¥æ›´æ–°ï¼Œä¸ç›¸ç­‰è®¤ä¸ºæ˜¯è¿‡æœŸçš„æ•°æ®ï¼Œè¿”å›æ›´æ–°å¤±è´¥ã€‚ ","date":"2021-03-10","objectID":"/mysql-interview-04/:1:6","tags":["mysql"],"title":"Mysql Interview 04","uri":"/mysql-interview-04/"},{"categories":["å­¦ä¹ "],"content":"mysqlé¢è¯•03","date":"2021-03-09","objectID":"/mysql-interview-03/","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"MySQLç´¢å¼• ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:0","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"MySQLç›®å‰ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç´¢å¼•ç±»å‹ æ™®é€šç´¢å¼• æœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§åˆ›å»ºæ–¹å¼ï¼š ç›´æ¥åˆ›å»ºç´¢å¼• CREATE INDEX index_name ON table(column(length)) ä¿®æ”¹è¡¨ç»“æ„çš„æ–¹å¼æ·»åŠ ç´¢å¼• ALTER TABLE table_name ADD INDEX index_name ON (column(length)) åˆ›å»ºè¡¨çš„æ—¶å€™åŒæ—¶åˆ›å»ºç´¢å¼• CREATE TABLE `table` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` char(255) CHARACTER NOT NULL, `content` TEXT CHARACTER NULL, `time` int(10) NULL DEFAULT NULL, PRIMARY KEY (`id`), INDEX index (title(length)) ) åˆ é™¤ç´¢å¼• DROP INDEX index_name ON table å”¯ä¸€ç´¢å¼• ä¸å‰é¢çš„æ™®é€šç´¢å¼•ç±»ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼Œç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚å¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œåˆ™åˆ—å€¼çš„ç»„åˆå¿…é¡»å”¯ä¸€ï¼Œæœ‰ä»¥ä¸‹å‡ ç§åˆ›å»ºæ–¹å¼ åˆ›å»ºå”¯ä¸€ç´¢å¼• CREATE UNIQUE INDEX index_name ON table(column(length)) ä¿®æ”¹è¡¨ç»“æ„ ALTER TABLE table_name ADD UNIQUE index_name ON table(column(length)) åˆ›å»ºè¡¨çš„æ—¶å€™ç›´æ¥æŒ‡å®š CREATE TABLE `table` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` char(255) CHATACTER NOT NULL, `content` text CHARACTER NULL, `time` int(10) NULL DEFAULT NULL, UNIQUE indexName (title(length)) ) ä¸»é”®ç´¢å¼• æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ï¼Œä¸€èˆ¬å»ºè¡¨çš„æ—¶å€™åŒæ—¶åˆ›å»ºä¸»é”®ç´¢å¼• CREATE TABLE `table` ( `id` int(10) NOT NULL AUTO_INCREMENT, `title` char(255) NOT NULL, PRIMARY KEY (`id`) ) ç»„åˆç´¢å¼• å¤šä¸ªå­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œåªæœ‰åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†åˆ›å»ºç´¢å¼•æ—¶çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ï¼Œä½¿ç”¨ç»„åˆç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€é›†åˆ ALTER TABLE `table` ADD INDEX city_name_age(city, name, age) å…¨æ–‡ç´¢å¼• ä¸»è¦ç”¨æ¥æŸ¥æ‰¾æ–‡æœ¬ä¸­çš„å…³é”®å­—ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸ç´¢å¼•ä¸­çš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚fulltextï¼ˆå…¨æ–‡ç´¢å¼•ï¼‰è·Ÿå…¶ä»–ç´¢å¼•å¤§ä¸ç›¸åŒï¼Œå®ƒæ›´åƒæ˜¯ä¸€ä¸ªæœç´¢å¼•æ“ï¼Œè€Œä¸æ˜¯ç®€å•çš„whereè¯­å¥çš„å‚æ•°åŒ¹é…ã€‚fulltextç´¢å¼•é…åˆmatch againstæ“ä½œä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä¸€èˆ¬çš„where+likeã€‚å®ƒå¯ä»¥åœ¨create tableï¼Œalter tableï¼Œcreate indexä½¿ç”¨ã€‚ä¸è¿‡ç›®å‰åªç”¨charï¼Œvarcharï¼Œtextåˆ—ä¸Šå¯ä»¥åˆ›å»ºå…¨æ–‡ç´¢å¼•ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå…ˆå°†æ•°æ®æ”¾å…¥ä¸€ä¸ªæ²¡æœ‰å…¨æ–‡ç´¢å¼•çš„è¡¨ä¸­ï¼Œç„¶åå†ç”¨CREATE indexåˆ›å»ºfulltextï¼ˆå…¨æ–‡ç´¢å¼•ï¼‰ï¼Œè¦æ¯”å…ˆä¸ºä¸€å¼ è¡¨å»ºç«‹fulltextå…¨æ–‡ç´¢å¼•ç„¶åå†å°†æ•°æ®å†™å…¥å¿«å¾—å¤šã€‚ åˆ›å»ºè¡¨çš„æ—¶å€™æ·»åŠ å…¨æ–‡ç´¢å¼• CREATE TABLE `table` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` char(255) CHARACTER NOT NULL, `content` text CHARACTER NULL, `time` int(10) NULL DEFAULT NULL, PRIMARY KEY (`id`), FULLTEXT (content) ) ä¿®æ”¹è¡¨ç»“æ„æ·»åŠ å…¨æ–‡ç´¢å¼• ALTER TABLE table ADD FULLTEXT index_content(content) ç›´æ¥åˆ›å»ºç´¢å¼• CREATE FULLTEXT INDEX index_content ON table(content) ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:1","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"ç¼ºç‚¹ è™½ç„¶ç´¢å¼•å¤§å¤§æé«˜äº†æŸ¥è¯¢é€Ÿåº¦ï¼ŒåŒæ—¶ä¼šé™ä½è¡¨çš„æ›´æ–°é€Ÿåº¦ï¼Œå¦‚å¯¹è¡¨è¿›è¡Œdeleteï¼Œupdateï¼Œinsertã€‚å› ä¸ºæ›´æ–°è¡¨æ—¶ï¼Œä¸ä»…è¦ä¿å­˜æ•°æ®ï¼Œè¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶ã€‚ å»ºç«‹ç´¢å¼•ä¼šå»ºç«‹å ç”¨ç£ç›˜ç©ºé—´çš„ç´¢å¼•æ–‡ä»¶ã€‚ä¸€èˆ¬è¿™ä¸ªé—®é¢˜ä¸å¤ªä¸¥é‡ï¼Œä½†å¦‚æœåœ¨ä¸€ä¸ªå¤§è¡¨ä¸Šåˆ›å»ºå¤šç§ç»„åˆç´¢å¼•ï¼Œç´¢å¼•æ–‡ä»¶ä¼šå¢é•¿å¾ˆå¿«ã€‚ ç´¢å¼•åªæ˜¯æé«˜æ•ˆç‡çš„ä¸€ä¸ªå› ç´ ï¼Œå¦‚æœæœ‰å¤§æ•°æ®é‡çš„è¡¨ï¼Œå°±éœ€è¦èŠ±æ—¶é—´ç ”ç©¶å»ºç«‹ä¼˜ç§€ç´¢å¼•ï¼Œæˆ–ä¼˜åŒ–æŸ¥è¯¢è¯­å¥ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:2","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"æ³¨æ„äº‹é¡¹ ç´¢å¼•ä¸ä¼šåŒ…å«æœ‰nullå€¼çš„åˆ—ã€‚åªè¦åˆ—ä¸­åŒ…å«nullå€¼è±†æµ†ä¸ä¼šè¢«åŒ…å«åœ¨ç´¢å¼•ä¸­ï¼Œå¤åˆç´¢å¼•ä¸­åªè¦æœ‰ä¸€åˆ—å«æœ‰nullå€¼ï¼Œé‚£ä¹ˆè¿™ä¸€åˆ—å¯¹äºç´¢å¼•å°±æ˜¯æ— æ•ˆçš„ã€‚æ‰€ä»¥åœ¨è®¾è®¡æ•°æ®åº“çš„æ—¶å€™å°½é‡ä¸è¦è®©å­—æ®µçš„é»˜è®¤å€¼ä¸ºnullã€‚ ä½¿ç”¨çŸ­ç´¢å¼• å¯¹ä¸²åˆ—è¿›è¡Œç´¢å¼•ï¼Œå¦‚æœå¯èƒ½å°±æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªchar(255)çš„åˆ—ï¼Œå¦‚æœåœ¨å‰10ä¸ªæˆ–20ä¸ªå­—ç¬¦å†…ï¼Œå¤šæ•°å€¼æ˜¯å”¯ä¸€çš„ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å¯¹æ•´åˆ—è¿›è¡Œç´¢å¼•ã€‚çŸ­ç´¢å¼•ä¸ä»…å¯ä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦è¿˜å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´å’ŒI/Oæ“ä½œã€‚ ç´¢å¼•åˆ—æ’åº æŸ¥è¯¢åªç”¨ä¸€ä¸ªç´¢å¼•ï¼Œå› æ­¤å¦‚æœwhereå·²ç»ä½¿ç”¨äº†ç´¢å¼•ï¼Œé‚£ä¹ˆorder byå°±ä¸ä¼šåœ¨ä½¿ç”¨ç´¢å¼•ã€‚å› æ­¤æ•°æ®åº“é»˜è®¤æ’åºç¬¦åˆå¯ä»¥ç¬¦åˆè¦æ±‚çš„æƒ…å†µä¸‹ä¸è¦ä½¿ç”¨æ’åºæ“ä½œã€‚å°½é‡ä¸è¦åŒ…å«å¤šä¸ªåˆ—çš„æ’åºï¼Œå¦‚æœéœ€è¦æœ€å¥½ç»™è¿™äº›åˆ—åˆ›å»ºå¤åˆç´¢å¼•ã€‚ likeè¯­å¥æ“ä½œ ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ¨èä½¿ç”¨likeï¼Œå¦‚æœéä½¿ç”¨ä¸å¯ï¼Œå¦‚ä½•ä½¿ç”¨ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œlikeâ€œ%aaa%â€ä¸ä¼šä½¿ç”¨ç´¢å¼•è€Œlikeâ€œaaa%â€å¯ä»¥ä½¿ç”¨ç´¢å¼•ã€‚ ä¸è¦åœ¨åˆ—ä¸Šè¿›è¡Œè¿ç®— è¿™å°†å¯¼è‡´ç´¢å¼•å¤±æ•ˆè€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œä¾‹å¦‚ SELECT * FROM table_name WHERE YEAR(column_name) \u003c 2017 ä¸ä½¿ç”¨not inå’Œ\u003c\u003eæ“ä½œ ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:3","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"mysqlç´¢å¼•ç±»å‹normalï¼Œuniqueï¼Œfulltextçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ normalï¼šè¡¨ç¤ºæ™®é€šç´¢å¼• uniqueï¼šè¡¨ç¤ºå”¯ä¸€çš„ï¼Œä¸å…è®¸å‡ºç°é‡å¤çš„ç´¢å¼•ï¼Œå¦‚æœè¯¥å­—æ®µä¿¡æ¯ä¸ä¼šå‡ºç°é‡å¤ã€‚ä¾‹å¦‚ä½¿ç”¨èº«ä»½è¯å·ä½œä¸ºç´¢å¼•ï¼Œå¯ä»¥è®¾ç½®ä¸ºunique fulltextï¼šè¡¨ç¤ºå…¨æ–‡æœç´¢çš„ç´¢å¼•ï¼Œfulltextç”¨äºæœç´¢å¾ˆé•¿ä¸€ç‰‡æ–‡ç« çš„æ—¶å€™ï¼Œæ•ˆæœæœ€å¥½ã€‚å¦‚æœå°±ä¸€ä¸¤è¡Œå­—ï¼Œä½¿ç”¨æ™®é€šçš„indexä¹Ÿå¯ä»¥ã€‚ æ€»ç»“ï¼Œç´¢å¼•çš„ç±»åˆ«ç”±å»ºç«‹ç´¢å¼•çš„å­—æ®µå†…å®¹ç‰¹æ€§æ¥å†³å®šï¼Œé€šå¸¸normalæœ€å¸¸è§ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:4","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"å®é™…æ“ä½œä¸­ï¼Œåº”é€‰å–è¡¨ä¸­å“ªäº›å­—æ®µä½œä¸ºç´¢å¼• å»ºç«‹ç´¢å¼•ä¸Šæœ‰7å¤§åŸåˆ™ï¼š é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼• ä¸ºç»å¸¸éœ€è¦æ’åºã€åˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼• ä¸ºå¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µå»ºç«‹ç´¢å¼• é™åˆ¶ç´¢å¼•æ•°ç›® å°½é‡ä½¿ç”¨æ•°æ®é‡å°çš„ç´¢å¼• å°½é‡ä½¿ç”¨å‰ç¼€æ¥ç´¢å¼• åˆ é™¤ä¸å†ä½¿ç”¨æˆ–å¾ˆå°‘ä½¿ç”¨çš„ç´¢å¼• ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:5","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•åŒºåˆ« èšé›†ç´¢å¼•ä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªï¼Œéèšé›†ç´¢å¼•ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ª èšé›†ç´¢å¼•å­˜å‚¨è®°å½•åœ¨ç‰©ç†ä¸Šæ˜¯è¿ç»­å­˜åœ¨çš„ï¼Œè€Œéèšé›†ç´¢å¼•åœ¨é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„ï¼Œç‰©ç†å­˜å‚¨å¹¶ä¸è¿ç»­ ","date":"2021-03-09","objectID":"/mysql-interview-03/:1:6","tags":["mysql"],"title":"Mysql Interview 03","uri":"/mysql-interview-03/"},{"categories":["å­¦ä¹ "],"content":"mysqlé¢è¯•02","date":"2021-03-09","objectID":"/mysql-interview-02/","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼ˆACIDï¼‰åŸå­æ€§ï¼Œä¸€è‡´æ€§ï¼Œéš”ç¦»æ€§ï¼ŒæŒä¹…æ€§ï¼Ÿ ","date":"2021-03-09","objectID":"/mysql-interview-02/:1:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"åŸå­æ€§ æ ¹æ®å®šä¹‰ï¼ŒåŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œå…¶ä¸­æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšã€‚ä¸å­˜åœ¨ä¸­é—´çŠ¶æ€ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:1:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸€è‡´æ€§ æ ¹æ®å®šä¹‰ä¸€è‡´æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®å¤„äºä¸€ç§åˆæ³•çš„çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€æ˜¯è¯­ä¹‰ä¸Šçš„è€Œä¸æ˜¯è¯­æ³•ä¸Šçš„ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:1:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"éš”ç¦»æ€§ æ ¹æ®å®šä¹‰ï¼Œéš”ç¦»æ€§æ˜¯æŒ‡å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œäº‹åŠ¡å†…éƒ¨æ“ä½œå’Œå…¶ä»–äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:1:3","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"æŒä¹…æ€§ æ ¹æ®å®šä¹‰ï¼ŒæŒä¹…æ€§æ˜¯æŒ‡äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æ¥ä¸‹æ¥å…¶ä»–æ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:1:4","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"æ•°æ®åº“éš”ç¦»çº§åˆ«ï¼Œæ¯ä¸ªçº§åˆ«ä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜ï¼Œmysqlé»˜è®¤æ˜¯ä»€ä¹ˆçº§åˆ«çš„ ","date":"2021-03-09","objectID":"/mysql-interview-02/:2:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"è„è¯» è„è¯»æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¯»åˆ°å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®ã€‚ å½“ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨å¤šæ¬¡ä¿®æ”¹æŸä¸ªæ•°æ®è€Œè¿™ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡ä¿®æ”¹éƒ½å°šæœªæäº¤ï¼Œæ­¤æ—¶å¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡æ¥è®¿é—®è¯¥æ•°æ®ï¼Œå°±ä¼šé€ æˆä¸¤ä¸ªäº‹åŠ¡å¾—åˆ°çš„æ•°æ®ä¸ä¸€è‡´ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šAåœ¨ä¸€ä¸ªè½¬è´¦äº‹åŠ¡ä¸­ï¼Œè½¬äº†100ç»™Bï¼Œæ­¤æ—¶ï¼ŒBè¯»åˆ°äº†è¿™ä¸ªè½¬è´¦æ•°æ®ï¼Œç„¶ååšäº†ä¸€äº›æ“ä½œï¼ˆå‘è´§ç»™Aæˆ–å…¶ä»–æ“ä½œï¼‰ï¼Œå¯è¿™ä¸ªæ—¶å€™Açš„äº‹åŠ¡å¹¶æ²¡æœ‰æäº¤ï¼Œå¦‚æœAå›æ»šäº†äº‹åŠ¡ï¼Œå°±ä¼šå‘ç”Ÿæ•°æ®é—®é¢˜ã€‚è¿™å°±æ˜¯è„è¯»ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:2:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸å¯é‡å¤è¯» ä¸å¯é‡å¤è¯»æ˜¯æŒ‡å¯¹äºæ•°æ®åº“ä¸­çš„æŸä¸ªæ•°æ®ï¼Œä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…å¤šæ¬¡æŸ¥è¯¢å´è¿”å›äº†ä¸åŒçš„æ•°æ®ã€‚è¿™æ˜¯ç”±äºåœ¨æŸ¥è¯¢é—´éš”ï¼Œè¢«å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹å¹¶æäº¤äº†ã€‚ ä¾‹å¦‚ï¼šäº‹åŠ¡T1è¯»å–æŸä¸€æ•°æ®ï¼Œè€Œäº‹åŠ¡T2é©¬ä¸Šä¿®æ”¹æ•°æ®å¹¶æäº¤ç»™æ•°æ®åº“ï¼Œäº‹åŠ¡T1å†æ¬¡è¯»å–å°±å¾—åˆ°äº†ä¸åŒçš„ç»“æœï¼Œå‘ç”Ÿäº†ä¸å¯é‡å¤è¯»ã€‚ ä¸å¯é‡å¤è¯»å’Œè„è¯»çš„åŒºåˆ«æ˜¯ï¼Œè„è¯»æ˜¯æŸä¸€äº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„è„æ•°æ®ï¼Œä¸å¯é‡å¤è¯»åˆ™æ˜¯è¯»å–äº†å‰ä¸€äº‹åŠ¡æäº¤çš„æ•°æ® ","date":"2021-03-09","objectID":"/mysql-interview-02/:2:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"å¹»è¯» å¹»è¯»æ˜¯æŒ‡äº‹åŠ¡éç‹¬ç«‹æ‰§è¡Œæ—¶å‘ç”Ÿçš„ä¸€ç§ç°è±¡ã€‚ ä¾‹å¦‚ï¼šäº‹åŠ¡T1å¯¹ä¸€ä¸ªè¡¨ä¸­çš„æ‰€æœ‰çš„è¡Œçš„æŸä¸€æ•°æ®åšäº†ä»1ä¿®æ”¹ä¸º2çš„æ“ä½œï¼Œè¿™æ—¶äº‹åŠ¡T2åˆå¯¹è¿™ä¸ªè¡¨ä¸­æ’å…¥äº†ä¸€è¡Œæ•°æ®é¡¹ï¼Œè€Œè¿™ä¸ªæ•°æ®é¡¹è¿˜æ˜¯1å¹¶ä¸”æäº¤ç»™äº†æ•°æ®åº“ã€‚è€Œäº‹åŠ¡T1å¦‚æœå†æ¬¡æŸ¥çœ‹åˆšåˆšä¿®æ”¹çš„æ•°æ®ï¼Œä¼šå‘ç°è¿˜æœ‰ä¸€è¡Œæœªä¿®æ”¹ï¼Œå…¶å®è¿™è¡Œæ˜¯T2æ·»åŠ çš„ï¼Œå°±å¥½åƒäº§ç”Ÿäº†å¹»è§‰ã€‚è¿™å°±æ˜¯å¹»è¯»ã€‚ å¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«ï¼Œå¹»è¯»å’Œä¸å¯é‡å¤è¯»éƒ½æ˜¯è¯»å–å¦ä¸€ä¸ªä»¥æäº¤çš„äº‹åŠ¡ï¼ˆè¿™ç‚¹å°±å’Œè„è¯»ä¸åŒï¼‰ï¼Œä¸åŒçš„æ˜¯ï¼Œä¸å¯é‡å¤è¯»æŸ¥è¯¢çš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°æ®é¡¹ï¼Œè€Œå¹»è¯»æ˜¯é’ˆå¯¹ä¸€æ‰¹æ•°æ®æ•´ä½“ï¼ˆæ¯”å¦‚æ•°æ®ä¸ªæ•°ï¼‰ ","date":"2021-03-09","objectID":"/mysql-interview-02/:2:3","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQLæä¾›çš„å››ç§éš”ç¦»æ¨¡å¼ Serializableï¼ˆä¸²è¡ŒåŒ–ï¼‰ï¼šå¯ä»¥é¿å…è„è¯»ï¼Œä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„å‘ç”Ÿã€‚ Repeatable readï¼ˆå¯é‡å¤è¯»ï¼‰ï¼šå¯ä»¥é¿å…è„è¯»ï¼Œä¸å¯é‡å¤è¯»çš„å‘ç”Ÿã€‚ Read committedï¼ˆè¯»å·²æäº¤ï¼‰ï¼šå¯é¿å…è„è¯»çš„å‘ç”Ÿã€‚ Read uncommittedï¼ˆè¯»æœªæäº¤ï¼‰ï¼šæœ€ä½çº§åˆ«ï¼Œéƒ½æ— æ³•é¿å…ã€‚ ä»¥ä¸Šå››ç§æ¨¡å¼æœ€é«˜æ˜¯Serializableçº§åˆ«ï¼Œæœ€ä½æ˜¯Read uncommittedçº§åˆ«ã€‚çº§åˆ«è¶Šé«˜æ•ˆç‡è¶Šä½ã€‚åƒæ˜¯Serializableè¿™æ ·çš„çº§åˆ«å°±æ˜¯ä»¥é”è¡¨çš„æ–¹å¼ä½¿å¾—å…¶ä»–äº‹åŠ¡åªèƒ½åœ¨é”å¤–ç­‰å¾…ã€‚MySQLæ•°æ®åº“é»˜è®¤çš„çº§åˆ«ä¸ºRead committed ","date":"2021-03-09","objectID":"/mysql-interview-02/:2:4","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQLå¸¸è§çš„ä¸‰ç§å­˜å‚¨å¼•æ“ï¼ˆInnoDBã€MyISAMã€MEMORYï¼‰çš„åŒºåˆ« ","date":"2021-03-09","objectID":"/mysql-interview-02/:3:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"InnoDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒå¤–é”®ï¼Œæ”¯æŒå´©æºƒä¿®å¤èƒ½åŠ›å’Œå¹¶å‘æ§åˆ¶ã€‚å¦‚æœéœ€è¦å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼ˆæ¯”å¦‚é“¶è¡Œï¼‰ï¼Œè¦æ±‚å®ç°å¹¶å‘æ§åˆ¶ï¼ˆæ¯”å¦‚å”®ç¥¨ï¼‰ï¼Œé‚£é€‰æ‹©InnoDBæœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚å¦‚æœéœ€è¦é¢‘ç¹çš„æ›´æ–°ï¼Œåˆ é™¤æ“ä½œçš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©InnoDBï¼Œå› ä¸ºæ”¯æŒäº‹åŠ¡çš„æäº¤ï¼ˆcommitï¼‰å’Œå›æ»šï¼ˆrollbackï¼‰ ","date":"2021-03-09","objectID":"/mysql-interview-02/:3:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MyISAM æ’å…¥æ•°æ®å¿«ï¼Œç©ºé—´å’Œå†…å­˜ä½¿ç”¨æ¯”è¾ƒä½ã€‚å¦‚æœè¡¨ä¸»è¦æ˜¯ç”¨äºæ’å…¥æ–°æ•°æ®å’Œè¯»å‡ºè®°å½•ï¼Œé‚£ä¹ˆé€‰æ‹©MyISAMèƒ½å®ç°å¤„ç†é«˜æ•ˆç‡ã€‚å¦‚æœåº”ç”¨çš„å®Œæ•´æ€§å’Œå¹¶å‘æ€§è¦æ±‚æ¯”è¾ƒä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:3:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MEMORY æ‰€æœ‰æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®çš„å¤„ç†å¿«ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¸é«˜ï¼Œå¦‚æœéœ€è¦å¾ˆå¿«çš„è¯»å†™é€Ÿåº¦ï¼Œå¯¹æ•°æ®çš„å®‰å…¨æ€§è¦æ±‚è¾ƒä½ï¼Œå¯ä»¥é€‰æ‹©MEMORYã€‚å…¶å¯¹è¡¨çš„å¤§å°æœ‰æ‰€è¦æ±‚ï¼Œä¸èƒ½å»ºç«‹å¤ªå¤§çš„è¡¨ã€‚æ‰€ä»¥è¿™ç±»æ•°æ®åº“åªä½¿ç”¨åœ¨ç›¸å¯¹è¾ƒå°çš„æ•°æ®åº“è¡¨ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:3:3","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQLçš„MyISAMå’ŒInnoDBä¸¤ç§å­˜å‚¨å¼•æ“åœ¨äº‹åŠ¡ã€é”çº§åˆ«ï¼Œå„è‡ªçš„ä½¿ç”¨åœºæ™¯ ","date":"2021-03-09","objectID":"/mysql-interview-02/:4:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MyISAMç‰¹ç‚¹ ä¸æ”¯æŒè¡Œé”ï¼ˆMyISAMåªæœ‰è¡¨é”ï¼‰ï¼Œè¯»å–æ—¶å¯¹éœ€è¦è¯»åˆ°çš„æ‰€æœ‰è¡¨è¿›è¡ŒåŠ é”ï¼Œå†™å…¥æ—¶åˆ™å¯¹è¡¨åŠ æ’å®ƒé” ä¸æ”¯æŒäº‹åŠ¡ ä¸æ”¯æŒå¤–é”® ä¸æ”¯æŒå´©æºƒåå®‰å…¨ä¿®å¤ åœ¨è¡¨æœ‰è¯»å–æŸ¥è¯¢æ—¶ï¼Œæ”¯æŒå¾€è¡¨ä¸­æ’å…¥æ–°æ•°æ® æ”¯æŒBLOGå’ŒTEXTçš„å‰500ä¸ªå­—ç¬¦ç´¢å¼•ï¼Œæ”¯æŒå…¨æ–‡ç´¢å¼• æ”¯æŒå»¶æ—¶æ›´æ–°ç´¢å¼•ï¼Œæå¤§çš„æå‡å†™å…¥æ€§èƒ½ å¯¹äºä¸ä¼šè¿›è¡Œä¿®æ”¹çš„è¡¨ï¼Œæ”¯æŒå‹ç¼©è¡¨ï¼Œæå¤§çš„å‡å°‘å¯¹ç£ç›˜ç©ºé—´çš„å ç”¨ ","date":"2021-03-09","objectID":"/mysql-interview-02/:4:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"InnoDBç‰¹ç‚¹ æ”¯æŒè¡Œé”ï¼Œé‡‡ç”¨MVCCæ¥æ”¯æŒé«˜å¹¶å‘ï¼Œæœ‰å¯èƒ½æ­»é” æ”¯æŒäº‹åŠ¡ æ”¯æŒå¤–é”® æ”¯æŒå´©æºƒåçš„å®‰å…¨ä¿®å¤ ä¸æ”¯æŒå…¨æ–‡ç´¢å¼• ","date":"2021-03-09","objectID":"/mysql-interview-02/:4:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"å„è‡ªçš„ä½¿ç”¨åœºæ™¯ MyISAMç®¡ç†éäº‹åŠ¡è¡¨ã€‚å®ƒæä¾›é«˜é€Ÿå­˜å‚¨å’Œæ£€ç´¢ï¼Œä»¥åŠå…¨æ–‡æœç´¢èƒ½åŠ›ã€‚å¦‚æœåº”ç”¨ä¸­éœ€è¦æ‰§è¡Œå¤§é‡çš„SELECTæŸ¥è¯¢æ—¶ï¼Œé‚£ä¹ˆMyISAMæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ InnoDBç”¨äºäº‹åŠ¡å¤„ç†åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä¼—å¤šç‰¹æ€§ï¼ŒåŒ…æ‹¬ACIDäº‹åŠ¡æ”¯æŒã€‚å¦‚æœåº”ç”¨ä¸­éœ€è¦å¤§é‡çš„INSERTæˆ–UPDATEæ“ä½œï¼Œåˆ™åº”è¯¥ä½¿ç”¨InnoDBï¼Œè¿™æ ·å¯ä»¥æé«˜å¤šç”¨æˆ·å¹¶å‘æ“ä½œçš„æ€§èƒ½ã€‚ ä½†æ˜¯å®é™…åœºæ™¯ä¸­ï¼Œé’ˆå¯¹å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œä¸€èˆ¬éµå¾ªä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼Ÿ æ•°æ®åº“æ˜¯å¦æœ‰å¤–é”® æ˜¯å¦éœ€è¦äº‹åŠ¡æ”¯æŒ æ˜¯å¦éœ€è¦å…¨æ–‡ç´¢å¼• æ•°æ®åº“ç»å¸¸ä½¿ç”¨ä»€ä¹ˆæŸ¥è¯¢æ¨¡å¼ï¼Ÿåœ¨å†™å¤šè¯»å°‘çš„åº”ç”¨ä¸­è¿˜æ˜¯InnoDBæ’å…¥æ€§èƒ½æ›´ç¨³å®šï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹ä¹ŸåŸºæœ¬ï¼Œå¦‚æœæ˜¯å¯¹è¯»å–é€Ÿåº¦è¦æ±‚æ¯”è¾ƒå¿«çš„åº”ç”¨è¿˜æ˜¯é€‰MyISAM æ•°æ®åº“çš„æ•°æ®å¤§å°ï¼Ÿå¤§å°ºå¯¸å€¾å‘ä¸InnoDBï¼Œå› ä¸ºæœ‰äº‹åŠ¡æ—¥å¿—ï¼Œæ•…éšœä¿®å¤ ","date":"2021-03-09","objectID":"/mysql-interview-02/:4:3","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"SQLæŸ¥è¯¢è¯­å¥ï¼ˆwhereï¼Œjoinï¼Œlimitï¼Œgroup byï¼Œhavingï¼‰æ‰§è¡Œå…ˆåé¡ºåº ä¸€ä¸ªæŸ¥è¯¢è¯­å¥åŒæ—¶å‡ºç°ä»¥ä¸Šå…³é”®è¯æ—¶æ‰§è¡Œé¡ºåºæ˜¯ï¼š æ‰§è¡Œwhere xxxå¯¹å…¨è¡¨æ•°æ®åšç­›é€‰ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç»“æœé›† é’ˆå¯¹ç¬¬ä¸€ä¸ªç»“æœé›†ä½¿ç”¨group byåˆ†ç»„ï¼Œè¿”å›ç¬¬äºŒä¸ªç»“æœé›† é’ˆå¯¹ç¬¬äºŒä¸ªç»“æœé›†ä¸­çš„æ¯ä¸€ç»„æ•°æ®æ‰§è¡Œselect xxxï¼Œæœ‰å‡ ç»„å°±æ‰§è¡Œå‡ æ¬¡ï¼Œè¿”å›ç¬¬ä¸‰ä¸ªç»“æœé›† é’ˆå¯¹ç¬¬ä¸‰ä¸ªç»“æœé›†æ‰§è¡Œhaving xxxè¿›è¡Œç­›é€‰ï¼Œè¿”å›ç¬¬å››ä¸ªç»“æœé›† é’ˆå¯¹ç¬¬å››ä¸ªç»“æœé›†æ’åº æ€»ç»“ä¸€ä¸ªé¡ºåºï¼šæˆ‘ï¼ˆWï¼‰å“¥ï¼ˆGï¼‰æ˜¯ï¼ˆSHï¼‰å¶ï¼ˆOï¼‰åƒï¼ˆW-\u003eG-\u003eS-\u003eH-\u003eOï¼‰ ","date":"2021-03-09","objectID":"/mysql-interview-02/:5:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯ä¸´æ—¶è¡¨ï¼Œä¸´æ—¶è¡¨ä»€ä¹ˆæ—¶å€™åˆ é™¤ ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯ä¸´æ—¶è¡¨ MySQLç”¨äºå­˜å‚¨ä¸€äº›ä¸­é—´ç»“æœé›†çš„è¡¨ï¼Œä¸´æ—¶è¡¨åªåœ¨å½“å‰è¿æ¥å¯è§ï¼Œå½“å…³é—­è¿æ¥æ—¶ï¼ŒMySQLä¼šè‡ªåŠ¨åˆ é™¤è¡¨å¹¶é‡Šæ”¾æ‰€æœ‰ç©ºé—´ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿä¸´æ—¶è¡¨ ä¸€èˆ¬æ˜¯ç”±äºå¤æ‚çš„SQLå¯¼è‡´ä¸´æ—¶è¡¨è¢«å¤§é‡åˆ›å»º ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸´æ—¶è¡¨çš„åˆ†ç±» ä¸´æ—¶è¡¨åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯å†…å­˜ä¸´æ—¶è¡¨ï¼Œä¸€ç§æ˜¯ç£ç›˜ä¸´æ—¶è¡¨ã€‚å†…å­˜ä¸´æ—¶è¡¨é‡‡ç”¨çš„æ˜¯MEMORYå­˜å‚¨å¼•æ“ï¼Œç£ç›˜ä¸´æ—¶è¡¨é‡‡ç”¨çš„æ˜¯MyISAMå­˜å‚¨å¼•æ“ï¼ˆç£ç›˜ä¸´æ—¶è¡¨ä¹Ÿå¯ä»¥ä½¿ç”¨InnoDBå­˜å‚¨å¼•æ“ï¼Œé€šè¿‡å‚æ•°æ¥æ§åˆ¶ä½¿ç”¨é‚£ç§å­˜å‚¨å¼•æ“ï¼Œä»MySQL5.7.6ç‰ˆæœ¬åé»˜è®¤ä¸ºInnoDBå­˜å‚¨å¼•æ“ï¼Œä¹‹å‰ç‰ˆæœ¬ä¸€ç›´é»˜è®¤çš„æ˜¯MyISAMå­˜å‚¨å¼•æ“ï¼‰ ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:3","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸‹é¢æ“ä½œä¼šä½¿ç”¨åˆ°ä¸´æ—¶è¡¨ unionæŸ¥è¯¢ å¯¹äºè§†å›¾æ“ä½œï¼Œæ¯”å¦‚ä½¿ç”¨ä¸€äº›TEMPTABLEç®—æ³•ï¼Œunionæˆ–aggregation å­æŸ¥è¯¢ joinåŒ…æ‹¬not inï¼Œexistç­‰ æŸ¥è¯¢äº§ç”Ÿçš„æ´¾ç”Ÿè¡¨ å¤æ‚çš„group byæˆ–order by insertï¼ŒselectåŒä¸€ä¸ªè¡¨ï¼Œmysqlä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶è¡¨ç¼“å­˜selectè¡Œ å¤šä¸ªè¡¨æ›´æ–° GROUP_CONCAT()æˆ–COUNT(DISTINCT) ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:4","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQLä»¥ä¸‹æ“ä½œä¼šé˜»æ­¢å†…å­˜ä¸´æ—¶è¡¨çš„å»ºç«‹ï¼Œç›´æ¥ä½¿ç”¨ç£ç›˜ä¸´æ—¶è¡¨ è¡¨å«æœ‰BLOGæˆ–TEXTåˆ— ä½¿ç”¨unionæˆ–union allæ—¶ï¼Œselectå­å¥æœ‰å¤§äº512å­—èŠ‚çš„åˆ— Show columnsæˆ–descè¡¨æ—¶ï¼Œæœ‰LOBæˆ–TEXT GROUP BYæˆ–DISTINCYå­å¥ä¸­åŒ…å«åˆ—å¤§äº512å­—èŠ‚çš„åˆ— ","date":"2021-03-09","objectID":"/mysql-interview-02/:6:5","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"MySQL B+Treeç´¢å¼•å’ŒHashç´¢å¼•çš„åŒºåˆ« ","date":"2021-03-09","objectID":"/mysql-interview-02/:7:0","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"åŒºåˆ« ç”±äºHashç´¢å¼•ç»“æ„çš„ç‰¹æ®Šæ€§ï¼Œå…¶æ£€ç´¢æ•ˆç‡ç‰¹åˆ«é«˜ï¼Œç´¢å¼•çš„æ£€ç´¢å¯ä»¥ä¸€æ¬¡å®šä½ï¼Œä¸æƒ³B-Treeç´¢å¼•éœ€è¦ä»æ ¹èŠ‚ç‚¹åˆ°æèŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®¿é—®åˆ°å¶èŠ‚ç‚¹è¿™æ ·å¤šæ¬¡è®¿é—®ï¼Œæ‰€ä»¥Hashç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡æ˜¯è¦è¿œé«˜äºB-Treeç´¢å¼• ","date":"2021-03-09","objectID":"/mysql-interview-02/:7:1","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä½•é‡‡ç”¨B-Treeè€Œä¸é‡‡ç”¨Hash ä»»ä½•äº‹ç‰©éƒ½æœ‰ä¸¤é¢æ€§ï¼ŒHashç´¢å¼•ä¹Ÿä¸€æ ·ï¼Œè™½ç„¶Hashç´¢å¼•æ•ˆç‡é«˜ï¼Œä½†æ˜¯Hashç´¢å¼•æœ¬èº«ç”±äºå…¶ç‰¹æ®Šæ€§ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šé™åˆ¶å’Œå¼Šç«¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹è¿™äº› Hashç´¢å¼•ä»…ä»…èƒ½æ»¡è¶³äºâ€œ=â€ï¼Œâ€œinâ€å’Œâ€œ\u003c=\u003eâ€æŸ¥è¯¢ï¼Œä¸èƒ½ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ã€‚ ç”±äºHashç´¢å¼•æ¯”è¾ƒçš„æ˜¯Hashè¿ç®—ä¹‹åçš„Hashå€¼ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ç­‰å€¼è¿‡æ»¤ï¼Œä¸èƒ½ç”¨äºåŸºäºèŒƒå›´çš„è¿‡æ»¤ï¼Œå› ä¸ºç»è¿‡ç›¸åº”çš„Hashç®—æ³•å¤„ç†åçš„Hashå€¼çš„å¤§å°å…³ç³»ï¼Œå¹¶ä¸èƒ½ä¿è¯å’ŒHashè¿ç®—å‰å®Œå…¨ä¸€æ · Hashç´¢å¼•æ— æ³•ç”¨æ¥é¿å…æ•°æ®çš„æ’åºæ“ä½œã€‚ ç”±äºHashç´¢å¼•ä¸­å­˜æ”¾æ˜¯ç»è¿‡Hashè®¡ç®—ä¹‹åçš„Hashå€¼ï¼Œè€Œä¸”Hashå€¼çš„å¤§å°å…³ç³»è¿˜ä¸ä¸€å®šå’ŒHashè¿ç®—ä¹‹å‰çš„é”®å€¼å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥æ•°æ®åº“æ— æ³•é€šè¿‡ç´¢å¼•çš„æ•°æ®æ¥é¿å…ä»»ä½•æ’åºè¿ç®— Hashç´¢å¼•ä¸èƒ½åˆ©ç”¨éƒ¨åˆ†ç´¢å¼•é”®æŸ¥è¯¢ å¯¹äºç»„åˆç´¢å¼•ï¼ŒHashç´¢å¼•åœ¨è®¡ç®—Hashå€¼çš„æ—¶å€™æ˜¯ç»„åˆç´¢å¼•é”®åˆå¹¶åå†ä¸€èµ·è®¡ç®—Hashå€¼ï¼Œè€Œä¸æ˜¯å•ç‹¬è®¡ç®—Hashå€¼ï¼Œæ‰€ä»¥é€šè¿‡ç»„åˆç´¢å¼•çš„å‰é¢ä¸€ä¸ªæˆ–å‡ ä¸ªç´¢å¼•é”®è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼ŒHashç´¢å¼•ä¹Ÿæ— æ³•è¢«åˆ©ç”¨ã€‚ Hashç´¢å¼•åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é¿å…è¡¨æ‰«æ Hashç´¢å¼•æ˜¯å°†ç´¢å¼•é”®é€šè¿‡Hashè¿ç®—åï¼Œå°†Hashè¿ç®—ç»“æœå’Œæ‰€å¯¹åº”çš„æŒ‡é’ˆä¿¡æ¯å­˜æ”¾åœ¨ä¸€ä¸ªHashè¡¨ä¸­ç”±äºä¸åŒçš„ç´¢å¼•é”®ä¸­å­˜åœ¨ç›¸åŒçš„Hashå€¼ï¼Œæ‰€ä»¥å³ä½¿æ»¡è¶³æŸä¸ªHashé”®å€¼æ•°æ®çš„è®°å½•æ¡æ•°ä¹Ÿæ— æ³•ä»Hashç´¢å¼•ä¸­ç›´æ¥å®ŒæˆæŸ¥è¯¢ï¼Œè¿˜æ˜¯è¦é€šè¿‡è®¿é—®è¡¨ä¸­çš„å®é™…æ•°æ®è¿›è¡Œç›¸åº”çš„æ¯”è¾ƒï¼Œå¹¶å¾—åˆ°ç›¸åº”çš„ç»“æœã€‚ Hashç´¢å¼•é‡åˆ°å¤§é‡Hashå€¼ç›¸ç­‰çš„æƒ…å†µåæ€§èƒ½å°±ä¸ä¸€å®šæ¯”B-Treeé«˜ å¯¹äºé€‰æ‹©æ€§è¾ƒä½çš„ç´¢å¼•é”®ï¼Œå¦‚æœåˆ›å»ºHashç´¢å¼•ï¼Œé‚£ä¹ˆå°†ä¼šå­˜åœ¨å¤§é‡è®°å½•æŒ‡é’ˆä¿¡æ¯å­˜äºåŒä¸€ä¸ªHashå€¼ç›¸å…³è”ã€‚è¿™æ ·ä¼šæµªè´¹å¤šæ¬¡è¡¨æ•°æ®è®¿é—®ï¼Œé€ æˆæ•´ä½“æ€§èƒ½ä½ä¸‹ã€‚ ","date":"2021-03-09","objectID":"/mysql-interview-02/:7:2","tags":["mysql"],"title":"Mysql Interview 02","uri":"/mysql-interview-02/"},{"categories":["å­¦ä¹ "],"content":"mysqlé¢è¯•01","date":"2021-03-08","objectID":"/mysql-interview-01/","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"dropã€deleteå’Œtruncateåˆ†åˆ«åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ï¼Ÿå¯¹æ¯”ä¸€ä¸‹åŒºåˆ« ","date":"2021-03-08","objectID":"/mysql-interview-01/:1:0","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"drop table å±äºDDL ä¸å¯å›æ»š ä¸å¯å¸¦where è¡¨å†…å®¹ç»“æ„åˆ é™¤ åˆ é™¤é€Ÿåº¦å¿« ","date":"2021-03-08","objectID":"/mysql-interview-01/:1:1","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"truncate table å±äºDDL ä¸å¯å›æ»š ä¸å¯å¸¦where è¡¨å†…å®¹åˆ é™¤ é€Ÿåº¦å¿« ","date":"2021-03-08","objectID":"/mysql-interview-01/:1:2","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"delete from å±äºDML å¯å›æ»š å¯å¸¦where è¡¨ç»“æ„åœ¨ï¼Œè¡¨å†…å®¹çœ‹å…·ä½“where åˆ é™¤é€Ÿåº¦æ…¢ ","date":"2021-03-08","objectID":"/mysql-interview-01/:1:3","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨åœºæ™¯ ä¸å†éœ€è¦ä¸€å¼ è¡¨çš„æ—¶å€™ï¼Œä½¿ç”¨drop æƒ³åˆ é™¤éƒ¨åˆ†æ•°æ®è¡Œæ—¶å€™ï¼Œä½¿ç”¨deleteï¼Œå¹¶ä¸”å¸¦ä¸Šwhereå­å¥ æƒ³ä¿ç•™è¡¨ç»“æ„è€Œåˆ é™¤æ‰€æœ‰æ•°æ®æ—¶ï¼Œä½¿ç”¨truncate ","date":"2021-03-08","objectID":"/mysql-interview-01/:1:4","tags":["mysql"],"title":"Mysql Interview 01","uri":"/mysql-interview-01/"},{"categories":["å­¦ä¹ "],"content":"mysqlä¼˜åŒ–01","date":"2021-03-08","objectID":"/mysql-optimize-01/","tags":["mysql"],"title":"Mysql Optimize 01","uri":"/mysql-optimize-01/"},{"categories":["å­¦ä¹ "],"content":"ä¼˜åŒ–çš„æ–¹é¢ è¡¨è®¾è®¡ èŒƒå¼ å­˜å‚¨å¼•æ“ å­—æ®µç±»å‹ åŠŸèƒ½ ç´¢å¼• ç¼“å­˜ åˆ†åŒº sqlè¯­å¥ åˆç†çš„sql ç»éªŒ æ¶æ„ ä¸»ä»å¤åˆ¶ è´Ÿè½½å‡è¡¡ è¯»å†™åˆ†ç¦» ","date":"2021-03-08","objectID":"/mysql-optimize-01/:1:0","tags":["mysql"],"title":"Mysql Optimize 01","uri":"/mysql-optimize-01/"},{"categories":["ç”Ÿæ´»"],"content":"ç®€å†","date":"2021-03-07","objectID":"/resume/","tags":["ç®€å†"],"title":"Resume","uri":"/resume/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸ªäººä¿¡æ¯ å§“åï¼šé™ˆè¿›ç…Œ æ€§åˆ«ï¼šç”· å¹´é¾„ï¼š24 æ‰‹æœºå·ï¼š18759882615 é‚®ç®±ï¼š2219316464@qq.com ä¸“ä¸šï¼šè®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ åº”è˜å²—ä½ï¼šGolangå¼€å‘å·¥ç¨‹å¸ˆ ","date":"2021-03-07","objectID":"/resume/:1:0","tags":["ç®€å†"],"title":"Resume","uri":"/resume/"},{"categories":["ç”Ÿæ´»"],"content":"å·¥ä½œåŠæ•™è‚²ç»å† å¦é—¨ç¾åŸè¡ŒåŠ¨ç§‘æŠ€æœ‰é™å…¬å¸ 2019-08~è‡³ä»Š è½¯ä»¶ç ”å‘éƒ¨-åç«¯å¼€å‘ å¦é—¨é’å¶è½¯ä»¶è‚¡ä»½æœ‰é™å…¬å¸ 2019-03~2019-07 è½¯ä»¶ç ”å‘éƒ¨-åç«¯å¼€å‘ å¦é—¨é€šå…ƒå¾®æ™ºèƒ½ç§‘æŠ€æœ‰é™å…¬å¸ 2018-03~2018~11 è½¯ä»¶ç ”å‘éƒ¨-è½¯ä»¶æµ‹è¯• ä¸‰æ˜å­¦é™¢ 2014-09~2018-07 è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ ","date":"2021-03-07","objectID":"/resume/:2:0","tags":["ç®€å†"],"title":"Resume","uri":"/resume/"},{"categories":["ç”Ÿæ´»"],"content":"ä¸“ä¸šæŠ€èƒ½ ç†Ÿæ‚‰Golangï¼Œäº†è§£Javaç­‰ç¼–ç¨‹è¯­è¨€ ç†Ÿæ‚‰MySQLæ•°æ®åº“ äº†è§£ç¼“å­˜ç³»ç»ŸRedis äº†è§£ç½‘ç»œç¼–ç¨‹ï¼ŒTCP/IPåè®® ç†Ÿæ‚‰Beegoæ¡†æ¶ äº†è§£Reactå’ŒAnt Design äº†è§£Gitç‰ˆæœ¬æ§åˆ¶ ","date":"2021-03-07","objectID":"/resume/:3:0","tags":["ç®€å†"],"title":"Resume","uri":"/resume/"},{"categories":["ç”Ÿæ´»"],"content":"é¡¹ç›®ç»å† å¦é—¨ç¾åŸè¡ŒåŠ¨ç®¡ç†ç³»ç»Ÿ åç«¯å¼€å‘ 2019-08~è‡³ä»Š é¡¹ç›®ä»‹ç»ï¼šè¿™ä¸ªé¡¹ç›®æ˜¯å…¬å¸çš„åå°ç®¡ç†ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿä¸»è¦æ˜¯å¯¹å…¬å¸å¯¹åº”çš„å°ç¨‹åºå’Œappæä¾›æ•°æ®çš„ç»Ÿè®¡å±•ç¤ºå’Œç®¡ç†ç­‰ã€‚ç³»ç»Ÿåç«¯æ˜¯é‡‡ç”¨Beegoæ¡†æ¶ï¼Œæ•°æ®åº“ä½¿ç”¨MySQLï¼Œéƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨åˆ°Redisè¿›è¡Œç¼“å­˜ã€‚ç³»ç»Ÿå‰ç«¯é‡‡ç”¨Reactæ¡†æ¶ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨Ant Designçš„UIç»„ä»¶ã€‚ æˆ‘çš„èŒè´£ï¼š æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œä¸äº§å“ç»ç†ç¡®å®šå…·ä½“åŠŸèƒ½åŠå±•ç°æ–¹å¼ã€‚ ä¾æ®å…·ä½“åŠŸèƒ½è¿›è¡Œæ•°æ®è¡¨çš„è®¾è®¡ã€‚ å®ç°å…·ä½“åŠŸèƒ½ç¼–å†™ç®¡ç†ç³»ç»Ÿå‰ç«¯å±•ç¤ºä»£ç ï¼Œä¸äº§å“è¿›è¡Œç¡®è®¤ã€‚ æ ¹æ®å‰ç«¯ç•Œé¢ç¡®å®šåå°çš„æ¥å£ï¼Œè¿›è¡Œåå°ä»£ç æ•°æ®æ“ä½œä»£ç çš„ç¼–å†™ã€‚ è‹¥å°ç¨‹åºï¼Œappæœ‰è¯¥åŠŸèƒ½ç›¸å…³çš„ï¼Œä¸ºå…¶æä¾›ç›¸åº”çš„æ¥å£ã€‚ æäº¤Gitï¼Œäº¤ä»˜æµ‹è¯•è¿›è¡Œæµ‹è¯•ã€‚ æ ¹æ®æµ‹è¯•æäº¤çš„bugå¯¹ä»£ç è¿›è¡Œè°ƒè¯•ä¿®æ”¹ã€‚ ä¸»è¦å®ç°åŠŸèƒ½ï¼š è€ƒè¯•æ¨¡å— è¿™ä¸ªåŠŸèƒ½å®ç°åŠŸèƒ½å¦‚ä¸‹ï¼š 1ã€é¢˜åº“ç®¡ç†ï¼Œåœ¨é¢˜åº“ä¸­å¯¹è¯•å·é¢˜ç›®ï¼Œç­”æ¡ˆç­‰è¿›è¡Œæ•°æ®æ“ä½œã€‚ 2ã€è¯•å·ç®¡ç†ï¼Œç¼–è¾‘è¯•å·åç§°ç­‰å…·ä½“ä¿¡æ¯ï¼Œä»é¢˜åº“ä¸­ç­›é€‰é¢˜ç›®ï¼Œä»ç”¨æˆ·åˆ—è¡¨ä¸­ç­›é€‰ç”¨æˆ·å‚ä¸è¯¥è¯•å·è€ƒè¯•ã€‚ 3ã€åˆ†æ•°æ’è¡Œæ¦œï¼Œå¯¹è¯•å·åˆ†æ•°è¿›è¡Œç»Ÿè®¡ï¼Œæ’è¡ŒåŠæ•°æ®å±•ç¤ºã€‚ åŠŸèƒ½éš¾ç‚¹ï¼š 1ã€ç”¨æˆ·å°ç¨‹åºä¸Šæäº¤è¯•å·åå±•ç¤ºè€ƒè¯•æˆç»© 2ã€è¯•å·ä¿®æ”¹æ—¶ï¼Œç”¨æˆ·æäº¤è¿‡çš„è¯•å·å†…å®¹ä¸å˜ éš¾ç‚¹è§£å†³ï¼š 1ã€ä½¿ç”¨rediså¯¹ç­”æ¡ˆæ•°æ®è¿›è¡Œç¼“å­˜ï¼Œç”¨æˆ·æäº¤åæ ¹æ®è¯•å·idè·å–å¯¹åº”ç¼“å­˜æ•°æ®ï¼Œè¿›è¡Œå¯¹æ¯”ï¼Œç»Ÿè®¡åˆ†æ•°å¹¶è¿”å›ã€‚ 2ã€å°†ç”¨æˆ·æäº¤çš„è¯•å·æ•°æ®åºåˆ—åŒ–è¿›è¡Œä¿å­˜ï¼Œå±•ç¤ºæ—¶å†ååºåˆ—åŒ–ã€‚ å¤§ä»¶åƒåœ¾è®¢å•æ¨¡å— è¿™ä¸ªåŠŸèƒ½å®ç°åŠŸèƒ½å¦‚ä¸‹ï¼š 1ã€å¤§ä»¶åƒåœ¾åŸºæœ¬è®¾ç½®ï¼Œæ ¹æ®ä¸åŒçš„ç±»å‹ï¼Œå¯¹ä¸åŒæƒ…å†µä¸‹ä»·æ ¼çš„å®šåˆ¶ã€‚ 2ã€å¤§ä»¶è®¢å•ç®¡ç†ï¼Œç®¡ç†äººå‘˜åˆ†é…è®¢å•ç»™å›æ”¶äººå‘˜ï¼Œå›æ”¶äººå‘˜é€šè¿‡å°ç¨‹åºäº†è§£è®¢å•è¯¦æƒ…å¹¶å®Œæˆã€‚ 3ã€å›æ”¶äººå‘˜ç®¡ç†ï¼Œå¯¹å›æ”¶äººå‘˜æ·»åŠ èº«ä»½æ ‡è¯†å’Œã€‚ èˆ¹äººç½‘ç®¡ç†ç³»ç»Ÿ åç«¯å¼€å‘ 2019-03~2019-07 é¡¹ç›®ä»‹ç»ï¼šè¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªå…³äºèˆ¹èˆ¶çš„åå°ç®¡ç†ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿä¸»è¦æ˜¯èˆ¹èˆ¶åŠå…¶å‘¨è¾¹äº§å“çš„ç§ŸèµåŠå”®å–ç½‘ç«™çš„åå°ç®¡ç†ã€‚ç³»ç»Ÿåç«¯æ˜¯ç”¨çš„SpringMVC+SpringBoot+Mybatisï¼Œæ•°æ®åº“ä½¿ç”¨MySQLï¼Œå‰ç«¯é‡‡ç”¨Vueæ¡†æ¶ã€‚ æˆ‘çš„èŒè´£ æ ¹æ®æµ‹è¯•æäº¤çš„å¯¹ä»£ç è¿›è¡Œè°ƒè¯•ä¿®æ”¹ æ ¹æ®äº§å“éœ€æ±‚å®ç°Vueé¡µé¢å±•ç¤º å®ç°æ¥å£åŠŸèƒ½ é€šå…ƒå¾®è½¯ä»¶æµ‹è¯• è½¯ä»¶æµ‹è¯• 2018-03~2018-11 é¡¹ç›®ä»‹ç»ï¼šæŒ‡é™è„‰æˆ–æŒ‡çº¹+äº‘å¹³å°+ç§»åŠ¨ç«¯APP æˆ‘çš„èŒè´£ äº‘å¹³å°ã€PCç«¯ç¨‹åºåŠç§»åŠ¨ç«¯çš„åŠŸèƒ½æµ‹è¯•åŠæ¥å£æµ‹è¯• äº§å“åŠŸèƒ½æµ‹è¯•ï¼Œæ ¹æ®éœ€æ±‚ã€æµ‹è¯•æ–¹æ¡ˆè¿›è¡Œæµ‹è¯•ç”¨ä¾‹çš„è®¾è®¡ç¼–å†™ æ ¹æ®æµ‹è¯•ç»“æœè¯„ä¼°è½¯ä»¶è´¨é‡ï¼Œæä¾›æµ‹è¯•æŠ¥å‘Š ","date":"2021-03-07","objectID":"/resume/:4:0","tags":["ç®€å†"],"title":"Resume","uri":"/resume/"},{"categories":["å®ä¾‹"],"content":"Go Instance 12-æ’åº","date":"2021-03-03","objectID":"/go-instance-12/","tags":["golang"],"title":"Go Instance 12","uri":"/go-instance-12/"},{"categories":["å®ä¾‹"],"content":"sortè‡ªå¸¦æ’åº Go çš„ sort åŒ…å®ç°äº†å†…ç½®å’Œç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ’åºåŠŸèƒ½ package main import ( \"fmt\" \"sort\" ) func main() { //æ’åºæ–¹æ³•æ˜¯æ­£å¯¹å†…ç½®æ•°æ®ç±»å‹çš„ï¼›è¿™é‡Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¾‹å­ã€‚ // æ³¨æ„æ’åºæ˜¯åŸåœ°æ›´æ–°çš„ï¼Œæ‰€ä»¥ä»–ä¼šæ”¹å˜ç»™å®šçš„åºåˆ—å¹¶ä¸”ä¸è¿”å›ä¸€ä¸ªæ–°å€¼ã€‚ strs := []string{\"c\", \"b\", \"d\", \"a\"} sort.Strings(strs) fmt.Println(strs) //ä¸€ä¸ª int æ’åºçš„ä¾‹å­ã€‚ ints := []int{4,2,3,1} sort.Ints(ints) fmt.Println(ints) //æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ sort æ¥æ£€æŸ¥ä¸€ä¸ªåºåˆ—æ˜¯ä¸æ˜¯å·²ç»æ˜¯æ’å¥½åºçš„ã€‚ sorted := sort.IntsAreSorted(ints) fmt.Println(sorted) } ","date":"2021-03-03","objectID":"/go-instance-12/:1:0","tags":["golang"],"title":"Go Instance 12","uri":"/go-instance-12/"},{"categories":["å®ä¾‹"],"content":"ä½¿ç”¨å‡½æ•°è‡ªå®šä¹‰æ’åº ä½¿ç”¨å’Œé›†åˆçš„è‡ªç„¶æ’åºä¸åŒçš„æ–¹æ³•å¯¹é›†åˆè¿›è¡Œæ’åºã€‚ä¾‹å¦‚æŒ‰å­—æ¯çš„é•¿åº¦è€Œä¸æ˜¯é¦–å­—æ¯é¡ºåºå¯¹å­—ç¬¦ä¸²æ’åºã€‚ package main import ( \"fmt\" \"sort\" ) //ä¸ºäº†åœ¨Goä¸­ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°è¿›è¡Œæ’åºï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªå¯¹åº”ç±»å‹ //è¿™é‡Œåˆ›å»ºä¸€ä¸ªä¸ºå†…ç½®[]stringç±»å‹çš„åˆ«åByLengthç±»å‹ type ByLength []string //åœ¨ç±»å‹ä¸­å®ç°äº†sort.Interface çš„Lenï¼ŒLessï¼ŒSwapæ–¹æ³• //è¿™æ ·å°±å¯ä»¥ä½¿ç”¨sortåŒ…å†…é€šç”¨çš„Sortæ–¹æ³•äº†ï¼ŒLenå’ŒSwapé€šå¸¸åœ¨å„ä¸ªç±»å‹ä¸­å·®ä¸å¤š //Lesså°†æ§åˆ¶å®é™…çš„è‡ªå®šä¹‰æ’åºé€»è¾‘ //åœ¨è¿™ä¸ªä¾‹å­ä¸­æŒ‰å­—ç¬¦ä¸²çš„é•¿åº¦æ¥è¿›è¡Œæ’åºï¼Œæ‰€ä»¥è¿™é‡Œç”¨åˆ°äº†len(s[i])å’Œlen(s[j]) func (s ByLength) Len() int { return len(s) } func (s ByLength) Less(i int, j int) bool { return len(s[i]) \u003c len(s[j]) } func (s ByLength) Swap(i int, j int) { s[i], s[j] = s[j], s[i] } func main() { //å°†åŸå§‹çš„fruitsè½¬å‹æˆByLengthæ¥å®ç°è‡ªå®šä¹‰æ’åº //ç„¶åå¯¹è¿™ä¸ªè½¬å‹çš„åˆ‡ç‰‡ä½¿ç”¨sort.Sortæ–¹æ³• fruits := []string{\"peach\", \"banana\", \"kiwi\"} sort.Sort(ByLength(fruits)) fmt.Println(fruits) } ","date":"2021-03-03","objectID":"/go-instance-12/:2:0","tags":["golang"],"title":"Go Instance 12","uri":"/go-instance-12/"},{"categories":["å®ä¾‹"],"content":"Go Instance 11-Goåç¨‹çŠ¶æ€","date":"2021-02-28","objectID":"/go-instance-11/","tags":["golang"],"title":"Go Instance 11","uri":"/go-instance-11/"},{"categories":["å®ä¾‹"],"content":"Goåç¨‹çŠ¶æ€ åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨äº’æ–¥é”è¿›è¡Œäº†æ˜ç¡®çš„é”å®šæ¥è®©å…±äº«çš„state è·¨å¤šä¸ª Go åç¨‹åŒæ­¥è®¿é—®ã€‚å¦ä¸€ä¸ªé€‰æ‹©æ˜¯ä½¿ç”¨å†…ç½®çš„ Goåç¨‹å’Œé€šé“çš„çš„åŒæ­¥ç‰¹æ€§æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚è¿™ä¸ªåŸºäºé€šé“çš„æ–¹æ³•å’Œ Go é€šè¿‡é€šä¿¡ä»¥åŠ æ¯ä¸ª Go åç¨‹é—´é€šè¿‡é€šè®¯æ¥å…±äº«å†…å­˜ï¼Œç¡®ä¿æ¯å—æ•°æ®æœ‰å•ç‹¬çš„ Go åç¨‹æ‰€æœ‰çš„æ€è·¯æ˜¯ä¸€è‡´çš„ã€‚ package main import ( \"fmt\" \"math/rand\" \"sync/atomic\" \"time\" ) //åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œstateå°†è¢«ä¸€ä¸ªå•ç‹¬çš„åç¨‹æ‹¥æœ‰ //è¿™å°±èƒ½ä¿è¯æ•°æ®åœ¨å¹¶è¡Œè¯»å–æ—¶ä¸ä¼šæ··ä¹±ï¼Œä¸ºäº†å¯¹stateè¿›è¡Œè¯»å–æˆ–å†™å…¥ //å…¶ä»–Goåç¨‹å°†å‘é€ä¸€æ¡æ•°æ®åˆ°æ‹¥æœ‰çš„Goåç¨‹ä¸­ï¼Œç„¶åæ¥å—å¯¹åº”çš„å›å¤ //ç»“æ„ä½“readOpå’ŒwriteOpå°è£…è¿™äº›çŠ¶æ€ï¼Œå¹¶ä¸”æ˜¯æ‹¥æœ‰Goåç¨‹å“åº”çš„ä¸€ä¸ªæ–¹å¼ type readOp struct { key int resp chan int } type writeOp struct { key int value int resp chan bool } func main() { //è®¡ç®—æ‰§è¡Œæ“ä½œçš„æ¬¡æ•° var ops int64 = 0 //readså’Œwritesé€šé“åˆ†åˆ«å°†è¢«å…¶ä»–Goåç¨‹ç”¨æ¥å‘å¸ƒè¯»å’Œå†™è¯·æ±‚ reads := make(chan *readOp) writes := make(chan *writeOp) //è¿™ä¸ªå°±æ˜¯æ‹¥æœ‰stateçš„åç¨‹ã€‚è¿™ä¸ªåç¨‹çš„stateæ˜¯ç§æœ‰çš„ //è¿™ä¸ªGoåç¨‹åå¤å“åº”åˆ°è¾¾çš„è¯·æ±‚ //å…ˆå“åº”åˆ°è¾¾çš„è¯·æ±‚ï¼Œç„¶åè¿”å›ä¸€ä¸ªå€¼åˆ°å“åº”é€šé“respè¡¨ç¤ºæ“ä½œæˆåŠŸ go func() { var state = make(map[int]int) for { select { case read := \u003c- reads: read.resp \u003c- state[read.key] case write := \u003c- writes: state[write.key] = write.value write.resp \u003c- true } } }() //å¯åŠ¨100ä¸ªåç¨‹é€šè¿‡readsé€šé“å‘èµ·å¯¹stateæ‰€æœ‰è€…Goåç¨‹çš„è¯»å–è¯·æ±‚ //æ¯ä¸ªè¯»å–è¯·æ±‚éœ€è¦æ„å»ºä¸€ä¸ªreadOpï¼Œå‘é€å®ƒåˆ°readsé€šé“ä¸­ï¼Œå¹¶é€šè¿‡ç»™å®šçš„respæ¥æ”¶ç»“æœ for i := 0; i \u003c 100; i++ { go func() { for { read := \u0026 readOp{ key: rand.Intn(5), resp: make(chan int), } reads \u003c- read \u003c- read.resp atomic.AddInt64(\u0026ops, 1) } }() } //ç”¨ç›¸åŒçš„æ–¹æ³•å¯åŠ¨10ä¸ªå†™æ“ä½œ for i := 0; i \u003c 10; i++ { go func() { for { write := \u0026writeOp{ key: rand.Intn(5), value: rand.Intn(100), resp: make(chan bool), } writes \u003c- write \u003c- write.resp atomic.AddInt64(\u0026ops, 1) } }() } //è®©Goåç¨‹å…ˆè·‘1ç§’ time.Sleep(time.Second) //æœ€åè·å–å¹¶æ˜¾ç¤ºopså€¼ opsfinal := atomic.LoadInt64(\u0026ops) fmt.Println(opsfinal) } ","date":"2021-02-28","objectID":"/go-instance-11/:1:0","tags":["golang"],"title":"Go Instance 11","uri":"/go-instance-11/"},{"categories":["å®ä¾‹"],"content":"Go Instance 10-åŸå­è®¡æ•°å™¨ï¼Œäº’æ–¥é”","date":"2021-02-28","objectID":"/go-instance-10/","tags":["golang"],"title":"Go Instance 10","uri":"/go-instance-10/"},{"categories":["å®ä¾‹"],"content":"åŸå­è®¡æ•°å™¨ Goä¸­æœ€ä¸»è¦çš„çŠ¶æ€ç®¡ç†æ–¹æ³•æ˜¯é€šè¿‡é€šé“ä¹‹é—´çš„é€šä¿¡å®Œæˆçš„ã€‚åœ¨å·¥ä½œæ± çš„ä¾‹å­ä¸­æœ‰é‡åˆ°ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›å…¶ä»–æ–¹å¼æ¥ç®¡ç†çŠ¶æ€ã€‚å¦‚ä½•ä½¿ç”¨sync/atomicåŒ…åœ¨å¤šä¸ªGoåç¨‹ä¸­è¿›è¡ŒåŸå­è®¡æ•° package main import ( \"fmt\" \"runtime\" \"sync/atomic\" \"time\" ) //åŸå­è®¡æ•°å™¨ func main() { //ä½¿ç”¨ä¸€ä¸ªæ— ç¬¦å·æ•´å‹(æ°¸è¿œæ˜¯æ­£æ•´æ•°)æ¥ä»£è¡¨è¿™ä¸ªè®¡æ•°å™¨ var ops uint64 = 0 //ä¸ºäº†æ¨¡æ‹Ÿå¹¶å‘æ›´æ–°ï¼Œå¯åŠ¨50ä¸ªåç¨‹ï¼Œå¯¹è®¡æ•°å™¨æ¯ä¸ª1æ¯«ç§’è¿›è¡Œä¸€æ¬¡åŠ ä¸€æ“ä½œ for i := 0; i \u003c 50; i++ { go func() { for { //ä½¿ç”¨AddUint64æ¥è®©è®¡æ•°å™¨è‡ªåŠ¨å¢åŠ ï¼Œä½¿ç”¨\u0026è¯­æ³•æ¥æŠ›å‡ºopså†…å­˜åœ°å€ atomic.AddUint64(\u0026ops, 1) //å…è®¸å…¶ä»–Goåç¨‹æ‰§è¡Œ runtime.Gosched() } }() } //ç­‰å¾…1ç§’,è®©Goåç¨‹æœ‰æ—¶é—´è¿è¡Œ time.Sleep(time.Second) //åœ¨è®¡æ•°å™¨è¿˜åœ¨è¢«å…¶ä»–Goåç¨‹æ›´æ–°æ—¶,å®‰å…¨çš„ä½¿ç”¨ //é€šè¿‡LoadUintå°†å½“å‰å€¼æ‹·è´åˆ°opsfinal //LoadUint64 éœ€è¦çš„æ˜¯å†…å­˜åœ°å€ opsfinal := atomic.LoadUint64(\u0026ops) fmt.Println(opsfinal) } ","date":"2021-02-28","objectID":"/go-instance-10/:1:0","tags":["golang"],"title":"Go Instance 10","uri":"/go-instance-10/"},{"categories":["å®ä¾‹"],"content":"äº’æ–¥é” ç›¸è¾ƒäºç®€å•çš„åŸå­è®¡æ•°å™¨ï¼Œå¯¹äºæ›´å¤æ‚çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäº’æ–¥é”åœ¨Goåç¨‹é‡Œå®‰å…¨çš„è®¿é—®æ•°æ® package main import ( \"fmt\" \"math/rand\" \"runtime\" \"sync\" \"sync/atomic\" \"time\" ) func main() { //åœ¨è¿™ä¸ªä¾‹å­ä¸­stateæ˜¯ä¸€ä¸ªmap var state = make(map[int]int) //è¿™é‡Œçš„mutexå°†åŒæ­¥å¯¹mutexçš„è®¿é—® var mutex = \u0026sync.Mutex{} //ä¸ºäº†æ¯”è¾ƒåŸºäºäº’æ–¥é”çš„å¤„ç†æ–¹å¼å’Œå…¶ä»–æ–¹å¼ï¼Œopså°†è®°å½•å¯¹stateçš„æ“ä½œæ¬¡æ•° var ops int64 = 0 //è¿è¡Œ100Goåç¨‹åŒæ—¶è¯»å–state for i := 0; i \u003c 100; i++ { go func() { total := 0 for { //æ¯æ¬¡å¾ªç¯è¯»å–ï¼Œä½¿ç”¨ä¸€ä¸ªé”®è¿›è¡Œè®¿é—® //Lock()è¿™ä¸ªmutexæ¥ç¡®ä¿å¯¹stateçš„ç‹¬å è®¿é—®ï¼Œè¯»å–é€‰å®šé”®çš„å€¼ //Unlock()è¿™ä¸ªstateå¹¶ä½¿ops+1 key := rand.Intn(5) //fmt.Println(\"key:\", key) mutex.Lock() total += state[key] mutex.Unlock() atomic.AddInt64(\u0026ops, 1) //ä¸ºäº†ç¡®ä¿è¿™ä¸ªGoåç¨‹ä¸ä¼šåœ¨è°ƒåº¦ä¸­é¥¿æ­» //æ¯æ¬¡æ“ä½œåæ˜ç¡®ä½¿ç”¨runtime.Gosched()è¿›è¡Œé‡Šæ”¾ //è¿™ä¸ªé‡Šæ”¾ä¸€èˆ¬æ˜¯è‡ªåŠ¨å¤„ç†çš„ï¼Œä¾‹å¦‚æ¯ä¸ªé€šé“æ“ä½œåæˆ–è€…time.Sleepçš„é˜»å¡è°ƒç”¨åç›¸ä¼¼ //ä½†åœ¨è¿™ä¸ªä¾‹å­ä¸­éœ€è¦æ‰‹åŠ¨å¤„ç† runtime.Gosched() } }() } //è¿è¡Œ10ä¸ªGoåç¨‹æ¥æ¨¡æ‹Ÿå†™æ“ä½œï¼Œä½¿ç”¨å’Œè¯»å–ç›¸åŒæ¨¡å¼ for i := 0; i \u003c 10; i++ { go func() { for { key := rand.Intn(5) value := rand.Intn(100) mutex.Lock() state[key] = value mutex.Unlock() atomic.AddInt64(\u0026ops, 1) runtime.Gosched() } }() } //è®©è¿™10ä¸ªGoåç¨‹å¯¹stateå’Œmutexçš„æ“ä½œè¿è¡Œ1ç§’ time.Sleep(time.Second) //è·å–å¹¶è¾“å‡ºæœ€ç»ˆæ“ä½œæ•° opsFinal := atomic.LoadInt64(\u0026ops) fmt.Println(\"ops:\", opsFinal) //å¯¹stateä½¿ç”¨ä¸€ä¸ªæœ€ç»ˆé”ï¼Œæ˜¾ç¤ºæ˜¯å¦‚ä½•ç»“æŸçš„ mutex.Lock() fmt.Println(state) mutex.Unlock() } ","date":"2021-02-28","objectID":"/go-instance-10/:2:0","tags":["golang"],"title":"Go Instance 10","uri":"/go-instance-10/"},{"categories":["å®ä¾‹"],"content":"Go Instance 09-é€Ÿç‡é™åˆ¶","date":"2021-02-27","objectID":"/go-instance-09/","tags":["golang"],"title":"Go Instance 09","uri":"/go-instance-09/"},{"categories":["å®ä¾‹"],"content":"é€Ÿç‡é™åˆ¶ é€Ÿç‡é™åˆ¶(è‹±) æ˜¯ä¸€ä¸ªé‡è¦çš„æ§åˆ¶æœåŠ¡èµ„æºåˆ©ç”¨å’Œè´¨é‡çš„é€”å¾„ã€‚Go é€šè¿‡ Go åç¨‹ã€é€šé“å’Œæ‰“ç‚¹å™¨ä¼˜ç¾çš„æ”¯æŒäº†é€Ÿç‡é™åˆ¶ã€‚ package main import ( \"fmt\" \"time\" ) func main() { //åŸºæœ¬é€Ÿç‡é™åˆ¶ //å¦‚æœæƒ³é™åˆ¶æ¥æ”¶è¯·æ±‚å¤„ç†ï¼Œå¯ä»¥å°†è¿™äº›è¯·æ±‚å‘é€åˆ°ä¸€ä¸ªç›¸åŒé€šé“ requests := make(chan int, 5) for i := 1; i \u003c= 5; i++ { requests \u003c- i } close(requests) //è¿™ä¸ªtické€šé“å°†æ¯200æ¯«ç§’æ¥æ”¶ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªæ˜¯é€Ÿç‡é™åˆ¶ä»»åŠ¡ä¸­çš„ç®¡ç†å™¨ tick := time.Tick(time.Millisecond * 200) //é€šè¿‡åœ¨æ¯æ¬¡è¯·æ±‚å‰é˜»å¡tické€šé“çš„ä¸€ä¸ªæ¥æ”¶ï¼Œé™åˆ¶æ¯éš”200æ¯«ç§’æ¥æ”¶ä¸€ä¸ªå€¼ for row := range requests { \u003c-tick fmt.Println(\"request:\", row, time.Now()) } //æœ‰æ—¶å€™æƒ³ä¸´æ—¶è¿›è¡Œé€Ÿç‡é™åˆ¶ï¼Œå¹¶ä¸”ä¸å½±å“æ•´ä½“é€Ÿç‡æ§åˆ¶å¯ä»¥ä½¿ç”¨é€šé“ç¼“å†²æ¥å®ç° //burstyLimteré€šé“ç”¨æ¥è¿›è¡Œ3æ¬¡ä¸´æ—¶çš„è„‰å†²å‹é€Ÿç‡é™åˆ¶ burstyLimter := make(chan time.Time, 3) //å°†éœ€è¦ä¸´æ—¶æ”¹å˜å€¼ä¼ å…¥ for i := 0; i \u003c 3; i++ { burstyLimter \u003c- time.Now() } //æ¯ä¸ª200æ¯«ç§’æ·»åŠ ä¸€ä¸ªæ–°å€¼åˆ°é€šé“å†…ï¼Œç›´åˆ°è¾¾åˆ°3ä¸ªé™åˆ¶ go func() { for t := range time.Tick(time.Millisecond * 200) { burstyLimter \u003c- t } }() //ç°åœ¨æ¨¡æ‹Ÿ5ä¸ªæ¥å…¥è¯·æ±‚ //åˆšå¼€å§‹3ä¸ªå—ä¸´æ—¶çš„è„‰å†²å½±å“ burstyRequests := make(chan int, 5) for i := 0; i \u003c 5; i++ { burstyRequests \u003c- i } close(burstyRequests) for row := range burstyRequests { \u003c- burstyLimter fmt.Println(\"request2: \", row, time.Now()) } } è¿è¡Œç¨‹åºï¼Œå°†çœ‹åˆ°ç¬¬ä¸€æ‰¹è¯·æ±‚æ„æ–™ä¹‹ä¸­çš„å¤§çº¦æ¯ 200ms å¤„ç†ä¸€æ¬¡ã€‚ç¬¬äºŒæ‰¹è¯·æ±‚ï¼Œæˆ‘ä»¬ç›´æ¥è¿ç»­å¤„ç†äº† 3 æ¬¡ï¼Œè¿™æ˜¯ç”±äºè¿™ä¸ªâ€œè„‰å†²â€é€Ÿç‡æ§åˆ¶ï¼Œç„¶åå¤§çº¦æ¯ 200ms å¤„ç†å…¶ä½™çš„ 2 ä¸ªã€‚ ","date":"2021-02-27","objectID":"/go-instance-09/:1:0","tags":["golang"],"title":"Go Instance 09","uri":"/go-instance-09/"},{"categories":["å®ä¾‹"],"content":"Go Instance 08-æ¨¡æ‹Ÿå·¥ä½œæ± ","date":"2021-02-26","objectID":"/go-instance-08/","tags":["golang"],"title":"Go Instance 08","uri":"/go-instance-08/"},{"categories":["å®ä¾‹"],"content":"å·¥ä½œæ±  åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨GOåç¨‹å’Œé€šé“å®ç°ä¸€ä¸ªå·¥ä½œæ±  package main import ( \"fmt\" \"time\" ) //è¿™æ˜¯å°†è¦åœ¨å¤šä¸ªå¹¶å‘å®ä¾‹ä¸­æ”¯æŒçš„ä»»åŠ¡ //è¿™äº›æ‰§è¡Œè€…å°†ä»jobsé€šé“æ¥æ”¶ä»»åŠ¡ï¼Œå¹¶é€šè¿‡resultså‘é€å¯¹åº”ç»“æœ //è®©æ¯ä¸ªä»»åŠ¡ç¡1ç§’ï¼Œæ¨¡æ‹Ÿè€—æ—¶ä»»åŠ¡ func worker(i int, jobs \u003c-chan int, results chan\u003c- int) { for j := range jobs{ fmt.Printf(\"worker %d processing job %d \\n\", i, j ) time.Sleep(time.Second) results \u003c- j } } func main() { //ä½¿ç”¨workerå·¥ä½œæ± å¹¶æ”¶é›†ç»“æœï¼Œéœ€è¦ä¸¤ä¸ªé€šé“ jobs := make(chan int, 100) results := make(chan int, 100) //è¿™é‡Œå¯åŠ¨ä¸‰ä¸ªworkerï¼Œåˆå§‹æ˜¯é˜»å¡çš„ï¼Œå› ä¸ºè¿˜æ²¡æœ‰ä»»åŠ¡ for i := 1; i \u003c= 3; i++ { go worker(i, jobs, results) } //å‘é€9ä¸ªä»»åŠ¡ï¼Œç„¶åcloseè¡¨ç¤ºè¿™äº›å°±æ˜¯æ‰€æœ‰ä»»åŠ¡äº† for i := 1; i \u003c= 9; i++ { jobs \u003c- i } close(jobs) //æ”¶é›†æ‰€æœ‰ä»»åŠ¡çš„è¿”å›å€¼ for i := 1; i \u003c= 9; i++ { \u003c-results } } æ‰§è¡Œè¿™ä¸ªç¨‹åºï¼Œæ˜¾ç¤º9ä¸ªä»»åŠ¡è¢«å¤šä¸ªworkeræ‰§è¡Œã€‚æ•´ä¸ªç¨‹åºå¤„ç†æ‰€æœ‰ä»»åŠ¡ä»…æ‰§è¡Œäº†3ç§’ï¼Œå› ä¸ºæ˜¯3ä¸ªworkerå¹¶è¡Œçš„ ","date":"2021-02-26","objectID":"/go-instance-08/:1:0","tags":["golang"],"title":"Go Instance 08","uri":"/go-instance-08/"},{"categories":["å®ä¾‹"],"content":"Go Instance 07-Goå®šæ—¶å™¨å’Œæ‰“ç‚¹å™¨","date":"2021-02-25","objectID":"/go-instance-07/","tags":["golang"],"title":"Go Instance 07","uri":"/go-instance-07/"},{"categories":["å®ä¾‹"],"content":"å®šæ—¶å™¨ å½“éœ€è¦åœ¨åé¢ä¸€ä¸ªæ—¶åˆ»è¿è¡ŒGoä»£ç ï¼Œæˆ–è€…åœ¨æŸæ®µæ—¶é—´å†…é‡å¤è¿è¡Œã€‚Goå†…ç½®çš„å®šæ—¶å™¨å’Œæ‰“ç‚¹å™¨è®©è¿™äº›å¾ˆå®¹æ˜“å®ç° package main import ( \"fmt\" \"time\" ) func main() { //å®šæ—¶å™¨è¡¨ç¤ºåœ¨æœªæ¥æŸä¸€æ—¶åˆ»çš„ç‹¬ç«‹äº‹ä»¶ //æä¾›å®šæ—¶å™¨éœ€è¦çš„æ—¶é—´ï¼Œå®šæ—¶å™¨å°†æä¾›ä¸€ä¸ªç”¨äºé€šçŸ¥çš„é€šé“ //è¿™é‡Œè®¾ç½®å®šæ—¶å™¨å°†ç­‰å¾…2ç§’ timer1 := time.NewTimer(time.Second * 2) //\u003c-timer1.C ç›´åˆ°è¿™ä¸ªå®šæ—¶å™¨çš„é€šé“Cæ˜ç¡®çš„å‘é€äº†å®šæ—¶å™¨å¤±æ•ˆçš„å€¼ä¹‹å‰ï¼Œä¸€ç›´é˜»å¡ \u003c-timer1.C fmt.Println(\"Timer 1 expired\") //å¦‚æœéœ€è¦çš„ä»…ä»…æ˜¯ç­‰å¾…ï¼Œå¯ä»¥ä½¿ç”¨Sleep //å®šæ—¶å™¨æœ‰ç”¨çš„åŸå› ä¹‹ä¸€æ˜¯å¯ä»¥åœ¨å®šæ—¶å™¨å¤±æ•ˆå‰å–æ¶ˆå®šæ—¶å™¨ timer2 := time.NewTimer(time.Second * 2) go func() { \u003c- timer2.C fmt.Println(\"Timer 2 expired\") }() stop := timer2.Stop() if stop { fmt.Println(\"Timer 2 stop\") } } ç¬¬ä¸€ä¸ªå®šæ—¶å™¨å°†åœ¨ç¨‹åºå¼€å§‹å2ç§’å¤±æ•ˆï¼Œç¬¬äºŒä¸ªåœ¨å…¶è¿˜æ²¡å¤±æ•ˆå‰å°±è¢«åœæ­¢äº† ","date":"2021-02-25","objectID":"/go-instance-07/:1:0","tags":["golang"],"title":"Go Instance 07","uri":"/go-instance-07/"},{"categories":["å®ä¾‹"],"content":"æ‰“ç‚¹å™¨ å®šæ—¶å™¨æ˜¯å½“ä½ æƒ³è¦åœ¨æœªæ¥æŸä¸€æ—¶åˆ»æ‰§è¡Œä¸€æ¬¡æ—¶ä½¿ç”¨ï¼Œæ‰“ç‚¹å™¨æ˜¯å½“ä½ æƒ³è¦åœ¨å›ºå®šçš„æ—¶é—´é—´éš”é‡å¤æ‰§è¡Œå‡†å¤‡çš„ã€‚è¿™æ˜¯ä¸€ä¸ªæ‰“ç‚¹å™¨çš„ä¾‹å­ï¼Œå®ƒå°†å®šæ—¶æ‰§è¡Œï¼Œç›´åˆ°æˆ‘ä»¬å°†å®ƒåœæ­¢ package main import ( \"fmt\" \"time\" ) func main() { //æ‰“ç‚¹å™¨å’Œå®šæ—¶å™¨çš„æœºåˆ¶æœ‰ç‚¹ç›¸ä¼¼ï¼šä¸€ä¸ªé€šé“ç”¨æ¥å‘é€æ•°æ®ã€‚ // è¿™é‡Œæˆ‘ä»¬åœ¨è¿™ä¸ªé€šé“ä¸Šä½¿ç”¨å†…ç½®çš„ range æ¥è¿­ä»£å€¼æ¯éš”500ms å‘é€ä¸€æ¬¡çš„å€¼ã€‚ ticker := time.NewTicker(time.Millisecond * 500) go func() { for t := range ticker.C { fmt.Println(\"Tick at \", t) } }() //æ‰“ç‚¹å™¨å¯ä»¥å’Œå®šæ—¶å™¨ä¸€æ ·è¢«åœæ­¢ã€‚ä¸€æ—¦ä¸€ä¸ªæ‰“ç‚¹åœæ­¢äº†ï¼Œå°†ä¸èƒ½å†ä»å®ƒçš„é€šé“ä¸­æ¥æ”¶åˆ°å€¼ã€‚ // æˆ‘ä»¬å°†åœ¨è¿è¡Œå 1600msåœæ­¢è¿™ä¸ªæ‰“ç‚¹å™¨ã€‚ time.Sleep(time.Millisecond * 1000) ticker.Stop() fmt.Println(\"Ticker stopped\") } ","date":"2021-02-25","objectID":"/go-instance-07/:2:0","tags":["golang"],"title":"Go Instance 07","uri":"/go-instance-07/"},{"categories":["ç”Ÿæ´»"],"content":"å­¦ä¹ è¿›åº¦","date":"2021-02-25","objectID":"/learning-process/","tags":["æˆ‘çš„"],"title":"Learning Process","uri":"/learning-process/"},{"categories":["ç”Ÿæ´»"],"content":"ç‹‚ç¥è¯´java javaé›¶åŸºç¡€å­¦ä¹ è§†é¢‘é€šä¿—æ˜“æ‡‚(p27) ","date":"2021-02-25","objectID":"/learning-process/:1:0","tags":["æˆ‘çš„"],"title":"Learning Process","uri":"/learning-process/"},{"categories":["ç”Ÿæ´»"],"content":"Tears-Tearing Googleèµ„æ·±å·¥ç¨‹å¸ˆå¸¦ä½ é€šå…³golang/goè¯­è¨€(p43) ","date":"2021-02-25","objectID":"/learning-process/:2:0","tags":["æˆ‘çš„"],"title":"Learning Process","uri":"/learning-process/"},{"categories":["ç”Ÿæ´»"],"content":"å´”æ°¸åcsdnåšå®¢ å•å…ƒæµ‹è¯•æ¡ˆä¾‹ å­¦ä¹ goè¯­è¨€å¿…å¤‡æ¡ˆä¾‹(4) ","date":"2021-02-25","objectID":"/learning-process/:3:0","tags":["æˆ‘çš„"],"title":"Learning Process","uri":"/learning-process/"},{"categories":["å®ä¾‹"],"content":"Go Instance 06-defer+recoverè§£å†³panic","date":"2021-02-23","objectID":"/go-instance-06/","tags":["golang"],"title":"Go Instance 06","uri":"/go-instance-06/"},{"categories":["å®ä¾‹"],"content":"defer+recoverè§£å†³panicå¯¼è‡´ç¨‹åºå´©æºƒ ","date":"2021-02-23","objectID":"/go-instance-06/:1:0","tags":["golang"],"title":"Go Instance 06","uri":"/go-instance-06/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹1 å¦‚æœæˆ‘ä»¬èµ·äº†ä¸€ä¸ªåç¨‹ï¼Œä½†è¿™ä¸ªåç¨‹å‡ºç°äº†panicï¼Œä½†æˆ‘ä»¬æ²¡æœ‰æ•è·è¿™ä¸ªåç¨‹ï¼Œå°±ä¼šé€ æˆç¨‹åºçš„å´©æºƒï¼Œè¿™æ—¶å¯ä»¥åœ¨goroutineä¸­ä½¿ç”¨recoveræ¥æ•è·panicï¼Œè¿›è¡Œå¤„ç†ï¼Œè¿™æ ·ä¸»çº¿ç¨‹ä¸ä¼šå—åˆ°å½±å“ package main import ( \"fmt\" \"time\" ) func sayhello() { for i := 0; i \u003c 10; i++ { fmt.Println(\"hello\") time.Sleep(time.Second) } } func test() { //ä½¿ç”¨defer+recover defer func() { //æ•è·testæŠ›å‡ºçš„panic if err := recover(); err != nil { fmt.Println(\"test å‘ç”Ÿé”™è¯¯ï¼š\", err) } }() var myMap map[int]string myMap[0] = \"golang\" } func main() { go sayhello() go test() for i := 0; i \u003c 10; i++ { fmt.Println(\"main() ok=\", i) time.Sleep(time.Second) } } ","date":"2021-02-23","objectID":"/go-instance-06/:1:1","tags":["golang"],"title":"Go Instance 06","uri":"/go-instance-06/"},{"categories":["å®ä¾‹"],"content":"Go Instance 05-selectè§£å†³é€šé“å µå¡","date":"2021-02-23","objectID":"/go-instance-05/","tags":["golang"],"title":"Go Instance 05","uri":"/go-instance-05/"},{"categories":["å®ä¾‹"],"content":"ä½¿ç”¨selectè§£å†³ä»ç®¡é“å–æ•°æ®å µå¡é—®é¢˜ ä½¿ç”¨selectè§£å†³ä»ç®¡é“å–æ•°æ®å µå¡çš„é—®é¢˜ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š selectè¯­æ³•\u0026ldquo;selectè¯­æ³•\u0026rdquo; \"\rselectè¯­æ³•\r package main import ( \"fmt\" \"time\" ) func main() { //å®šä¹‰ä¸€ä¸ªç®¡é“ï¼Œå¯ä»¥æ”¾10ä¸ªintç±»å‹æ•°æ® intChan := make(chan int, 10) for i := 0; i \u003c 10; i++ { intChan \u003c- i } //å®šä¹‰ä¸€ä¸ªç®¡é“ï¼Œå¯ä»¥æ”¾5ä¸ªstringç±»å‹æ•°æ® stringChan := make(chan string, 5) for i := 0; i \u003c 5; i++ { stringChan \u003c- \"hello\" + fmt.Sprintf(\"%d\", i) } //ä¼ ç»Ÿçš„æ–¹æ³•éå†ç®¡é“æ—¶ï¼Œå¦‚æœä¸å…³é—­ä¼šé˜»å¡è€Œå¯¼è‡´deadlock //å®é™…å¼€å‘ä¸­ï¼Œä¸å¥½ç¡®å®šä»€ä¹ˆæ—¶å€™å…³é—­é€šé“ //è¿™æ—¶å¯ä»¥ä½¿ç”¨selectæ–¹å¼è§£å†³ //label for { select { //ç®¡é“ä¸å…³é—­ä¸ä¼šdeadlockï¼Œä¼šè‡ªåŠ¨åˆ°ä¸‹ä¸€ä¸ªcaseåŒ¹é… case v := \u003c-intChan: fmt.Printf(\"ä»intChanè¯»å–çš„æ•°æ®%d\\n\", v) time.Sleep(time.Second) case v := \u003c-stringChan: fmt.Printf(\"ä»stringChanè¯»å–çš„æ•°æ®%v\\n\", v) time.Sleep(time.Second) default: fmt.Printf(\"å–ä¸åˆ°æ•°æ®\\n\") time.Sleep(time.Second) return //break label } } } ","date":"2021-02-23","objectID":"/go-instance-05/:1:0","tags":["golang"],"title":"Go Instance 05","uri":"/go-instance-05/"},{"categories":["å®ä¾‹"],"content":"Go Instance 04-goroutineå’Œchannel","date":"2021-02-23","objectID":"/go-instance-04/","tags":["golang"],"title":"Go Instance 04","uri":"/go-instance-04/"},{"categories":["å®ä¾‹"],"content":"goroutineå’Œchannel ","date":"2021-02-23","objectID":"/go-instance-04/:1:0","tags":["golang"],"title":"Go Instance 04","uri":"/go-instance-04/"},{"categories":["å®ä¾‹"],"content":"goroutineå’ŒchannelååŒå·¥ä½œ å…·ä½“è¦æ±‚ å¼€å¯ä¸€ä¸ªwriteDataåç¨‹ï¼Œå‘ç®¡é“intChanä¸­å†™å…¥50ä¸ªæ•´æ•° å¼€å¯ä¸€ä¸ªreadDataåç¨‹ï¼Œä»ç®¡é“intChanä¸­è¯»å–writeDataå†™å…¥çš„æ•°æ® æ³¨æ„writeDataå’ŒreadDataæ“ä½œçš„æ˜¯åŒä¸€ä¸ªç®¡é“ ä¸»çº¿ç¨‹éœ€è¦ç­‰å¾…writeDataå’ŒreadDataåç¨‹éƒ½å®Œæˆå·¥ä½œæ‰èƒ½é€€å‡ºç®¡é“ æ€è·¯åˆ†æ æ€è·¯åˆ†æ\u0026ldquo;æ€è·¯åˆ†æ\u0026rdquo; \"\ræ€è·¯åˆ†æ\r package main import \"fmt\" func writeData(intChan chan int) { for i := 1; i \u003c= 50; i++ { intChan \u003c-i fmt.Println(\"write:\", i) } close(intChan) } func readData(intChan chan int, exitChan chan bool) { for { n, ok := \u003c-intChan if !ok { break } fmt.Println(\"read:\", n) } exitChan \u003c- true close(exitChan) } func main() { intChan := make(chan int, 50) exitChan := make(chan bool, 1) go writeData(intChan) go readData(intChan, exitChan) for { _, ok := \u003c-exitChan if !ok { break } } } è¯»å’Œå†™é¢‘ç‡ä¸ä¸€æ ·ä¹Ÿæ²¡æœ‰é—®é¢˜ package main import ( \"fmt\" \"time\" ) func writeData(intChan chan int) { for i := 0; i \u003c 50; i++ { intChan \u003c- i fmt.Println(\"write:\", i) } close(intChan) } func readData(intChan chan int, exitChan chan bool) { for { v, ok := \u003c-intChan if !ok { break } time.Sleep(time.Second) fmt.Println(\"read:\", v) } exitChan \u003c- true close(exitChan) } func main() { intChan := make(chan int, 10) exitChan := make(chan bool, 1) go writeData(intChan) go readData(intChan, exitChan) for { if _, ok := \u003c-exitChan; !ok{ break } } } æ³¨æ„ï¼šå¦‚æœåªå‘ç®¡é“å†™å…¥æ•°æ®è€Œæ²¡æœ‰è¯»å–ï¼Œå°±ä¼šé€ æˆå µå¡è€Œdeadlock ","date":"2021-02-23","objectID":"/go-instance-04/:1:1","tags":["golang"],"title":"Go Instance 04","uri":"/go-instance-04/"},{"categories":["å­¦ä¹ "],"content":"Go Study 15-channel","date":"2021-02-22","objectID":"/go-study-15/","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"channel ","date":"2021-02-22","objectID":"/go-study-15/:1:0","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"channel ","date":"2021-02-22","objectID":"/go-study-15/:1:1","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"buffered channel(å¸¦ç¼“å†²åŒºçš„channel) ","date":"2021-02-22","objectID":"/go-study-15/:1:2","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"range(å…³é—­channel) ","date":"2021-02-22","objectID":"/go-study-15/:1:3","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"ç†è®ºåŸºç¡€Communication Sequential Process(CSP) ","date":"2021-02-22","objectID":"/go-study-15/:1:4","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-22","objectID":"/go-study-15/:2:0","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"channel(é€šé“) é€šé“æ˜¯è¿æ¥å¤šä¸ªGoåç¨‹çš„ç®¡é“ï¼Œå¯ä»¥ä»ä¸€ä¸ªGoåç¨‹å°†å€¼å‘é€åˆ°é€šé“ï¼Œç„¶ååœ¨åˆ«çš„Goåç¨‹ä¸­æ¥æ”¶ package main import ( \"fmt\" ) func channel1() { //ä½¿ç”¨make(chan val-type)åˆ›å»ºä¸€ä¸ªæ–°çš„é€šé“ //é€šé“ç±»å‹å°±æ˜¯ä¼ é€’å€¼çš„ç±»å‹ message := make(chan string) //ä½¿ç”¨ channel \u003c- è¯­æ³•å‘é€ä¸€ä¸ªæ–°çš„å€¼åˆ°é€šé“ä¸­ go func() { message \u003c- \"ping\" }() fmt.Println(message) //ä½¿ç”¨ \u003c- channel è¯­æ³•ä»é€šé“ä¸­è·å–ä¸€ä¸ªå€¼ msg := \u003c- message fmt.Println(msg) } func main() { channel1() } è¿è¡Œç¨‹åºæ—¶ï¼Œé€šè¿‡é€šé“ï¼Œæ¶ˆæ¯â€œpingâ€æˆåŠŸçš„ä»ä¸€ä¸ªGoåç¨‹ä¼ åˆ°å¦ä¸€ä¸ªã€‚é»˜è®¤å‘é€å’Œæ¥æ”¶æ“ä½œæ˜¯é˜»å¡çš„ï¼Œç›´åˆ°å‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½å‡†å¤‡å®Œæ¯•ã€‚è¿™ä¸ªç‰¹æ€§å…è®¸ä¸ä½¿ç”¨ä»»ä½•å…¶ä»–çš„åŒæ­¥æ“ä½œï¼Œå¯ä»¥åœ¨ç¨‹åºç»“å°¾ç­‰å¾…æ¶ˆæ¯â€œpingâ€ ","date":"2021-02-22","objectID":"/go-study-15/:2:1","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“ç¼“å†² é»˜è®¤é€šé“æ˜¯æ— ç¼“å†²çš„ï¼Œè¿™æ„å‘³ç€åªæœ‰åœ¨å¯¹åº”çš„æ¥æ”¶(\u003c-chan)é€šé“å‡†å¤‡å¥½æ¥æ”¶æ—¶æ‰å…è®¸å‘é€(chan\u003c-)ã€‚å¯ç¼“å†²é€šé“å…è®¸åœ¨æ²¡æœ‰æ¥æ”¶æ–¹çš„æƒ…å†µä¸‹ï¼Œç¼“å­˜é™å®šæ•°é‡çš„å€¼ package main import ( \"fmt\" ) func channel2() { //è¿™é‡Œmakeäº†ä¸€ä¸ªé€šé“ï¼Œæœ€å¤šå…è®¸ç¼“å­˜2ä¸ªå€¼ message := make(chan string, 2) //å› ä¸ºè¿™ä¸ªé€šé“æœ‰ç¼“å†²åŒºï¼Œå³ä½¿æ²¡æœ‰ä¸€ä¸ªå¯¹åº”çš„å¹¶å‘æ¥æ”¶æ–¹ï¼Œä¹Ÿå¯ä»¥ç»§ç»­å‘é€ message \u003c- \"buffered\" message \u003c- \"channel\" //æ¥æ”¶æ—¶ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸¤ä¸ªå€¼ fmt.Println(\u003c-message) fmt.Println(\u003c-message) } func main() { channel2() } ","date":"2021-02-22","objectID":"/go-study-15/:2:2","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“åŒæ­¥ å¯ä»¥ä½¿ç”¨é€šé“æ¥åŒæ­¥Goåç¨‹é—´çš„æ‰§è¡ŒçŠ¶æ€ã€‚è¿™é‡Œä½¿ç”¨é˜»å¡çš„æ¥æ”¶æ–¹å¼æ¥ç­‰å¾…ä¸€ä¸ªGoåç¨‹çš„è¿è¡Œç»“æŸ package main import ( \"fmt\" \"time\" ) func channel3() { //åˆ›å»ºä¸€ä¸ªç¼“å­˜ä¸º1çš„boolç±»å‹é€šé“ done := make(chan bool, 1) //è¿è¡Œä¸€ä¸ªworker Goåç¨‹ï¼Œå¹¶ç»™äºˆç”¨äºé€šçŸ¥çš„é€šé“ go worker(done) //ç¨‹åºå°†åœ¨æ¥æ”¶åˆ°é€šé“ä¸­workerå‘å‡ºçš„é€šçŸ¥å‰ä¸€ç›´é˜»å¡ \u003c-done } //è¿™æ˜¯ä¸€ä¸ªæˆ‘ä»¬å°†è¦åœ¨ Go åç¨‹ä¸­è¿è¡Œçš„å‡½æ•°ã€‚ // done é€šé“å°†è¢«ç”¨äºé€šçŸ¥å…¶ä»– Go åç¨‹è¿™ä¸ªå‡½æ•°å·²ç»å·¥ä½œå®Œæ¯• func worker(done chan bool) { fmt.Println(\"working...\") time.Sleep(time.Second) fmt.Println(\"done\") //å‘é€ä¸€ä¸ªå€¼æ¥é€šçŸ¥å®Œå·¥å•¦ã€‚ done \u003c- true } func main() { channel3() } å¦‚æœå°†done \u003c- trueè¿™è¡Œä»£ç ä»ç¨‹åºä¸­ç§»é™¤ï¼Œç¨‹åºç”šè‡³ä¼šåœ¨workerè¿˜æ²¡å¼€å§‹è¿è¡Œå°±ç»“æŸ ","date":"2021-02-22","objectID":"/go-study-15/:2:3","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“æ–¹å‘ å½“ä½¿ç”¨é€šé“ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå¯ä»¥æŒ‡å®šé€šé“æ˜¯ä¸æ˜¯åªç”¨æ¥æ¥æ”¶æˆ–å‘é€å€¼ã€‚è¿™ä¸ªç‰¹æ€§æå‡äº†ç¨‹åºçš„ç±»å‹å®‰å…¨æ€§ package main import ( \"fmt\" ) func channel4() { pings := make(chan string, 1) pongs := make(chan string, 1) ping(pings, \"message\") pong(pings, pongs) fmt.Println(\u003c-pongs) } //pingå‡½æ•°å®šä¹‰ä¸€ä¸ªåªå…è®¸å‘é€æ•°æ®çš„é€šé“ //å°è¯•ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥æ¥æ”¶æ•°æ®ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘æ—¶é”™è¯¯ func ping(pings chan\u003c- string, str string) { pings \u003c- str } //pongå‡½æ•°å…è®¸é€šé“pingsæ¥æ”¶å‡½æ•°ï¼Œé€šé“pongså‘é€å‡½æ•° func pong(pings \u003c-chan string, pongs chan\u003c- string) { msg := \u003c-pings pongs \u003c- msg } func main() { channel4() } ","date":"2021-02-22","objectID":"/go-study-15/:2:4","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“é€‰æ‹©å™¨ Goçš„é€šé“é€‰æ‹©å™¨å¯ä»¥åŒæ—¶ç­‰å¾…å¤šä¸ªé€šé“æ“ä½œã€‚Goåç¨‹å’Œé€šé“ä»¥åŠé€‰æ‹©å™¨çš„ç»“åˆæ˜¯Goçš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ package main import ( \"fmt\" \"time\" ) func main() { //åˆ›å»º2ä¸ªé€šé“ï¼Œä»è¿™ä¸¤ä¸ªé€‰æ‹© c1 := make(chan string, 1) c2 := make(chan string, 1) //c1é€šé“åœ¨1ç§’åæ¥æ”¶å€¼ï¼Œè¿™ä¸ªæ¨¡æ‹ŸGoåç¨‹ä¸­é˜»å¡çš„RPCæ“ä½œ go func() { time.Sleep(time.Second) c1 \u003c- \"one\" }() //c2é€šé“åœ¨2ç§’åæ¥æ”¶å€¼ go func() { time.Sleep(time.Second * 2) c2 \u003c- \"two\" }() //ä½¿ç”¨selectå…³é”®å­—æ¥åŒæ—¶ç­‰å¾…è¿™ä¸¤ä¸ªå€¼ï¼Œå¹¶æ‰“å°å„è‡ªçš„å€¼ for i :=0; i \u003c 2; i++ { select { case msg := \u003c-c1: fmt.Println(msg) case msg := \u003c-c2: fmt.Println(msg) } } } æ³¨æ„ä¸¤ä¸ªåç¨‹å¹¶å‘è¿è¡Œï¼Œç¨‹åºæ€»å…±ä»…è¿è¡Œ2ç§’å·¦å³ ","date":"2021-02-22","objectID":"/go-study-15/:2:5","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"è¶…æ—¶å¤„ç† è¶…æ—¶å¯¹äºä¸€ä¸ªè¿æ¥å¤–éƒ¨èµ„æºï¼Œæˆ–è€…å…¶ä»–ä¸€äº›éœ€è¦èŠ±è´¹æ‰§è¡Œæ—¶é—´æ“ä½œçš„ç¨‹åºè€Œè¨€æ˜¯å¾ˆé‡è¦çš„ã€‚å¾—ç›Šäºé€šé“å’Œselectï¼Œåœ¨Goä¸­å®ç°è¶…æ—¶æ“ä½œæ˜¯ç®€æ´è€Œä¼˜é›…çš„ package main import ( \"fmt\" \"time\" ) func main() { //åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰§è¡Œä¸€ä¸ªå¤–éƒ¨è°ƒç”¨ï¼Œåœ¨2ç§’åé€šè¿‡é€šé“c1è¿”å›æ‰§è¡Œç»“æœ c1 := make(chan string, 1) go func() { time.Sleep(time.Second * 2) c1 \u003c- \"result 1\" }() //ä½¿ç”¨selectå®ç°è¶…æ—¶æ“ä½œ //result := \u003c-c1ç­‰å¾…ç»“æœï¼Œ\u003c-Time.Afterç­‰å¾…è¶…æ—¶1ç§’åå‘é€çš„å€¼ //ç”±äºselecté»˜è®¤å¤„ç†ç¬¬ä¸€ä¸ªå·²å‡†å¤‡å¥½çš„æ¥æ”¶æ“ä½œï¼Œå¦‚æœè¿™ä¸ªæ“ä½œè¶…è¿‡å…è®¸çš„1ç§’çš„è¯ï¼Œå°†ä¼šæ‰§è¡Œè¶…æ—¶case select { case result := \u003c- c1: fmt.Println(result) case \u003c-time.After(time.Second * 1): fmt.Println(\"result1 è¶…æ—¶\") } //æ‰§è¡Œä¸€ä¸ªå¤–éƒ¨è°ƒç”¨ï¼Œ2ç§’åé€šè¿‡é€šé“c2è¿”å›æ‰§è¡Œç»“æœ c2 := make(chan string, 1) go func() { time.Sleep(time.Second * 2) c2 \u003c- \"result 2\" }() //å°†è¶…æ—¶å»¶é•¿è‡³3ç§’ï¼Œå¦‚æœæ“ä½œå°äº3ç§’å°†æ‰§è¡Œresultè¾“å‡ºcase select { case result := \u003c-c2: fmt.Println(result) case \u003c-time.After(time.Second * 3): fmt.Println(\"result2è¶…æ—¶\") } } è¿è¡Œç¨‹åºï¼Œé¦–å…ˆæ˜¾ç¤ºè¿è¡Œè¶…æ—¶çš„æ“ä½œï¼Œç„¶åæ˜¯æˆåŠŸæ¥æ”¶çš„ã€‚ä½¿ç”¨selectè¶…æ—¶æ–¹å¼éœ€è¦ä½¿ç”¨é€šé“ä¼ é€’ç»“æœã€‚è¿™å¯¹äºä¸€èˆ¬æƒ…å†µæ˜¯ä¸ªå¥½æ–¹å¼ï¼Œå› ä¸ºå…¶ä»–é‡è¦çš„Goç‰¹æ€§æ˜¯åŸºäºé€šé“å’Œselectçš„ ","date":"2021-02-22","objectID":"/go-study-15/:2:6","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"éé˜»å¡å¼é€šé“æ“ä½œ å¸¸è§„çš„é€šè¿‡é€šé“å‘é€å’Œæ¥æ”¶æ•°æ®æ˜¯é˜»å¡çš„ã€‚ç„¶è€Œï¼Œå¯ä»¥ä½¿ç”¨å¸¦defaultå­å¥selectæ¥å®ç°éé˜»å¡çš„å‘é€ã€æ¥æ”¶ï¼Œç”šè‡³æ˜¯éé˜»å¡çš„å¤šè·¯select package main import \"fmt\" //è¿™æ˜¯ä¸€ä¸ªéé˜»å¡æ¥æ”¶çš„ä¾‹å­ func main() { message := make(chan string, 1) signal := make(chan string, 1) //å¦‚æœmessageæœ‰å€¼å­˜åœ¨ï¼Œselectå°†å€¼ä¼ åˆ°msgä¸­ //å¦‚æœä¸å­˜åœ¨ç›´æ¥æ‰§è¡Œdefault select { case msg := \u003c-message: fmt.Println(\"received message:\", msg) default: fmt.Println(\"no message receives\") } //è¿™ä¸ªéé˜»å¡æ–¹æ³•ï¼Œå¦‚æœmsgæˆåŠŸå‘messageä¼ å€¼ï¼Œæ‰§è¡Œcase //å¦åˆ™æ‰§è¡Œdefault msg := \"hi\" select { case message \u003c- msg: fmt.Println(\"sent message:\", msg) default: fmt.Println(\"no message sent\") } signal \u003c- \"world\" //å¯ä»¥åœ¨defaultå‰ä½¿ç”¨å¤šä¸ªcaseå­å¥å®ç°ä¸€ä¸ªå¤šè·¯çš„éé˜»å¡çš„é€‰æ‹©å™¨ //è¿™é‡Œå°è¯•åœ¨messageå’Œsignalä¸ŠåŒæ—¶ä½¿ç”¨éé˜»å¡çš„æ¥æ”¶æ“ä½œ //å¦‚æœcase1å’Œcase2éƒ½æ»¡è¶³ï¼Œéšæœºæ‰§è¡Œcase1æˆ–case2 select { case msg := \u003c-message: fmt.Println(\"receives message:\", msg) case sign := \u003c-signal: fmt.Println(\"receives signal:\", sign) default: fmt.Println(\"no activity\") } } ","date":"2021-02-22","objectID":"/go-study-15/:2:7","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“çš„å…³é—­ å…³é—­ä¸€ä¸ªé€šé“æ„å‘³ç€ä¸èƒ½å†å‘è¿™ä¸ªé€šé“å‘é€å€¼äº†ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥ç”¨æ¥ç»™è¿™ä¸ªé€šé“æ¥æ”¶æ–¹ä¼ è¾¾å·¥ä½œå·²ç»å®Œæˆçš„æ¶ˆæ¯ package main import \"fmt\" func main() { //åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°†ä½¿ç”¨ä¸€ä¸ªjobsé€šé“æ¥ä¼ é€’main()ä¸­Goåç¨‹ä»»åŠ¡æ‰§è¡Œçš„ç»“æœä¿¡æ¯åˆ°ä¸€ä¸ªå·¥ä½œGoåç¨‹ä¸­ //å½“æ²¡æœ‰å¤šä½™ä»»åŠ¡ç»™è¿™ä¸ªå·¥ä½œGoåç¨‹æ—¶ï¼Œå¯ä»¥closeè¿™ä¸ªjobsé€šé“ job := make(chan int, 5) done := make(chan bool, 1) //è¿™æ˜¯å·¥ä½œGoåç¨‹ï¼Œä½¿ç”¨j, more := \u003c-jobå¾ªç¯ä»jobæ¥æ”¶æ•°æ® //åœ¨æ¥æ”¶çš„è¿™ä¸ªç‰¹æ®Šçš„äºŒå€¼å½¢å¼çš„å€¼ä¸­ï¼Œå¦‚æœjobå·²ç»å…³é—­ï¼Œå¹¶ä¸”é€šé“ä¸­çš„æ‰€æœ‰å€¼éƒ½å·²ç»æ¥æ”¶å®Œæ¯• //é‚£ä¹ˆmoreçš„å€¼å°†æ˜¯falseã€‚å½“å®Œæˆæ‰€æœ‰ä»»åŠ¡æ—¶ï¼Œå°†ä½¿ç”¨è¿™ä¸ªç‰¹æ€§é€šè¿‡doneé€šé“å»è¿›è¡Œé€šçŸ¥ go func() { for { j, more := \u003c-job if more { fmt.Println(\"received job:\", j) } else { fmt.Println(\"received all jobs\") done \u003c- true return } } }() //è¿™é‡Œä½¿ç”¨jobå‘é€3ä¸ªä»»åŠ¡åˆ°å·¥ä½œå‡½æ•°ä¸­ï¼Œç„¶åå…³é—­job for i := 1; i \u003c= 3; i++ { job \u003c- i fmt.Println(\"sent job:\", i) } close(job) fmt.Println(\"sent all job\") //ä½¿ç”¨é€šé“åŒæ­¥æ–¹æ³•ç­‰å¾…ä»»åŠ¡ç»“æŸ \u003c-done } ","date":"2021-02-22","objectID":"/go-study-15/:2:8","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å­¦ä¹ "],"content":"é€šé“éå† å¯ä»¥ä½¿ç”¨rangeè¯­æ³•æ¥éå†ä»é€šé“ä¸­å–å¾—çš„å€¼ã€‚ä¸€ä¸ªéç©ºé€šé“æ˜¯å¯ä»¥å…³é—­çš„ï¼Œä½†æ˜¯é€šé“ä¸­çš„å€¼ä»ç„¶å¯ä»¥è¢«æ¥æ”¶åˆ° package main import \"fmt\" func main() { //éå†åœ¨queueé€šé“ä¸­çš„ä¸¤ä¸ªå€¼ queue := make(chan string, 2) queue \u003c- \"one\" queue \u003c- \"two\" close(queue) //è¿™ä¸ªrangeè¿­ä»£ä»queueä¸­å¾—åˆ°çš„æ¯ä¸ªå€¼ //å› ä¸ºcloseäº†é€šé“ï¼Œè¿™ä¸ªé€šé“ä¼šåœ¨æ¥æ”¶å®Œç¬¬äºŒä¸ªå€¼åç»“æŸ //å¦‚æœæ²¡æœ‰closeï¼Œé‚£ä¹ˆè¿™ä¸ªå¾ªç¯å°†ç»§ç»­é˜»å¡æ‰§è¡Œï¼Œç­‰å¾…æ¥æ”¶ç¬¬ä¸‰ä¸ªå€¼ for elem := range queue { fmt.Println(elem) } } ","date":"2021-02-22","objectID":"/go-study-15/:2:9","tags":["golang"],"title":"Go Study 15","uri":"/go-study-15/"},{"categories":["å®ä¾‹"],"content":"Go Instance 03-å­—ç¬¦æ“ä½œ","date":"2021-02-22","objectID":"/go-instance-03/","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"å­—ç¬¦æ“ä½œ ","date":"2021-02-22","objectID":"/go-instance-03/:1:0","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹1 ç»Ÿè®¡ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å­—ç¬¦ä¸ªæ•° package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) //å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ä¿å­˜ç»Ÿè®¡ç»“æœ type charCount struct { //è‹±æ–‡ä¸ªæ•° chCount int //ç©ºæ ¼ä¸ªæ•° spaceCount int //æ•°å­—ä¸ªæ•° numCount int //å…¶ä»–ä¸ªæ•° otherCount int } func main() { /** æ€è·¯ï¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªReader æ¯è¯»å–ä¸€è¡Œï¼Œç»Ÿè®¡å­—ç¬¦ä¿å­˜åˆ°ç»“æ„ä½“ä¸­ */ file, err := os.Open(\"fileOperations/abc.txt\") if err != nil { fmt.Println(\"file open err:\", err) } reader := bufio.NewReader(file) fileC := charCount{} //å¾ªç¯è¯»å–fileå†…å®¹ for { s, err := reader.ReadString('\\n') //ä¸ºäº†å…¼å®¹ä¸­æ–‡è½¬åŒ–ä¸ºrune for _, r := range []rune(s) { switch { case r \u003e= 'a' \u0026\u0026 r \u003c= 'z': fallthrough case r \u003e= 'A' \u0026\u0026 r \u003c= 'Z': fileC.chCount++ case r \u003e '0' \u0026\u0026 r \u003c '9': fileC.numCount++ case r == ' ' || r == '\\t': fileC.spaceCount++ default: fileC.otherCount++ } } if err == io.EOF { break } } fmt.Printf(\"file has chcount: %d, numcount: %d, spaceCount: %d, otherCount: %d\", fileC.chCount, fileC.numCount, fileC.spaceCount, fileC.otherCount) } ","date":"2021-02-22","objectID":"/go-instance-03/:1:1","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"å°†æ•°æ®åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸² ","date":"2021-02-22","objectID":"/go-instance-03/:2:0","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"å°†æ•°æ®(ç»“æ„ä½“ï¼ŒMapï¼ŒSliceï¼ŒåŸºç¡€æ•°æ®ç±»å‹)åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸² jsonåºåˆ—åŒ–æ˜¯æŒ‡å°†æœ‰key-valueç»“æ„çš„æ•°æ®ç±»å‹(æ¯”å¦‚ï¼šç»“æ„ä½“ï¼ŒMapï¼ŒSlice)åºåˆ—åŒ–æˆjsonå­—ç¬¦ä¸²çš„æ“ä½œ package main import ( \"encoding/json\" \"fmt\" ) type Hero struct { Name string `json:\"hero_name\"` Age int `json:\"hero_age\"` Sex string } //ç»“æ„ä½“åºåˆ—åŒ– func changeStruct() { hero := Hero{ Name: \"å°é™ˆ\", Age: 18, Sex: \"ç”·\", } //å°†ç»“æ„ä½“åºåˆ—åŒ– bytes, err := json.Marshal(hero) if err != nil{ fmt.Println(\"json marshal fail:\", err) } fmt.Printf(\"ç»“æ„ä½“åºåˆ—åŒ–åçš„å­—æ®µï¼š%v\\n\", string(bytes)) } //Mapåºåˆ—åŒ– func changeMap() { map1 := make(map[string]interface{}) map1[\"name\"] = \"å¼ æ— å¿Œ\" map1[\"age\"] = 22 map1[\"address\"] = \"å†°ç«å²›\" //å°†mapåºåˆ—åŒ– bytes, err := json.Marshal(map1) if err != nil { fmt.Println(\"json marshal fail:\", err) } fmt.Printf(\"Mapåºåˆ—åŒ–åçš„å­—æ®µï¼š%v\\n\", string(bytes)) } //Sliceåºåˆ—åŒ– func changeSlice() { var slice []map[string]interface{} m1 := make(map[string]interface{}) m1[\"name\"] = \"å¼ æ— å¿Œ\" m1[\"age\"] = 25 m1[\"address\"] = \"å†°ç«å²›\" slice = append(slice, m1) m2 := make(map[string]interface{}) m2[\"name\"] = \"å¼ ä¸‰ä¸°\" m2[\"age\"] = \"88\" m2[\"address\"] = []string{\"æ­¦å½“å±±\", \"å¤å¨å¤·\"} slice = append(slice, m2) //sliceåºåˆ—åŒ– bytes, err := json.Marshal(slice) if err != nil { fmt.Println(\"json marshal fail:\", err) } fmt.Printf(\"Sliceåºåˆ—åŒ–åçš„å­—æ®µï¼š%v\\n\", string(bytes)) } //åŸºæœ¬ç±»å‹åºåˆ—åŒ–(å¯¹åŸºç¡€ç±»å‹åºåˆ—åŒ–æ„ä¹‰ä¸å¤§) func changeFloat() { var f float64 = 3.14 //å¯¹floatåºåˆ—åŒ– bytes, err := json.Marshal(f) if err != nil { fmt.Println(\"json marshal fail:\", err) } fmt.Println(\"Floatåºåˆ—åŒ–åçš„å­—æ®µï¼š\", string(bytes)) } func main() { changeStruct() changeMap() changeSlice() changeFloat() } ","date":"2021-02-22","objectID":"/go-instance-03/:2:1","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"å°†jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–æˆå¯¹åº”æ•°æ® ","date":"2021-02-22","objectID":"/go-instance-03/:3:0","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"å°†jsonå­—ç¬¦ä¸² ååºåˆ—åŒ–æˆå¯¹åº”æ•°æ®ï¼ˆæ¯”å¦‚ï¼šç»“æ„ä½“ï¼Œmapï¼Œåˆ‡ç‰‡ï¼‰ package main import ( \"encoding/json\" \"fmt\" ) type Hero struct { Name string `json:\"hero_name\"` Age int `json:\"hero_age\"` Sex string } //å°†jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºç»“æ„ä½“ func unmarshalStruct() { str := \"{\\\"hero_name\\\":\\\"å°é™ˆ\\\",\\\"hero_age\\\":18,\\\"Sex\\\":\\\"ç”·\\\"}\" var hero Hero err := json.Unmarshal([]byte(str), \u0026hero) if err != nil { fmt.Println(\"json unmarshal fail:\", err) } fmt.Printf(\"jsonååºåˆ—åŒ–ä¸ºç»“æ„ä½“ï¼š%v\\n\", hero) } //å°†jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºMap func unmarshalMap() { str := \"{\\\"name\\\": \\\"å¼ æ— å¿Œ\\\",\\\"age\\\": 22,\\\"address\\\": \\\"å†°ç«å²›\\\"}\" //å®šä¹‰ä¸€ä¸ªmapï¼Œååºåˆ—åŒ–çš„æ—¶å€™ä¸éœ€è¦makeï¼Œå› ä¸ºunmarshalå°è£…äº†make var map1 map[string]interface{} err := json.Unmarshal([]byte(str), \u0026map1) if err != nil { fmt.Println(\"json unmarshal fail:\", err) } fmt.Printf(\"jsonååºåˆ—åŒ–ä¸ºMapï¼š%v\\n\",map1) } //å°†jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºSlice func unmarshalSlice() { str := \"[{\\\"address\\\":\\\"å†°ç«å²›\\\",\\\"age\\\":25,\\\"name\\\":\\\"å¼ æ— å¿Œ\\\"},{\\\"address\\\":[\\\"æ­¦å½“å±±\\\",\\\"å¤å¨å¤·\\\"],\\\"age\\\":\\\"88\\\",\\\"name\\\":\\\"å¼ ä¸‰ä¸°\\\"}]\" //å®šä¹‰ä¸€ä¸ªsliceï¼Œååºåˆ—åŒ–çš„æ—¶å€™ä¸éœ€è¦makeï¼Œå› ä¸ºunmarshalå°è£…äº†make var slice []map[string]interface{} err := json.Unmarshal([]byte(str), \u0026slice) if err != nil { fmt.Println(\"json unmarshal fail:\", err) } fmt.Printf(\"jsonååºåˆ—åŒ–ä¸ºSliceï¼š%v\\n\", slice) } func main() { unmarshalStruct() unmarshalMap() unmarshalSlice() } ","date":"2021-02-22","objectID":"/go-instance-03/:3:1","tags":["golang"],"title":"Go Instance 03","uri":"/go-instance-03/"},{"categories":["å®ä¾‹"],"content":"Go Instance 02-æ–‡ä»¶æ“ä½œ","date":"2021-02-22","objectID":"/go-instance-02/","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"è¯»å–æ–‡ä»¶ ","date":"2021-02-22","objectID":"/go-instance-02/:1:0","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹1 è¯»å–æ–‡ä»¶çš„å†…å®¹å¹¶æ˜¾ç¤ºåœ¨ç»ˆç«¯(å¸¦ç¼“å†²åŒºçš„æ–¹å¼) package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) //è¯»å–æ–‡ä»¶çš„å†…å®¹å¹¶æ˜¾ç¤ºåœ¨ç»ˆç«¯(å¸¦ç¼“å†²åŒºçš„æ–¹å¼) func main() { //æ‰“å¼€æ–‡ä»¶ file, err := os.Open(\"fileOperations/abc.txt\") if err != nil { fmt.Println(\"æ–‡ä»¶æ‰“å¼€å¤±è´¥\") } //å‡½æ•°é€€å‡ºæ—¶å…³é—­æ–‡ä»¶ defer file.Close() //è¾“å‡ºæ–‡ä»¶ fmt.Printf(\"file=%v \\n\", \u0026file) //åˆ›å»ºä¸€ä¸ª*Readerï¼Œå¸¦ç¼“å†²çš„ï¼Œé»˜è®¤ç¼“å†²åŒºå¤§å°ä¸º4096 reader := bufio.NewReader(file) //å¾ªç¯è¯»å–æ–‡ä»¶å†…å®¹ for { //è¯»åˆ°ä¸€ä¸ªæ¢è¡Œç»“æŸ s, err := reader.ReadString('\\n') //è¾“å‡ºæ–‡ä»¶å†…å®¹ fmt.Print(s) //io.EOFè¡¨ç¤ºæ–‡ä»¶æœ«å°¾ if err == io.EOF { fmt.Println() break } } fmt.Println(\"æ–‡ä»¶è¯»å–ç»“æŸ\") } ","date":"2021-02-22","objectID":"/go-instance-02/:1:1","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹2 å¯¹äºæ–‡ä»¶ä¸å¤ªå¤§çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ioutilä¸€æ¬¡å°†æ•´ä¸ªæ–‡ä»¶è¯»åˆ°å†…å­˜é‡Œ package main import ( \"fmt\" \"io/ioutil\" ) //å¯¹äºæ–‡ä»¶ä¸å¤ªå¤§çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ioutilä¸€æ¬¡å°†æ•´ä¸ªæ–‡ä»¶è¯»åˆ°å†…å­˜é‡Œ func main() { //æ‰“å¼€æ–‡ä»¶ file, err := ioutil.ReadFile(\"fileOperations/abc.txt\") if err != nil { fmt.Println(\"open file err:\", err) } //æŠŠè¯»å–åˆ°çš„æ–‡ä»¶æ˜¾ç¤ºåœ¨ç»ˆç«¯ //ä¸éœ€è¦æ˜¾å¼çš„Openå’ŒCloseæ–‡ä»¶ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ“ä½œå·²ç»è¢«å°è£…åœ¨ioutilFileå‡½æ•°å†…éƒ¨ fmt.Printf(\"file is %v\\n\", file) fmt.Printf(\"file is %v\\n\", string(file)) } ","date":"2021-02-22","objectID":"/go-instance-02/:1:2","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"å†™å…¥æ–‡ä»¶ ","date":"2021-02-22","objectID":"/go-instance-02/:2:0","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹1 åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å†™å…¥5å¥hello package main import ( \"bufio\" \"fmt\" \"os\" ) //åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å†™å…¥5å¥hello func main() { //æ‰“å¼€æ–‡ä»¶ï¼Œå¯å†™å¯åˆ›å»º file, err := os.OpenFile(\"fileOperations/write.txt\", os.O_WRONLY|os.O_CREATE, 0666) if err != nil{ fmt.Printf(\"open file err: %v\\n\", err) } //å‡½æ•°é€€å‡ºå…³é—­æ–‡ä»¶ defer file.Close() //å†™å…¥æ–‡ä»¶ï¼Œä½¿ç”¨å¸¦ç¼“å­˜çš„*writer writer := bufio.NewWriter(file) for i := 0; i \u003c 5; i++ { writer.WriteString(\"hello\\n\") } //Flushå°†ç¼“å­˜çš„æ–‡ä»¶çœŸæ­£å†™å…¥åˆ°æ–‡ä»¶ä¸­ writer.Flush() fmt.Println(\"æ–‡ä»¶å†™å…¥æˆåŠŸ\") } ","date":"2021-02-22","objectID":"/go-instance-02/:2:1","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹2 æ‰“å¼€å·²æœ‰æ–‡ä»¶è¿½åŠ å†…å®¹ package main import ( \"bufio\" \"fmt\" \"os\" ) //æ‰“å¼€å·²æœ‰æ–‡ä»¶è¿½åŠ å†…å®¹ func main() { //æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶å¯å†™å¯ä»¥è¿½åŠ  file, err := os.OpenFile(\"fileOperations/write.txt\", os.O_APPEND|os.O_WRONLY, 0666) if err != nil { fmt.Println(\"file is err\", err) } //å‡½æ•°æœ€åå…³é—­æ–‡ä»¶ defer file.Close() //å†™å…¥æ–‡ä»¶ï¼Œä½¿ç”¨å¸¦ç¼“å­˜çš„*writer writer := bufio.NewWriter(file) for i := 0; i \u003c 5; i++ { writer.WriteString(\"abc \\r\\n\") } //Flushå°†ç¼“å­˜æ–‡ä»¶çœŸæ­£å†™å…¥åˆ°æ–‡ä»¶ä¸­ writer.Flush() } ","date":"2021-02-22","objectID":"/go-instance-02/:2:2","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹3 æ‰“å¼€ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶è¯»å–å†…å®¹å¹¶è¿½åŠ å†…å®¹ package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) //æ‰“å¼€ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶è¯»å–å†…å®¹å¹¶è¿½åŠ å†…å®¹ func main() { //æ‰“å¼€æ–‡ä»¶ï¼Œå¯è¯»å¯å†™å¯è¿½åŠ  file, err := os.OpenFile(\"fileOperations/write.txt\", os.O_APPEND|os.O_RDWR, 0666) if err != nil { fmt.Println(\"file open err:\", err) } //å‡½æ•°ç»“æŸå…³é—­æ–‡ä»¶ defer file.Close() //è¯»å–æ–‡ä»¶ reader := bufio.NewReader(file) for{ s, err := reader.ReadString('\\n') fmt.Print(s) if err == io.EOF { break } } //å†™å…¥æ–‡ä»¶ writer := bufio.NewWriter(file) for i := 0; i \u003c 5; i++ { writer.WriteString(\"hello world\\n\") } writer.Flush() } ","date":"2021-02-22","objectID":"/go-instance-02/:2:3","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹4 å°†ä¸€ä¸ªæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ package main import ( \"fmt\" \"io/ioutil\" \"os\" ) //å°†ä¸€ä¸ªæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ func main() { os.OpenFile(\"fileOperations/writecopy.txt\", os.O_CREATE|os.O_WRONLY, 0666) file, err := ioutil.ReadFile(\"fileOperations/write.txt\") if err != nil { fmt.Println(\"file1 open err:\", err) } err = ioutil.WriteFile(\"fileOperations/writecopy.txt\", file, 0666) if err != nil { fmt.Println(\"file2 copy err\", err) } } ","date":"2021-02-22","objectID":"/go-instance-02/:2:4","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ‹·è´æ–‡ä»¶ ","date":"2021-02-22","objectID":"/go-instance-02/:3:0","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å®ä¾‹"],"content":"æ¡ˆä¾‹1 å°†ä¸€ä¸ªå›¾ç‰‡æ‹·è´åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸‹ package main import ( \"bufio\" \"fmt\" \"io\" \"os\" ) //ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„ func copyFile(dstFile string, srcFile string) (written int64, err error) { //æ‰“å¼€srcFile read, err := os.OpenFile(srcFile, os.O_RDONLY, 0) if err != nil { fmt.Println(\"srcFile open err:\", err) } defer read.Close() //é€šè¿‡srcFileæ‰¾åˆ° reader reader := bufio.NewReader(read) //æ‰“å¼€dstFile write, err := os.OpenFile(dstFile, os.O_WRONLY|os.O_CREATE, 0666) if err != nil { fmt.Println(\"dstFile open err:\", err) } defer write.Close() //é€šè¿‡dstFileæ‰¾åˆ°writer writer := bufio.NewWriter(write) return io.Copy(writer, reader) } func main() { //å°†srcFileæ–‡ä»¶æ‹·è´åˆ°dstFileæ–‡ä»¶ srcFile := \"F:/hugo-blog/cc/static/go7.jpg\" dstFile := \"D:/bgird.jpg\" //è°ƒç”¨copyFileå®Œæˆæ‹·è´ written, err := copyFile(dstFile, srcFile) if err != nil { fmt.Println(\"copy file err:\", err) } else { fmt.Println(\"copy file success, written:\", written) } } ","date":"2021-02-22","objectID":"/go-instance-02/:3:1","tags":["golang"],"title":"Go Instance 02","uri":"/go-instance-02/"},{"categories":["å­¦ä¹ "],"content":"Go Study 14-goroutine","date":"2021-02-21","objectID":"/go-study-14/","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"goroutine ","date":"2021-02-21","objectID":"/go-study-14/:1:0","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"åç¨‹Coroutine è½»é‡çº§â€œçº¿ç¨‹â€ éæŠ¢å å¼å¤šä»»åŠ¡å¤„ç†ï¼Œç”±åç¨‹ä¸»åŠ¨äº¤å‡ºæ§åˆ¶æƒ ç¼–è¯‘å™¨/è§£é‡Šå™¨/è™šæ‹Ÿæœºå±‚é¢çš„å¤šä»»åŠ¡ å¤šä¸ªåç¨‹å¯èƒ½åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä¸Šè¿è¡Œ coroutine\u0026ldquo;coroutine\u0026rdquo; \"\rcoroutine\r ","date":"2021-02-21","objectID":"/go-study-14/:1:1","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"goroutineçš„å®šä¹‰ ä»»ä½•å‡½æ•°åªéœ€åŠ ä¸Šgoå°±èƒ½é€ç»™è°ƒåº¦å™¨è¿è¡Œ ä¸éœ€è¦åœ¨å®šä¹‰æ—¶åŒºåˆ†æ˜¯å¦æ˜¯å¼‚æ­¥å‡½æ•° è°ƒåº¦å™¨ä¼šåœ¨åˆé€‚çš„ç‚¹è¿›è¡Œåˆ‡æ¢ ä½¿ç”¨-raceæ¥æ£€æµ‹æ•°æ®è®¿é—®å†²çª goroutine\u0026ldquo;goroutine\u0026rdquo; \"\rgoroutine\r ","date":"2021-02-21","objectID":"/go-study-14/:1:2","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"goroutineå¯èƒ½çš„åˆ‡æ¢ç‚¹ I/Oï¼Œselect channel ç­‰å¾…é” å‡½æ•°è°ƒç”¨(æœ‰æ—¶) runtime.Gosched() ä»¥ä¸Šåªæ˜¯å‚è€ƒï¼Œä¸èƒ½ä¿è¯åˆ‡æ¢ï¼Œä¸èƒ½ä¿è¯åœ¨å…¶ä»–åœ°æ–¹ä¸åˆ‡æ¢ ","date":"2021-02-21","objectID":"/go-study-14/:1:3","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-21","objectID":"/go-study-14/:2:0","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"åç¨‹ Goåç¨‹åœ¨æ‰§è¡Œä¸Šæ¥è¯´æ˜¯è½»é‡çº§çš„çº¿ç¨‹ package main import \"fmt\" func f(s string) { for i := 0; i \u003c 3; i++ { fmt.Println(s) } } //Goåç¨‹åœ¨æ‰§è¡Œä¸Šæ¥è¯´æ˜¯è½»é‡çº§çš„çº¿ç¨‹ func main() { //ä½¿ç”¨ä¸€èˆ¬æ–¹å¼è¿è¡Œfå‡½æ•° f(\"direct\") //ä½¿ç”¨go f(s)åœ¨ä¸€ä¸ªGoåç¨‹ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•° //è¿™ä¸ªæ–°çš„Goåç¨‹ä¼šå¹¶è¡Œçš„æ‰§è¡Œè¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ go f(\"gorouting\") //ä¸ºåŒ¿åå‡½æ•°å¯åŠ¨ä¸€ä¸ªGoåç¨‹ go func(msg string) { for i := 0; i \u003c 10; i++ { fmt.Println(msg) } }(\"going\") //ç°åœ¨è¿™ä¸¤ä¸ªGoåç¨‹åœ¨ç‹¬ç«‹çš„Goåç¨‹ä¸­å¼‚æ­¥è¿è¡Œï¼Œæ‰€ä»¥éœ€è¦ç­‰ä»–ä»¬ç»“æŸ //Scanlnä»£ç ï¼Œæˆ‘ä»¬åœ¨ç¨‹åºé€€å‡ºå‰æŒ‰ä¸‹ä»»æ„é”®ç»“æŸ var in string fmt.Scanln(\u0026in) fmt.Println(\"done\") } å½“è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼Œå°†å…ˆçœ‹è§é˜»å¡å¼è°ƒç”¨ï¼Œç„¶åæ˜¯ä¸¤ä¸ªgoåç¨‹äº¤æ›¿è¾“å‡ºï¼Œè¿™ç§äº¤æ›¿è¾“å‡ºè¡¨ç¤ºGoè¿è¡Œæ—¶æ˜¯ä»¥å¼‚æ­¥æ–¹å¼è¿è¡Œåç¨‹çš„ ","date":"2021-02-21","objectID":"/go-study-14/:2:1","tags":["golang"],"title":"Go Study 14","uri":"/go-study-14/"},{"categories":["å­¦ä¹ "],"content":"Go Study 13-æµ‹è¯•","date":"2021-02-21","objectID":"/go-study-13/","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["å­¦ä¹ "],"content":"æµ‹è¯• testing.Tçš„åº”ç”¨ è¿è¡Œæµ‹è¯• ","date":"2021-02-21","objectID":"/go-study-13/:1:0","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["å­¦ä¹ "],"content":"ä»£ç è¦†ç›–ç‡ ä½¿ç”¨IDEæŸ¥çœ‹ä»£ç è¦†ç›– ä½¿ç”¨go testè·å–ä»£ç è¦†ç›–æŠ¥å‘Š ä½¿ç”¨go tool coveræŸ¥çœ‹ä»£ç è¦†ç›–æŠ¥å‘Š ","date":"2021-02-21","objectID":"/go-study-13/:1:1","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["å­¦ä¹ "],"content":"æ€§èƒ½æµ‹è¯• testing.Bçš„ä½¿ç”¨ ","date":"2021-02-21","objectID":"/go-study-13/:1:2","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨pprofè¿›è¡Œæ€§èƒ½è°ƒä¼˜ ç»ˆç«¯è¿›å…¥æœ‰æµ‹è¯•æ–‡ä»¶çš„é¡¹ç›®ç›®å½•ä¸‹ go test -bench . -cpuprofile cpu.outç”Ÿæˆcpu.out go tool pprof cpu.outæŸ¥çœ‹cpu.out åœ¨äº¤äº’å¼å‘½ä»¤è¡Œè¾“å…¥webè¿›è¡ŒæŸ¥çœ‹ ","date":"2021-02-21","objectID":"/go-study-13/:1:3","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹","date":"2021-02-21","objectID":"/go-study-13/:2:0","tags":["golang"],"title":"Go Study 13","uri":"/go-study-13/"},{"categories":["é¢è¯•"],"content":"Go Interview 01-newä¸makeçš„åŒºåˆ«","date":"2021-02-20","objectID":"/go-interview-01/","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["é¢è¯•"],"content":"newå’Œmakeçš„å®šä¹‰ func new(Type) *Type func make(t Type, size ...IntegerType) Type å…¶ä¸­Typeä»£è¡¨ä¸€ä¸ªæ•°æ®ç±»å‹ ","date":"2021-02-20","objectID":"/go-interview-01/:1:0","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["é¢è¯•"],"content":"äºŒè€…çš„åŒºåˆ« ","date":"2021-02-20","objectID":"/go-interview-01/:2:0","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["é¢è¯•"],"content":"è¿”å›å€¼ ä»å®šä¹‰ä¸­å¯ä»¥çœ‹å‡ºï¼Œnewè¿”å›çš„æ˜¯æŒ‡å‘Typeçš„æŒ‡é’ˆï¼Œmakeç›´æ¥è¿”å›çš„æ˜¯Typeç±»å‹å€¼ ","date":"2021-02-20","objectID":"/go-interview-01/:2:1","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["é¢è¯•"],"content":"å…¥å‚ newåªæœ‰ä¸€ä¸ªTypeå‚æ•°ï¼ŒTypeå¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚makeå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯åªèƒ½æ˜¯sliceï¼Œmapæˆ–è€…chanä¸­çš„ä¸€ç§ã€‚å¯¹äºä¸åŒç±»å‹ï¼Œsizeå‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š å¯¹äºslice,ç¬¬ä¸€ä¸ªsizeè¡¨ç¤ºé•¿åº¦ï¼Œç¬¬äºŒä¸ªsizeè¡¨ç¤ºå®¹é‡ï¼Œä¸”å®¹é‡ä¸èƒ½å°äºé•¿åº¦ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªsizeï¼Œé»˜è®¤å®¹é‡ç­‰äºé•¿åº¦ã€‚ å¯¹äºmapï¼Œä¼šæ ¹æ®sizeå¤§å°åˆ†é…èµ„æºï¼Œä»¥è¶³å¤Ÿå­˜å‚¨sizeä¸ªå…ƒç´ ã€‚å¦‚æœçœç•¥sizeï¼Œä¼šé»˜è®¤åˆ†é…ä¸€ä¸ªå°çš„èµ·å§‹size å¯¹äºchanï¼Œsizeè¡¨ç¤ºç¼“å†²åŒºå®¹é‡ã€‚å¦‚æœçœç•¥sizeï¼Œchannelä¸ºæ— ç¼“å†²channel ","date":"2021-02-20","objectID":"/go-interview-01/:2:2","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["é¢è¯•"],"content":"åˆ†é…ç±»å‹ newï¼šç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å€¼ç±»å‹ makeï¼šç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å¼•ç”¨ç±»å‹ ","date":"2021-02-20","objectID":"/go-interview-01/:2:3","tags":["golang"],"title":"Go Interview 01","uri":"/go-interview-01/"},{"categories":["å®ä¾‹"],"content":"Go Instance 01-è±†ç“£çˆ¬è™«","date":"2021-02-19","objectID":"/go-instance-01/","tags":["golang"],"title":"Go Instance 01","uri":"/go-instance-01/"},{"categories":["å®ä¾‹"],"content":"ä½¿ç”¨Goçˆ¬å–è±†ç“£ç”µå½±æ’è¡Œæ¦œ package main import ( \"encoding/json\" \"fmt\" \"io/ioutil\" \"net/http\" \"os\" \"regexp\" \"strings\" ) func main() { data, err := GetHtml(\"https://movie.douban.com/chart\") if err != nil { fmt.Println(\"è·å–æºä»£ç å¤±è´¥:\", err) return } //åˆ›å»ºæ–‡ä»¶ file, err := os.Create(\"movie.json\") if err != nil { fmt.Println(\"åˆ›å»ºæ–‡ä»¶å¤±è´¥:\", err) return } encoder := json.NewEncoder(file) encoder.SetIndent(\" \", \" \") encoder.Encode(GetItem(data)) } func GetHtml(url string) ([]byte, error) { var clent http.Client req, err := http.NewRequest(\"GET\", url, nil) if err != nil { fmt.Println(\"åˆ›å»ºè¯·æ±‚å¤±è´¥:\", err) return nil, err } //æ·»åŠ è¯·æ±‚å¤´ï¼Œæ‰èƒ½è®¿é—®åˆ°éœ€è¦çš„ç½‘é¡µæºç  req.Header.Add(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 Edg/85.0.564.51\") resp, err := clent.Do(req) if err != nil { fmt.Println(\"è¯·æ±‚å¤±è´¥:\", err) return nil, err } data, err := ioutil.ReadAll(resp.Body) if err != nil { fmt.Println(\"è¯»å–å¤±è´¥:\", err) return nil, err } defer resp.Body.Close() return data, nil } type Item struct { Link string `json:\"link\"` Name string `json:\"name\"` Info string `json:\"info\"` Rate string `json:\"rate\"` RateNum string `json:\"rate_num\"` } func GetItem(data []byte) []Item { //æ­£åˆ™åŒ¹é…éœ€è¦çš„å†…å®¹ pattern := regexp.MustCompile(`(?s)\u003cdiv.*?class=\"pl2\".*?\u003e.*?\u003ca href=\"(.*?)\".*?\u003e(.*?)/.*?\u003cspan.*?\u003c/span\u003e.*?\u003cp class=\"pl\"\u003e(.*?)\u003c/p\u003e.*?\u003cdiv.*?\u003e.*?\u003cspan class=\"rating_nums\"\u003e(.*?)\u003c/span\u003e.*?\u003cspan class=\"pl\"\u003e\\((.*?)\\)\u003c/span\u003e.*?\u003c/div\u003e`) //æŸ¥æ‰¾ç½‘é¡µä¸­æ‰€æœ‰çš„åŒ¹é…é¡¹ items := pattern.FindAllSubmatch(data, -1) var res []Item for _, item := range items { res = append(res, Item{ Link: string(item[1]), Name: strings.TrimSpace(string(item[2])), Info: string(item[3]), Rate: string(item[4]), RateNum: string(item[5]), }) } return res } ","date":"2021-02-19","objectID":"/go-instance-01/:1:0","tags":["golang"],"title":"Go Instance 01","uri":"/go-instance-01/"},{"categories":["å­¦ä¹ "],"content":"Go Study 12-èµ„æºç®¡ç†ä¸å‡ºé”™å¤„ç†","date":"2021-02-18","objectID":"/go-study-12/","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"deferè°ƒç”¨ ç¡®ä¿è°ƒç”¨åœ¨å‡½æ•°ç»“æŸæ—¶å‘ç”Ÿ å¤šdeferç›¸å½“äºæ ˆ(å…ˆè¿›åå‡º) å‚æ•°åœ¨deferè¯­å¥æ—¶è®¡ç®— ","date":"2021-02-18","objectID":"/go-study-12/:1:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"ä½•æ—¶ä½¿ç”¨deferè°ƒç”¨ Open/Close Lock/Unlock PrintHeader/PrintFooter ","date":"2021-02-18","objectID":"/go-study-12/:2:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"é”™è¯¯å¤„ç†äºŒ å¦‚ä½•å®ç°ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é€»è¾‘ ","date":"2021-02-18","objectID":"/go-study-12/:3:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"panic åœæ­¢å½“å‰å‡½æ•°è¿è¡Œ ä¸€ç›´å‘ä¸Šè¿”å›ï¼Œæ‰§è¡Œæ¯ä¸€å±‚çš„defer å¦‚æœæ²¡æœ‰é‡è§recoverï¼Œç¨‹åºé€€å‡º ","date":"2021-02-18","objectID":"/go-study-12/:4:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"recover ä»…åœ¨deferè°ƒç”¨ä¸­ä½¿ç”¨ è·å–panicçš„å€¼ å¦‚æœæ— æ³•å¤„ç†ï¼Œå¯é‡æ–°panic ","date":"2021-02-18","objectID":"/go-study-12/:5:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"error vs panic æ„æ–™ä¹‹ä¸­çš„ï¼šä½¿ç”¨errorã€‚å¦‚ï¼šæ–‡ä»¶æ‰“ä¸å¼€ æ„æ–™ä¹‹å¤–çš„ï¼šä½¿ç”¨panicã€‚å¦‚ï¼šæ•°ç»„è¶Šç•Œ ","date":"2021-02-18","objectID":"/go-study-12/:6:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"é”™è¯¯å¤„ç†ç»¼åˆå®ä¾‹ defer + panic + recover Type Assertion å‡½æ•°å¼ç¼–ç¨‹çš„åº”ç”¨ ","date":"2021-02-18","objectID":"/go-study-12/:7:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-18","objectID":"/go-study-12/:8:0","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"é”™è¯¯å¤„ç† Goè¯­è¨€ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„æ˜ç¡®çš„è¿”å›å€¼æ¥ä¼ é€’é”™è¯¯ä¿¡æ¯ã€‚è¿™ä¸ä½¿ç”¨å¼‚å¸¸çš„Javaå’ŒRubyä»¥åŠåœ¨Cè¯­è¨€ä¸­å¸¸è§åˆ°çš„è¶…é‡çš„å•è¿”å›å€¼/é”™è¯¯å€¼ç›¸æ¯”ï¼ŒGoè¯­è¨€çš„å¤„ç†æ–¹å¼èƒ½æ¸…æ¥šçŸ¥é“é‚£ä¸ªå‡½æ•°è¿”å›äº†é”™è¯¯ï¼Œå¹¶èƒ½åƒè°ƒç”¨é‚£äº›æ²¡æœ‰å‡ºé”™å‡½æ•°ä¸€æ ·è°ƒç”¨ package main import ( \"errors\" \"fmt\" ) //æŒ‰ç…§æƒ¯ä¾‹ï¼Œé”™è¯¯é€šå¸¸æ˜¯æœ€åä¸€ä¸ªè¿”å›å€¼å¹¶ä¸”æ˜¯errorç±»å‹ï¼Œä¸€ä¸ªå†…å»ºçš„æ¥å£ func f1(arg int) (int, error) { if arg == 42 { //error.New æ„é€ ä¸€ä¸ªä½¿ç”¨ç»™å®šé”™è¯¯ä¿¡æ¯çš„åŸºæœ¬errorå€¼ return -1, errors.New(\"can't work with 42\") } //è¿”å›é”™è¯¯å€¼ä¸ºnilï¼Œä»£è¡¨æ²¡æœ‰é”™è¯¯ return arg+3, nil } //é€šè¿‡å®ç°Erroræ–¹æ³•æ¥è‡ªå®šä¹‰erroræ˜¯å¯ä»¥çš„ //è¿™é‡Œä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»å‹æ¥è¡¨ç¤ºä¸Šé¢çš„å‚æ•°é”™è¯¯ type argError struct { arg int prob string } func (e *argError) Error() string { return fmt.Sprintf(\"%d-%s\", e.arg, e.prob) } func f2(arg int) (int, error) { if arg == 42 { //è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½¿ç”¨\u0026argErrorè¯­æ³•æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ //æä¾›argå’Œprobä¸¤ä¸ªå­—æ®µçš„å€¼ return -1, \u0026argError{arg, \"can't work with it\"} } return arg+3, nil } func main() { //ä¸‹é¢ä¸¤ä¸ªå¾ªç¯æµ‹è¯•äº†å„ä¸ªè¿”å›é”™è¯¯çš„å‡½æ•° //æ³¨æ„åœ¨ifè¡Œå†…çš„é”™è¯¯æ£€æŸ¥ä»£ç ï¼Œåœ¨Goä¸­æ˜¯ä¸€ä¸ªæ™®éçš„ç”¨æ³• for _, i := range []int{7, 42}{ if r, e := f1(i); e != nil { fmt.Println(\"f1 failed: \", e) } else { fmt.Println(\"f1 worked: \", r) } } for _, i := range []int{7, 42} { if r, e := f2(i); e != nil { fmt.Println(\"f2 failed: \", e) } else { fmt.Println(\"f2 worked: \", r) } } //å¦‚æœæƒ³åœ¨ç¨‹åºä¸­ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰é”™è¯¯ç±»å‹ä¸­çš„æ•°æ® //éœ€è¦é€šè¿‡ç±»å‹æ–­è¨€æ¥å¾—åˆ°è¿™ä¸ªé”™è¯¯ç±»å‹çš„å®ä¾‹ _, e := f2(42) if ae, ok := e.(*argError); ok { fmt.Println(ae.arg) fmt.Println(ae.prob) } } ","date":"2021-02-18","objectID":"/go-study-12/:8:1","tags":["golang"],"title":"Go Study 12","uri":"/go-study-12/"},{"categories":["å­¦ä¹ "],"content":"Go Study 11-å‡½æ•°ä¸é—­åŒ…","date":"2021-02-18","objectID":"/go-study-11/","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"å‡½æ•°ä¸é—­åŒ… ","date":"2021-02-18","objectID":"/go-study-11/:1:0","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"å‡½æ•°å¼ç¼–ç¨‹ vs å‡½æ•°æŒ‡é’ˆ å‡½æ•°å¼ä¸€ç­‰å…¬æ°‘ï¼šå‚æ•°ï¼Œå˜é‡ï¼Œè¿”å›å€¼éƒ½å¯ä»¥æ˜¯å‡½æ•° é«˜é˜¶å‡½æ•° å‡½æ•° -\u003e é—­åŒ… ","date":"2021-02-18","objectID":"/go-study-11/:1:1","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"â€œæ­£ç»Ÿâ€å‡½æ•°å¼ç¼–ç¨‹ ä¸å¯å˜æ€§ï¼šä¸èƒ½æœ‰çŠ¶æ€ï¼Œåªæœ‰å¸¸é‡å’Œå‡½æ•° å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå‚æ•° ","date":"2021-02-18","objectID":"/go-study-11/:1:2","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"go è¯­è¨€é—­åŒ…çš„åº”ç”¨ æ›´ä¸ºè‡ªç„¶ï¼Œä¸éœ€è¦ä¿®é¥°å¦‚ä½•è®¿é—®è‡ªç”±å˜é‡ æ²¡æœ‰Lambdaè¡¨è¾¾å¼ï¼Œä½†æ˜¯æœ‰åŒ¿åå‡½æ•° é—­åŒ…ä¸å‡½æ•°\u0026ldquo;é—­åŒ…ä¸å‡½æ•°\u0026rdquo; \"\ré—­åŒ…ä¸å‡½æ•°\r ","date":"2021-02-18","objectID":"/go-study-11/:1:3","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-18","objectID":"/go-study-11/:2:0","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬å‡½æ•° å‡½æ•°æ˜¯Goçš„ä¸­å¿ƒ package main import \"fmt\" //è¿™é‡Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªintï¼Œå¹¶ä»¥intè¿”å›å®ƒä»¬çš„å’Œ func plus(a, b int) int { //Goéœ€è¦æ˜ç¡®çš„è¿”å›å€¼ return a+b } func main() { //é€šè¿‡name(args)æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•° result := plus(1, 2) fmt.Println(result) } ","date":"2021-02-18","objectID":"/go-study-11/:2:1","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"å¤šè¿”å›å€¼å‡½æ•° Goå†…å»ºå¤šè¿”å›å€¼æ”¯æŒã€‚è¿™ä¸ªç‰¹æ€§åœ¨Goè¯­è¨€ä¸­ç»å¸¸è¢«ç”¨åˆ°ï¼Œä¾‹å¦‚ç”¨æ¥åŒæ—¶è¿”å›ä¸€ä¸ªå‡½æ•°çš„ç»“æœå’Œé”™è¯¯ä¿¡æ¯ package main import \"fmt\" //(int, int)åœ¨è¿™ä¸ªå‡½æ•°ä¸­æ ‡å¿—ç€è¿™ä¸ªå‡½æ•°è¿”å›2ä¸ªint func vals() (int, int) { return 3, 7 } func main() { //é€šè¿‡å¤šèµ‹å€¼æ“ä½œæ¥ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„è¿”å›å€¼ a, b := vals() fmt.Println(a) fmt.Println(b) //å¦‚æœæƒ³è¿”å›ä¸€éƒ¨åˆ†å€¼ï¼Œå¯ä»¥ä½¿ç”¨ç©ºç™½å®šä¹‰ç¬¦_ _, c := vals() fmt.Println(c) } ","date":"2021-02-18","objectID":"/go-study-11/:2:2","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"å¯å˜å‚æ•°å‡½æ•° å¯å˜å‚æ•°å‡½æ•°ã€‚å¯ä»¥ç”¨ä»»æ„æ•°é‡çš„å‚æ•°è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œfmt.Printlnæ˜¯ä¸€ä¸ªå¸¸è§çš„å˜å‚å‡½æ•° package main import \"fmt\" //è¿™ä¸ªå‡½æ•°ä½¿ç”¨ä»»æ„æ•°ç›®çš„intä½œä¸ºå‚æ•° func sum(nums ...int) { fmt.Print(nums, \" \") total := 0 for _, num := range nums { total += num } fmt.Println(total) } func main() { //å˜å‚å‡½æ•°ä½¿ç”¨å¸¸è§„çš„è°ƒç”¨æ–¹æ³•ï¼Œé™¤äº†å‚æ•°æ¯”è¾ƒç‰¹æ®Š sum(1, 2) sum(1, 2, 3) //å¦‚æœsliceå·²ç»æœ‰å¤šä¸ªå€¼ï¼Œæƒ³ä½œä¸ºå˜å‚ä½¿ç”¨ï¼Œå¯ä»¥è¿™æ ·è°ƒç”¨func(slice...) nums := []int{1, 2, 3, 4, 5} sum(nums...) } ","date":"2021-02-18","objectID":"/go-study-11/:2:3","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"é—­åŒ… Goæ”¯æŒé€šè¿‡é—­åŒ…æ¥ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚åŒ¿åå‡½æ•°åœ¨ä½ æƒ³å®šä¹‰ä¸€ä¸ªä¸éœ€è¦å‘½åçš„å†…è”å‡½æ•°æ—¶å¾ˆå®ç”¨ package main import \"fmt\" //è¿™ä¸ªintSeqå‡½æ•°è¿”å›å¦ä¸€ä¸ªåœ¨intSeqå‡½æ•°ä½“å†…å®šä¹‰çš„åŒ¿åå‡½æ•° //è¿™ä¸ªå‡½æ•°çš„è¿”å›ä½¿ç”¨é—­åŒ…çš„æ–¹å¼ éšè— å˜é‡ i func intSeq() func() int { i := 0 return func() int { i += 1 return i } } func main() { //è°ƒç”¨nextIntå‡½æ•°ï¼Œå°†è¿”å›å€¼(ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°)èµ‹ç»™nextInt //è¿™ä¸ªå‡½æ•°çš„å€¼åŒ…å«äº†è‡ªå·±çš„å€¼iï¼Œåœ¨æ¯æ¬¡è°ƒç”¨nextIntéƒ½ä¼šæ›´æ–°i nextInt := intSeq() //å¤šæ¬¡è°ƒç”¨é—­åŒ…ï¼ŒæŸ¥çœ‹æ•ˆæœ fmt.Println(nextInt()) fmt.Println(nextInt()) fmt.Println(nextInt()) fmt.Println(nextInt()) fmt.Println(nextInt()) //æ›´æ¢å‡½æ•°ï¼Œç¡®å®šæ¯ä¸ªå‡½æ•°çš„iæ˜¯ç‹¬ç«‹çš„ nextInts := intSeq() fmt.Println(nextInts()) } ","date":"2021-02-18","objectID":"/go-study-11/:2:4","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"é€’å½’å‡½æ•° Goæ”¯æŒé€’å½’ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„é˜¶ä¹˜æ¡ˆä¾‹ package main import \"fmt\" //factå‡½æ•°åœ¨åˆ°è¾¾fact(0)å‰ä¸€ç›´åœ¨è°ƒç”¨è‡ªèº« func fact(n int) int { if n == 0 { return 1 } return n * fact(n-1) } func main() { fmt.Println(fact(5)) } ","date":"2021-02-18","objectID":"/go-study-11/:2:5","tags":["golang"],"title":"Go Study 11","uri":"/go-study-11/"},{"categories":["å­¦ä¹ "],"content":"Go Study 10-æ¥å£","date":"2021-02-17","objectID":"/go-study-10/","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"æ¥å£ æ¥å£ç”±ä½¿ç”¨è€…å®šä¹‰ ","date":"2021-02-17","objectID":"/go-study-10/:1:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"duck typing â€œåƒé¸­å­èµ°è·¯ï¼Œåƒé¸­å­å«(é•¿å¾—åƒé¸­å­)ï¼Œé‚£ä¹ˆå°±æ˜¯é¸­å­â€ æè¿°äº‹ç‰©çš„å¤–éƒ¨è¡Œä¸ºè€Œéå†…éƒ¨ç»“æ„ ä¸¥æ ¼æ¥è¯´goå±äºç»“æ„åŒ–ç±»å‹ç³»ç»Ÿï¼Œç±»ä¼¼duck typing ","date":"2021-02-17","objectID":"/go-study-10/:2:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"æ¥å£å˜é‡é‡Œæœ‰ä»€ä¹ˆ æ¥å£å˜é‡1\u0026ldquo;æ¥å£å˜é‡1\u0026rdquo; \"\ræ¥å£å˜é‡1\r æ¥å£å˜é‡2\u0026ldquo;æ¥å£å˜é‡2\u0026rdquo; \"\ræ¥å£å˜é‡2\r æ¥å£å˜é‡è‡ªå¸¦æŒ‡é’ˆ æ¥å£å˜é‡åŒæ ·é‡‡ç”¨å€¼ä¼ é€’ï¼Œå‡ ä¹ä¸éœ€è¦ä½¿ç”¨æ¥å£çš„æŒ‡é’ˆ æŒ‡é’ˆæ¥æ”¶è€…å®ç°åªèƒ½ä»¥æŒ‡é’ˆæ–¹å¼ä½¿ç”¨ï¼›å€¼æ¥æ”¶è€…éƒ½å¯ä»¥ ","date":"2021-02-17","objectID":"/go-study-10/:3:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"æŸ¥çœ‹æ¥å£å˜é‡ è¡¨ç¤ºä»»ä½•å˜é‡ï¼šinterface{} Type Assertion Type Switch ","date":"2021-02-17","objectID":"/go-study-10/:4:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"ç‰¹æ®Šæ¥å£ Stringer Reader/Writer ","date":"2021-02-17","objectID":"/go-study-10/:5:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-17","objectID":"/go-study-10/:6:0","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"æ¥å£ æ¥å£ï¼šGoè¯­è¨€ä¸­ç»„ç»‡å’Œå‘½åç›¸å…³çš„æ–¹æ³•é›†åˆçš„æœºåˆ¶ã€‚æ¥å£æ˜¯æ–¹æ³•ç‰¹å¾çš„å‘½åé›†åˆ package main import ( \"fmt\" \"math\" ) //è¿™é‡Œæ˜¯ä¸€ä¸ªå‡ ä½•ä½“çš„åŸºæœ¬æ¥å£ type geometry interface { area() float64 perim() float64 } //è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°†è®©rectå’Œcircleå®ç°è¿™ä¸ªæ¥å£ type rect struct { width float64 height float64 } type circle struct { radius float64 } //åœ¨Goä¸­å®ç°æ¥å£ï¼Œéœ€è¦å®ç°è¿™ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³• //rectå®ç°æ¥å£ func (r rect) area() float64 { return r.width * r.height } func (r rect) perim() float64 { return 2*r.width + 2*r.height } //circleå®ç°æ¥å£ func (c circle) area() float64 { return math.Pi * c.radius * c.radius } func (c circle) perim() float64 { return math.Pi * c.radius * 2 } //å¦‚æœæœ‰ä¸€ä¸ªå˜é‡æ˜¯æ¥å£ç±»å‹ï¼Œå¯ä»¥è°ƒç”¨è¿™ä¸ªè¢«å‘½åæ¥å£çš„æ–¹æ³• //è¿™é‡Œæœ‰ä¸€ä¸ªé€šç”¨çš„measureå‡½æ•°ï¼Œåˆ©ç”¨ç‰¹æ€§ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•geometry(å‡ ä½•å­¦)ä¸Š func measure(g geometry) { fmt.Println(g) fmt.Println(g.area()) fmt.Println(g.perim()) } func main() { r := rect{width: 3, height: 4} c := circle{radius: 5} //ç»“æ„ä½“ç±»å‹circleå’Œrectéƒ½å®ç°äº†geometryæ¥å£ //æ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»–ä»¬çš„å®ä¾‹ä½œä¸ºmeasureçš„å‚æ•° measure(r) measure(c) } ","date":"2021-02-17","objectID":"/go-study-10/:6:1","tags":["golang"],"title":"Go Study 10","uri":"/go-study-10/"},{"categories":["å­¦ä¹ "],"content":"Go Study 09-GOPATH","date":"2021-02-17","objectID":"/go-study-09/","tags":["golang"],"title":"Go Study 09","uri":"/go-study-09/"},{"categories":["å­¦ä¹ "],"content":"GOPATHç¯å¢ƒå˜é‡ é»˜è®¤åœ¨~/go(unixï¼Œlinux)ï¼Œ%USERPOFILE%\\go(windows) å®˜æ–¹æ¨èï¼šæ‰€æœ‰é¡¹ç›®å’Œç¬¬ä¸‰æ–¹åº“éƒ½æ”¾åœ¨åŒä¸€ä¸ªGOPATHä¸‹ ä¹Ÿå¯ä»¥å°†æ¯ä¸ªé¡¹ç›®æ”¾åœ¨ä¸åŒçš„GOPATH ","date":"2021-02-17","objectID":"/go-study-09/:1:0","tags":["golang"],"title":"Go Study 09","uri":"/go-study-09/"},{"categories":["å­¦ä¹ "],"content":"go get è·å–ç¬¬ä¸‰æ–¹åº“ go get + åŒ…(githubå¯ä»¥ï¼Œgolangä¸è¡Œ) ä½¿ç”¨gopmæ¥è·å–æ— æ³•ä¸‹è½½çš„åŒ… go get -v github.com/gpmgo/gopm ","date":"2021-02-17","objectID":"/go-study-09/:2:0","tags":["golang"],"title":"Go Study 09","uri":"/go-study-09/"},{"categories":["å­¦ä¹ "],"content":"GOPATHä¸‹ç›®å½•ç»“æ„ go buildæ¥ç¼–è¯‘ go install äº§ç”Ÿpkgæ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶ go run ç›´æ¥ç¼–è¯‘è¿è¡Œ ","date":"2021-02-17","objectID":"/go-study-09/:3:0","tags":["golang"],"title":"Go Study 09","uri":"/go-study-09/"},{"categories":["å­¦ä¹ "],"content":"GOPATHä¸‹ç›®å½•ç»“æ„ src git repository 1 git repository 2 pkg git repository 1 git repository 2 bin æ‰§è¡Œæ–‡ä»¶1,2,3â€¦ ","date":"2021-02-17","objectID":"/go-study-09/:4:0","tags":["golang"],"title":"Go Study 09","uri":"/go-study-09/"},{"categories":["å­¦ä¹ "],"content":"Go Study 08-å°è£…","date":"2021-02-16","objectID":"/go-study-08/","tags":["golang"],"title":"Go Study 08","uri":"/go-study-08/"},{"categories":["å­¦ä¹ "],"content":"å°è£… åå­—ä¸€èˆ¬ä½¿ç”¨CamelCase é¦–å­—æ¯å¤§å†™ï¼špublic é¦–å­—æ¯å°å†™ï¼šprivate ","date":"2021-02-16","objectID":"/go-study-08/:1:0","tags":["golang"],"title":"Go Study 08","uri":"/go-study-08/"},{"categories":["å­¦ä¹ "],"content":"åŒ… æ¯ä¸ªç›®å½•ä¸€ä¸ªåŒ… mainåŒ…åŒ…å«å¯æ‰§è¡Œå…¥å£ ä¸ºç»“æ„å®šä¹‰çš„æ–¹æ³•å¿…é¡»æ”¾åœ¨åŒä¸€ä¸ªåŒ…å†… å¯ä»¥æ˜¯ä¸åŒæ–‡ä»¶ ","date":"2021-02-16","objectID":"/go-study-08/:2:0","tags":["golang"],"title":"Go Study 08","uri":"/go-study-08/"},{"categories":["å­¦ä¹ "],"content":"å¦‚ä½•æ‰©å……ç³»ç»Ÿç±»å‹æˆ–è€…åˆ«äººçš„ç±»å‹ å®šä¹‰åˆ«å ä½¿ç”¨ç»„åˆ ","date":"2021-02-16","objectID":"/go-study-08/:2:1","tags":["golang"],"title":"Go Study 08","uri":"/go-study-08/"},{"categories":["å­¦ä¹ "],"content":"Go Study 07-é¢å‘å¯¹è±¡ï¼Œstruct","date":"2021-02-16","objectID":"/go-study-07/","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"é¢å‘å¯¹è±¡ goè¯­è¨€ä»…æ”¯æŒå°è£…ï¼Œä¸æ”¯æŒç»§æ‰¿å’Œå¤šæ€ goè¯­è¨€æ²¡æœ‰classï¼Œåªæœ‰struct ","date":"2021-02-16","objectID":"/go-study-07/:1:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"ç»“æ„çš„åˆ›å»º type treeNode struct { value int left, right *treeNode } //è‡ªå®šä¹‰å·¥å‚å‡½æ•° func createNode(value int) *treeNode { //è¿”å›å±€éƒ¨å˜é‡åœ°å€ return \u0026treeNode{value: value} } func main() { var root treeNode fmt.Println(root) root = treeNode{value: 3} root.left = \u0026treeNode{} root.right = \u0026treeNode{5, nil, nil} root.right.left = new(treeNode) root.left.right = createNode(2) } ä¸è®ºåœ°å€è¿˜æ˜¯ç»“æ„æœ¬èº«ï¼Œä¸€å¾‹ä½¿ç”¨.æ¥è®¿é—®æˆå‘˜ ä½¿ç”¨è‡ªå®šä¹‰å·¥å‚å‡½æ•°(createNode) æ³¨æ„è¿”å›äº†å±€éƒ¨å˜é‡çš„åœ°å€ ","date":"2021-02-16","objectID":"/go-study-07/:2:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºç»“æ„å®šä¹‰æ–¹æ³• func (node treeNode) print() { fmt.Println(node.value) } æ˜¾ç¤ºå®šä¹‰å’Œå‘½åæ–¹æ³•æ¥å—è€… ","date":"2021-02-16","objectID":"/go-study-07/:3:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ–¹æ³•æ¥å—è€… func (node *treeNode) setValue(value int) { node.value = value } åªæœ‰ä½¿ç”¨æŒ‡é’ˆæ‰å¯ä»¥æ”¹å˜ç»“æ„å†…å®¹ nilæŒ‡é’ˆä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³• ","date":"2021-02-16","objectID":"/go-study-07/:4:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"å€¼æ¥å—è€… vs æŒ‡é’ˆæ¥å—è€… è¦æ”¹å˜å†…å®¹å¿…é¡»ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… ç»“æ„è¿‡å¤§ä¹Ÿè€ƒè™‘ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…(å› ä¸ºå€¼æ¥æ”¶è€…ä½¿ç”¨æ—¶ä¼šæ‹·è´ä¸€ä»½ï¼Œç»“æ„è¿‡å¤§æ‹·è´ä»£ä»·ä¹Ÿå¤§) ä¸€è‡´æ€§ï¼šå¦‚æœ‰æŒ‡é’ˆæ¥æ”¶è€…ï¼Œæœ€å¥½éƒ½ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€… å¾ˆç®€å•çš„ä¸å¯å˜å¯¹è±¡ä½¿ç”¨å€¼æ¥æ”¶è€…å¯ä»¥å‡è½»GCè´Ÿæ‹…(å¤ªå¤šçš„æŒ‡é’ˆä¼šå¢åŠ åƒåœ¾æœåŠ¡å™¨GCçš„è´Ÿæ‹…) å€¼æ¥æ”¶è€…æ˜¯goè¯­è¨€ç‰¹æœ‰ å€¼/æŒ‡é’ˆæ¥æ”¶è€…å‡å¯æ¥æ”¶å€¼/æŒ‡é’ˆ ","date":"2021-02-16","objectID":"/go-study-07/:5:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-16","objectID":"/go-study-07/:6:0","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"ç»“æ„ä½“ Goçš„ç»“æ„ä½“æ˜¯å„ä¸ªå­—æ®µ å­—æ®µç±»å‹çš„é›†åˆ package main import \"fmt\" type person struct { name string age int } func main() { //ä½¿ç”¨è¿™ä¸ªè¯­æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æ„ä½“å‡½æ•° fmt.Println(person{\"Bob\", 20}) //å¯ä»¥åœ¨åˆå§‹åŒ–ä¸€ä¸ªç»“æ„ä½“å…ƒç´ æ—¶æŒ‡å®šå­—æ®µå fmt.Println(person{name:\"Alice\", age:18}) //çœç•¥çš„å­—æ®µå°†è¢«åˆå§‹åŒ–ä¸ºé›¶å€¼ fmt.Println(person{name:\"Fred\"}) //\u0026å‰ç¼€ç”Ÿæˆä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆ fmt.Println(\u0026person{name:\"Ann\", age:40}) //ä½¿ç”¨ç‚¹æ¥è®¿é—®ç»“æ„ä½“å­—æ®µ s := person{name:\"Sean\", age:50} fmt.Println(s.name) fmt.Println(s.age) //ä¹Ÿå¯ä»¥å¯¹ç»“æ„ä½“æŒ‡é’ˆå¼•ç”¨ï¼ŒæŒ‡é’ˆä¼šè¢«è‡ªåŠ¨è§£å¼•ç”¨ sp := \u0026s fmt.Println(sp.age) //ç»“æ„ä½“æ˜¯å¯å˜çš„ sp.age = 51 fmt.Println(s.age) s.age = 52 fmt.Println(s.age) } ","date":"2021-02-16","objectID":"/go-study-07/:6:1","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"æ–¹æ³• Goæ”¯æŒåœ¨ç»“æ„ä½“ç±»å‹ä¸­å®šä¹‰æ–¹æ³• package main import \"fmt\" type rect struct { wight int height int } //areaæ–¹æ³•æœ‰ä¸€ä¸ªæ¥æ”¶å™¨ç±»å‹rectæ¥è®¡ç®—çŸ©å½¢é¢ç§¯ func (r rect) area() int { return r.height * r.wight } //å¯ä»¥ä¸ºå€¼æˆ–æŒ‡é’ˆç±»å‹çš„æ¥æ”¶å™¨å®šä¹‰æ–¹æ³•ï¼Œè¿™æ˜¯ä¸ªå€¼ç±»å‹æ¥æ”¶å™¨ //è®¡ç®—çŸ©å½¢å‘¨é•¿ func (r rect) perim() int { return 2*r.wight + 2*r.height } //æŒ‡é’ˆç±»å‹æ¥æ”¶å™¨å¯ä»¥æ”¹å˜å®é™…å€¼ func (r *rect) changeH(val int) { r.height = val } //å€¼ç±»å‹æ¥æ”¶å™¨æ”¹å˜æ‹·è´å€¼ func (r rect) changeW(val int) { r.wight = val } func main() { r := rect{10, 5} //è°ƒç”¨ä¸Šé¢ä¸ºç»“æ„ä½“å®šä¹‰çš„æ–¹æ³• fmt.Println(r.area()) fmt.Println(r.perim()) r.changeH(20) r.changeW(15) fmt.Println(r) //Goè‡ªåŠ¨å¤„ç†æ–¹æ³•è°ƒç”¨æ—¶å€¼å’ŒæŒ‡é’ˆä¹‹é—´çš„è½¬æ¢ //å¯ä»¥ä½¿ç”¨æŒ‡é’ˆæ¥è°ƒç”¨æ–¹æ³•é¿å…åœ¨æ–¹æ³•è°ƒç”¨æ—¶äº§ç”Ÿä¸€ä¸ªæ‹·è´æˆ–è®©æ–¹æ³•èƒ½å¤Ÿæ”¹å˜æ¥æ”¶çš„æ•°æ® rp := \u0026r rp.changeH(25) rp.changeW(30) fmt.Println(rp.area()) fmt.Println(rp.perim()) } ","date":"2021-02-16","objectID":"/go-study-07/:6:2","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"å€¼å’ŒæŒ‡é’ˆ Goæ”¯æŒæŒ‡é’ˆï¼Œå…è®¸åœ¨ç¨‹åºä¸­é€šè¿‡å¼•ç”¨ä¼ é€’å€¼æˆ–æ•°æ®ç»“æ„ package main import \"fmt\" //é€šè¿‡ä¸¤ä¸ªä¸åŒçš„å‡½æ•°æ¥æ¯”è¾ƒå€¼å’ŒæŒ‡é’ˆç±»å‹çš„ä¸åŒ //zeroValæœ‰ä¸€ä¸ªintå‹å‚æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨å€¼ä¼ é€’ //zeroValå°†ä»è°ƒç”¨å®ƒçš„å‡½æ•°ä¸­è·å¾—ä¸€ä¸ªivalå½¢å‚çš„æ‹·è´ func zeroVal(ival int) { ival = 0 } //zeroPtrå’Œä¸Šé¢ä¸åŒæ˜¯*intï¼Œæ„å‘³ç€å®ƒä½¿ç”¨çš„æ˜¯æŒ‡é’ˆ //å‡½æ•°ä½“å†…çš„*iptræ¥ç€è§£å¼•ç”¨è¿™ä¸ªæŒ‡é’ˆï¼Œä»å®ƒå†…å­˜åœ°å€å¾—åˆ°è¿™ä¸ªåœ°å€å½“å‰å€¼ //å¯¹ä¸€ä¸ªè§£å¼•ç”¨æŒ‡é’ˆè¿›è¡Œèµ‹å€¼ä¼šæ”¹å˜è¿™ä¸ªæŒ‡é’ˆå¼•ç”¨çš„çœŸå®åœ°å€çš„å€¼ func zeroPtr(iptr *int) { *iptr = 0 } func main() { i := 1 fmt.Println(\"initial: \", i) zeroVal(i) fmt.Println(\"zeroVal: \", i) //é€šè¿‡\u0026iè¯­æ³•æ¥è·å–içš„å†…å­˜åœ°å€ zeroPtr(\u0026i) //æŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥è¢«æ‰“å°çš„ fmt.Println(\"zeroPtr: \", i) fmt.Println(\"point: \", \u0026i) } ","date":"2021-02-16","objectID":"/go-study-07/:6:3","tags":["golang"],"title":"Go Study 07","uri":"/go-study-07/"},{"categories":["å­¦ä¹ "],"content":"Go Study 06-runeå­—ç¬¦ä¸²","date":"2021-02-16","objectID":"/go-study-06/","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"runeç›¸å½“äºgoçš„char ","date":"2021-02-16","objectID":"/go-study-06/:1:0","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨rangeéå†posï¼Œruneå¯¹ s := \"Yesæˆ‘æ˜¯ä½ çˆ¸çˆ¸!\" for _, b := range []byte(s) { fmt.Printf(\"%X \", b) } fmt.Println() for i, ch := range s { fmt.Printf(\"(%d %X) \", i, ch) } ","date":"2021-02-16","objectID":"/go-study-06/:1:1","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨utf8.RuneCountInStringè·å¾—å­—ç¬¦æ•°é‡ fmt.Println(\"Rune count:\", utf8.RuneCountInString(s)) ","date":"2021-02-16","objectID":"/go-study-06/:1:2","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨lenè·å¾—å­—èŠ‚é•¿åº¦ fmt.Println(len(s)) ","date":"2021-02-16","objectID":"/go-study-06/:1:3","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨[]byteè·å¾—å­—èŠ‚ bytes := []byte(s) for len(bytes) \u003e 0 { ch, size := utf8.DecodeRune(bytes) bytes = bytes[size:] fmt.Printf(\"%c \", ch) } ","date":"2021-02-16","objectID":"/go-study-06/:1:4","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"å…¶ä»–å­—ç¬¦ä¸²æ“ä½œ ","date":"2021-02-16","objectID":"/go-study-06/:2:0","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"Fieldsï¼ŒSplitï¼ŒJoin ","date":"2021-02-16","objectID":"/go-study-06/:2:1","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"Containsï¼ŒIndex ","date":"2021-02-16","objectID":"/go-study-06/:2:2","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"ToLowerï¼ŒToUpper ","date":"2021-02-16","objectID":"/go-study-06/:2:3","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"Trimï¼ŒTrimRightï¼ŒTrimLeft","date":"2021-02-16","objectID":"/go-study-06/:2:4","tags":["golang"],"title":"Go Study 06","uri":"/go-study-06/"},{"categories":["å­¦ä¹ "],"content":"Go Study 05-leetcodeä¾‹é¢˜","date":"2021-02-16","objectID":"/go-study-05/","tags":["golang"],"title":"Go Study 05","uri":"/go-study-05/"},{"categories":["å­¦ä¹ "],"content":"å¯»æ‰¾æœ€é•¿ä¸å«æœ‰é‡å¤å­—ç¬¦çš„å­ä¸² abcabcbb -\u003e abc bbbbb -\u003e b pwwkew -\u003ewke func lenthofNonRepeatingSubStr(s string) int { lastOccurred := make(map[rune]int) start := 0 maxLength := 0 for i, ch := range []rune (s){ if lastI, ok := lastOccurred[ch]; ok \u0026\u0026 lastI \u003e= start { fmt.Println(lastI) fmt.Println(ok) start = lastI + 1 } if i-start+1 \u003e maxLength { maxLength = i-start+1 } lastOccurred[ch] = i } return maxLength } ","date":"2021-02-16","objectID":"/go-study-05/:1:0","tags":["golang"],"title":"Go Study 05","uri":"/go-study-05/"},{"categories":["å­¦ä¹ "],"content":"Go Study 04-æ•°ç»„ã€åˆ‡ç‰‡å’Œå®¹å™¨","date":"2021-02-15","objectID":"/go-study-04/","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ•°ç»„ var arr1 [5]int arr2 := [3]int{1,3,5} arr3 := [...]int{2,4,6,8,10} var grid [4][5]int æ•°é‡å†™åœ¨ç±»å‹å‰ ","date":"2021-02-15","objectID":"/go-study-04/:1:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ•°ç»„çš„éå† é•¿åº¦éå† for i := 0; i \u003c len(arr3); i++ { fmt.Println(arr3[i]) } rangeåªå–index for i := range arr3 { fmt.Println(arr3[i]) } rangeå–indexå’Œvalue maxi := -1 maxnum := -1 for i, v := range arr3{ if v \u003e maxnum { maxi = i maxnum = v } } fmt.Println(maxi, maxnum) rangeåªå–value sum := 0 for _, v := range arr3 { sum += v } å¯ä»¥é€šè¿‡_çœç•¥å˜é‡ ä¸ä»…rangeï¼Œä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡_çœç•¥å˜é‡ å¦‚æœåªè¦iï¼Œå¯å†™æˆ for i := range numbers ","date":"2021-02-15","objectID":"/go-study-04/:2:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆè¦ç”¨range æ„ä¹‰æ˜ç¡®ï¼Œç¾è§‚ ","date":"2021-02-15","objectID":"/go-study-04/:3:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ•°ç»„æ˜¯å€¼ç±»å‹ [10]int å’Œ[20]int æ˜¯ä¸åŒç±»å‹ è°ƒç”¨func f(arr [10]int) ä¼šæ‹·è´æ•°ç»„ åœ¨goè¯­è¨€ä¸­ä¸€èˆ¬ä¸ç›´æ¥ä½¿ç”¨æ•°ç»„ ","date":"2021-02-15","objectID":"/go-study-04/:4:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Slice(åˆ‡ç‰‡) arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7} s := arr[2:6] sçš„å€¼ä¸º[2 3 4 5] arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7} s := arr[2:6] s[0] = 10 Slice æœ¬èº«æ²¡æœ‰æ•°æ®ï¼Œæ˜¯å¯¹åº•å±‚arrayçš„ä¸€ä¸ªview arr çš„å€¼å˜ä¸º[0 1 10 3 4 5 6 7] ","date":"2021-02-15","objectID":"/go-study-04/:5:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Reslice s := arr[2:6] s = s[:3] s = s[1:] s = arr[:] ","date":"2021-02-15","objectID":"/go-study-04/:6:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Slice çš„å®ç° sliceçš„å®ç°\u0026ldquo;sliceçš„å®ç°\u0026rdquo; \"\rsliceçš„å®ç°\r ","date":"2021-02-15","objectID":"/go-study-04/:7:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Slice çš„æ‰©å±• arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7} s1 := arr[2:6] s2 := arr[3:5] s1 çš„å€¼ä¸º[2 3 4 5]ï¼Œs2 çš„å€¼ä¸º[5 6] slice å¯ä»¥å‘åæ‰©å±•ï¼Œä¸å¯ä»¥å‘å‰æ‰©å±• s[i] ä¸å¯ä»¥è¶…è¶Š len(s)ï¼Œå‘åæ‰©å±•ä¸å¯ä»¥è¶…è¶Šåº•å±‚æ•°ç»„cap(s) ","date":"2021-02-15","objectID":"/go-study-04/:8:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"å‘Slice æ·»åŠ å…ƒç´  æ·»åŠ å…ƒç´ æ—¶å¦‚æœè¶…è¶Šcapï¼Œç³»ç»Ÿå°±ä¼šé‡æ–°åˆ†é…æ›´å¤§çš„åº•å±‚æ•°ç»„ ç”±äºå€¼ä¼ é€’çš„å…³ç³»ï¼Œå¿…é¡»æ¥å—appendçš„è¿”å›å€¼ s = append(s, val) ","date":"2021-02-15","objectID":"/go-study-04/:9:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºSlice ","date":"2021-02-15","objectID":"/go-study-04/:10:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºä¸€ä¸ªå‰99ä¸ªå¥‡æ•° var s []int for i := 0; i \u003c 100; i++ { s = append(s, 2*i+1) } ","date":"2021-02-15","objectID":"/go-study-04/:10:1","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºä¸€ä¸ªç¡®å®šçš„åˆ‡ç‰‡ s1 := []int{2, 4, 6, 8} ","date":"2021-02-15","objectID":"/go-study-04/:10:2","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºä¸€ä¸ªlenä¸º16çš„åˆ‡ç‰‡ s2 := make([]int, 16) ","date":"2021-02-15","objectID":"/go-study-04/:10:3","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºä¸€ä¸ªlenä¸º10ï¼Œcapä¸º32çš„åˆ‡ç‰‡ s3 := make([]int, 10, 32) ","date":"2021-02-15","objectID":"/go-study-04/:10:4","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"å¤åˆ¶åˆ‡ç‰‡ copy(s2, s1) ","date":"2021-02-15","objectID":"/go-study-04/:11:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤åˆ‡ç‰‡çš„å…ƒç´  ","date":"2021-02-15","objectID":"/go-study-04/:12:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤åˆ‡ç‰‡é‡Œçš„ä¸€ä¸ªå…ƒç´ (åˆ é™¤s2çš„ç¬¬å››ä¸ªå…ƒç´ ) s2 = append(s2[:3], s2[4:]...) ","date":"2021-02-15","objectID":"/go-study-04/:12:1","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤åˆ‡ç‰‡ç¬¬ä¸€ä¸ªå…ƒç´  s2 = s2[1:] ","date":"2021-02-15","objectID":"/go-study-04/:12:2","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤åˆ‡ç‰‡æœ€åä¸€ä¸ªå…ƒç´  s2 = s2[:len(s2)-1] ","date":"2021-02-15","objectID":"/go-study-04/:12:3","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Map m := map[string]string { \"name\": \"cc\", \"course\": \"golang\", \"site\": \"im\", \"quality\": \"notbad\" } map[K]V, map[K1]map[K2]V ","date":"2021-02-15","objectID":"/go-study-04/:13:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Mapçš„æ“ä½œ ","date":"2021-02-15","objectID":"/go-study-04/:14:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Mapçš„éå† ä½¿ç”¨rangeéå†keyï¼Œæˆ–è€…éå†keyï¼Œvalueå¯¹ for k, v := range m { fmt.Println(k, v) } ä¸ä¿è¯éå†é¡ºåºï¼Œå¦‚éœ€é¡ºåºï¼Œéœ€æ‰‹åŠ¨å¯¹keyæ’åº ä½¿ç”¨lenæ¥è·å¾—å…ƒç´ çš„ä¸ªæ•° ","date":"2021-02-15","objectID":"/go-study-04/:14:1","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ›å»ºï¼šmake(map[string]int) //m2 == empty m2 := make(map[string]int) //m3 == nil var m3 map[string]int ","date":"2021-02-15","objectID":"/go-study-04/:14:2","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"è·å–å…ƒç´ ï¼šmap[key] name := m[\"name\"] ","date":"2021-02-15","objectID":"/go-study-04/:14:3","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"keyä¸å­˜åœ¨æ—¶ï¼Œè·å¾—Valueç±»å‹çš„åˆå§‹å€¼ name1 := m[\"name1\"] ","date":"2021-02-15","objectID":"/go-study-04/:14:4","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"ç”¨value, ok := map[key]æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨key if name1, ok := m[\"name1\"]; ok { fmt.Println(name1) } else { fmt.Println(\"key does not exist\") } ","date":"2021-02-15","objectID":"/go-study-04/:14:5","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨deleteæ¥åˆ é™¤ä¸€ä¸ªå…ƒç´  delete(m, \"age\") ","date":"2021-02-15","objectID":"/go-study-04/:14:6","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Mapçš„key mapä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œå¿…é¡»å¯ä»¥æ¯”è¾ƒç›¸ç­‰ é™¤äº†sliceï¼Œmapï¼Œfunctionçš„å†…å»ºç±»å‹éƒ½å¯ä»¥ä½œä¸ºkey Structç±»å‹ä¸åŒ…å«ä¸Šè¿°å­—æ®µï¼Œä¹Ÿå¯ä»¥ä½œä¸ºkey ","date":"2021-02-15","objectID":"/go-study-04/:15:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-15","objectID":"/go-study-04/:16:0","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"æ•°ç»„ åœ¨Goä¸­æ•°ç»„æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°åˆ—ã€‚åœ¨Goä¸­ç›¸å¯¹äºæ•°ç»„è€Œè¨€ï¼Œsliceä½¿ç”¨æ›´å¤š func arraySample() { //åˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„aæ¥å­˜æ”¾åˆšå¥½5ä¸ªintã€‚å…ƒç´ ç±»å‹å’Œé•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ† //æ•°ç»„é»˜è®¤æ˜¯é›¶å€¼ var a [5]int fmt.Println(a) //ä½¿ç”¨array[index] = valueè¯­æ³•æ¥è®¾ç½®æ•°ç»„æŒ‡å®šä½ç½®çš„å€¼ //ä½¿ç”¨array[index]æ¥å¾—åˆ°å€¼ a[4] = 100 fmt.Println(a) fmt.Println(a[4]) //ä½¿ç”¨å†…ç½®å‡½æ•°lenè¿”å›æ•°ç»„çš„é•¿åº¦ fmt.Println(\"len: \", len(a)) //ä½¿ç”¨è¿™ä¸ªè¯­æ³•ä¸€è¡Œå†…åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ b := [5]int{1, 2, 3, 4, 5} fmt.Println(\"dcl: \", b) //æ•°ç»„çš„å­˜å‚¨ç±»å‹æ˜¯å•ä¸€çš„ï¼Œä½†æ˜¯å¯ä»¥ç»„åˆè¿™äº›æ•°æ®æ¥æ„é€ å¤šç»´çš„æ•°æ®ç»“æ„ var twoD [2][3]int for i := 0; i \u003c 2; i++ { for j := 0; j \u003c 3; j++ { twoD[i][j] = i + j } } fmt.Println(\"2d: \", twoD) } ","date":"2021-02-15","objectID":"/go-study-04/:16:1","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"åˆ‡ç‰‡ Sliceæ˜¯Goä¸­ä¸€ä¸ªå…³é”®çš„æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªæ¯”æ•°ç»„æ›´åŠ å¼ºå¤§çš„åºåˆ—æ¥å£ func sliceSample() { //sliceçš„ç±»å‹ä»…ç”±å®ƒæ‰€åŒ…å«çš„å…ƒç´ å†³å®š(ä¸åƒæ•°ç»„è¿˜éœ€è¦å…ƒç´ ä¸ªæ•°) //åˆ›å»ºä¸€ä¸ªé•¿åº¦éé›¶çš„ç©ºsliceï¼Œéœ€è¦ä½¿ç”¨å†…å»ºçš„æ–¹æ³• make //åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º3çš„stringç±»å‹slice(åˆå§‹åŒ–ä¸ºé›¶å€¼) s := make([]string, 3) fmt.Println(\"emp: \", s) //é€šè¿‡slice[index] = valueæ¥è®¾ç½®å€¼ //slice[index]æ¥è·å–å€¼ s[0] = \"a\" s[1] = \"b\" s[2] = \"c\" fmt.Println(s) fmt.Println(s[2]) //é€šè¿‡lenæ¥è·å–sliceé•¿åº¦ fmt.Println(\"len: \", len(s)) //ä½œä¸ºåŸºæœ¬æ“ä½œçš„è¡¥å……ï¼Œsliceæ”¯æŒæ¯”æ•°ç»„æ›´å¤šçš„æ“ä½œ //å…¶ä¸­ä¸€ä¸ªæ˜¯å†…å»ºçš„appendï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ–°å€¼çš„slice //sliceåº•å±‚æ˜¯ç”±æŒ‡é’ˆæ•°ç»„å’Œlenä»¥åŠcapç»„æˆçš„ï¼Œappendä¸ä¼šæ”¹å˜sliceåœ°å€ s = append(s, \"d\") s = append(s, \"e\", \"f\") fmt.Println(\"append: \", s) //sliceå¯ä»¥è¢«copy //è¿™é‡Œæ–°å»ºä¸€ä¸ªç©ºçš„å’Œsç›¸åŒé•¿åº¦çš„slice cï¼Œå¹¶å°†så¤åˆ¶ç»™c c := make([]string, len(s)) copy(c, s) fmt.Println(\"copy c: \",c) //sliceæ”¯æŒé€šè¿‡slice[low:high]è¯­æ³•è¿›è¡Œåˆ‡ç‰‡å¤„ç† l := s[2:5] fmt.Println(\"åˆ‡ç‰‡ä¹‹å2-5slice: \", l) //è¿™ä¸ªsliceä»s[0]åˆ°(åŒ…å«)s[5] l = s[:5] fmt.Println(\"ä»s[0]åˆ°s[5]: \", l) //è¿™ä¸ªsliceä»s[2]åˆ°sæœ€åä¸€ä¸ªå€¼ l = s[2:] fmt.Println(\"ä»s[2]åˆ°sliceæœ€åä¸€ä¸ªå€¼: \", l) //åœ¨ä¸€è¡Œä»£ç ä¸­å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªsliceå˜é‡ t := []string{\"g\", \"h\", \"i\"} fmt.Println(\"dcl: \", t) //sliceå¯ä»¥ç»„æˆå¤šç»´æ•°æ®ç»“æ„ twoD := make([][]int, 3) for i := 0; i \u003c 3; i++ { innerlen := 4 twoD[i] = make([]int, innerlen) for j := 0; j \u003c innerlen; j++ { twoD[i][j] = i + j } } fmt.Println(\"2d: \", twoD) } ","date":"2021-02-15","objectID":"/go-study-04/:16:2","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"å…³è”æ•°ç»„ mapæ˜¯Goå†…ç½®å…³è”æ•°æ®ç±»å‹(åœ¨å…¶ä»–è¯­è¨€æˆä¸ºå“ˆå¸Œæˆ–å­—å…¸) func mapsSample() { //è¦åˆ›å»ºä¸€ä¸ªç©ºçš„mapï¼Œéœ€è¦ä½¿ç”¨å†…å»ºçš„map1 := make(map[key-type]value-type) m := make(map[string]int) fmt.Println(m) //ä½¿ç”¨ç»å…¸çš„map1[key] = valueè¯­æ³•æ¥è®¾ç½®é”®å€¼å¯¹ m[\"k1\"] = 1 m[\"k2\"] = 2 fmt.Println(\"map: \", m) //ä½¿ç”¨map1[key]æ¥è·å–ä¸€ä¸ªé”®çš„å€¼ v1 := m[\"k1\"] fmt.Println(v1) //å½“å¯¹ä¸€ä¸ªmapè°ƒç”¨å†…å»ºlenï¼Œè¿”å›çš„æ˜¯é”®å€¼å¯¹æ•°ç›® fmt.Println(\"len: \", len(m)) //å†…å»ºçš„deleteå¯ä»¥ä»ä¸€ä¸ªmapä¸­ç§»é™¤é”®å€¼å¯¹ delete(m, \"k2\") fmt.Println(\"delete\", m) //ä»ä¸€ä¸ªmapä¸­å–å€¼æ—¶ï¼Œå¯é€‰ç¬¬äºŒä¸ªè¿”å›å€¼æ˜¯è¿™ä¸ªé”®æ˜¯å¦å­˜åœ¨äºmapä¸­ //è¿™ä¸ªå¯ä»¥ç”¨æ¥æ¶ˆé™¤é”®ä¸å­˜åœ¨æˆ–é”®æœ‰é›¶å€¼äº§ç”Ÿçš„æ­§ä¹‰ _, prs := m[\"k2\"] fmt.Println(\"prs: \", prs) //ä¸€è¡Œç”³æ˜å’Œåˆå§‹åŒ–ä¸€ä¸ªmap n := map[string]int{\"foo\": 1, \"bar\": 2, \"zhang\": 3} fmt.Println(n) } ","date":"2021-02-15","objectID":"/go-study-04/:16:3","tags":["golang"],"title":"Go Study 04","uri":"/go-study-04/"},{"categories":["å­¦ä¹ "],"content":"Go Study 03-å¾ªç¯è¯­å¥","date":"2021-02-15","objectID":"/go-study-03/","tags":["golang"],"title":"Go Study 03","uri":"/go-study-03/"},{"categories":["å­¦ä¹ "],"content":"for forçš„æ¡ä»¶é‡Œä¸éœ€è¦æ‹¬å· forçš„æ¡ä»¶é‡Œå¯ä»¥çœç•¥åˆå§‹æ¡ä»¶ï¼Œç»“æŸæ¡ä»¶ï¼Œé€’å¢è¡¨è¾¾å¼ sum := 0 for i := 1; i \u003c= 100; i++ { sum += i } çœç•¥åˆå§‹æ¡ä»¶ï¼Œç›¸å½“äºwhile func convertToBin(n int) string { result := \"\" for ; n \u003e 0; n /= 2 { lsp := n % 2 result = strconv.Itoa(lsp) + result } return result } çœç•¥åˆå§‹æ¡ä»¶å’Œé€’å¢æ¡ä»¶ï¼Œä¹Ÿç›¸å½“äºwhile func printFile(filename string) { file, err := os.Open(filename) if err != nil { panic(err) } // é€è¡Œè¯»å–fileçš„å†…å®¹ scanner := bufio.NewScanner(file) for scanner.Scan() { fmt.Println(scanner.Text()) } } æ— é™å¾ªç¯ func forever() { for { fmt.Println(\"abc\") } } ","date":"2021-02-15","objectID":"/go-study-03/:1:0","tags":["golang"],"title":"Go Study 03","uri":"/go-study-03/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬è¯­æ³•è¦ç‚¹å›é¡¾ for, ifåé¢çš„æ¡ä»¶æ²¡æœ‰æ‹¬å· ifæ¡ä»¶é‡Œä¹Ÿå¯ä»¥å®šä¹‰å˜é‡ æ²¡æœ‰while switchä¸éœ€è¦breakï¼Œä¹Ÿå¯ä»¥ç›´æ¥switchå¤šä¸ªæ¡ä»¶ ","date":"2021-02-15","objectID":"/go-study-03/:2:0","tags":["golang"],"title":"Go Study 03","uri":"/go-study-03/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ func sample() { //1.æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå¸¦å•ä¸ªå¾ªç¯æ¡ä»¶ i := 1 for i \u003c= 3 { fmt.Println(i) i += 1 } //2.ç»å…¸çš„åˆå§‹åŒ–/æ¡ä»¶/åç»­å½¢å¼forå¾ªç¯ for j := 7; j \u003c= 9; j++ { fmt.Println(j) } //3.ä¸å¸¦æ¡ä»¶çš„forå¾ªç¯å°†ä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°å¾ªç¯ä½“å†…ä½¿ç”¨äº†breakæˆ–è€…returnæ¥è·³å‡ºå¾ªç¯ for { fmt.Println(\"loop\") break } } ","date":"2021-02-15","objectID":"/go-study-03/:3:0","tags":["golang"],"title":"Go Study 03","uri":"/go-study-03/"},{"categories":["å­¦ä¹ "],"content":"Rangeéå† rangeè¿­ä»£å„ç§å„æ ·çš„æ•°æ®ç»“æ„ func loopSample2() { //è¿™é‡Œä½¿ç”¨rangeæ¥ç»Ÿè®¡ä¸€ä¸ªsliceçš„å…ƒç´ ä¸ªæ•°ï¼Œæ•°ç»„ä¹Ÿé‡‡ç”¨è¿™ç§æ–¹å¼ nums := []int{2,4,5,3} sum := 0 for _, num := range nums { sum += num } fmt.Println(\"sum: \", sum) //rangeåœ¨æ•°ç»„å’Œsliceä¸­åŒæ ·æä¾›äº†æ¯é¡¹çš„ç´¢å¼•å’Œå€¼ //ä¸éœ€è¦ç´¢å¼•æ—¶å¯ä»¥ä½¿ç”¨_æ¥å¿½ç•¥å¥¹ for i, num := range nums { if num == 3 { fmt.Println(\"index: \", i) } } //rangeåœ¨mapä¸­è¿­ä»£é”®å€¼å¯¹ kvs := map[string]string{ \"name\": \"cc\", \"age\": \"18\", } for k, v := range kvs { fmt.Printf(\"%v -\u003e %v\\n\", k, v) } //rangeåœ¨å­—ç¬¦ä¸²ä¸­è¿­ä»£Unicodeç¼–ç  for i, v := range \"go\" { fmt.Println(i, v) } } ","date":"2021-02-15","objectID":"/go-study-03/:3:1","tags":["golang"],"title":"Go Study 03","uri":"/go-study-03/"},{"categories":["å­¦ä¹ "],"content":"Go Study 02-æ¡ä»¶è¯­å¥","date":"2021-02-15","objectID":"/go-study-02/","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"if ifçš„æ¡ä»¶é‡Œä¸éœ€è¦æ‹¬å· func bounded(v int) int { if v \u003e 100 { return 100 } else if v \u003c 0 { return 0 } else { return v } } ifçš„æ¡ä»¶é‡Œå¯ä»¥èµ‹å€¼ if contents, err := ioutil.ReadFile(filename); err != nil { fmt.Println(err) } else { fmt.Printf(\"%s\\n\", contents) } ifæ¡ä»¶é‡Œèµ‹å€¼çš„å˜é‡ä½œç”¨åŸŸå°±åœ¨è¿™ä¸ªifè¯­å¥é‡Œ ","date":"2021-02-15","objectID":"/go-study-02/:1:0","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"switch switchä¼šè‡ªåŠ¨breakï¼Œé™¤éä½¿ç”¨fallthrough func eval(a, b int, op string) int { var result int switch op { case \"+\": result = a + b case \"-\": result = a - b case \"*\": result = a * b case \"/\": result = a / b default: panic(\"unsupported operator:\" + op) } return result } switchåå¯ä»¥æ²¡æœ‰è¡¨è¾¾å¼ func grade(score int) string { g := \"\" switch { case score \u003c 60: g = \"D\" case score \u003c 80: g = \"C\" case score \u003c 90: g = \"B\" case score \u003c= 100: g = \"A\" default: panic(fmt.Sprintf(\"Wrong score: %d\", score)) } return g } ","date":"2021-02-15","objectID":"/go-study-02/:2:0","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-15","objectID":"/go-study-02/:3:0","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"if/elseåˆ†æ”¯ ifå’Œelseåˆ†æ”¯ç»“æ„åœ¨Goä¸­å½“ç„¶æ˜¯ç›´æ¥äº†å½“çš„äº† func branchSample1() { if 7 % 2 == 0 { //7æ˜¯å¶æ•° fmt.Println(\"7 is even\") } else { //7æ˜¯å¥‡æ•° fmt.Println(\"7 is odd\") } //ä¹Ÿå¯ä»¥ä¸è¦elseï¼Œåªç”¨if if 8 % 4 == 0 { fmt.Println(\"8 is divisible by 4\") } //åœ¨æ¡ä»¶è¯­å¥ä¹‹å‰å¯ä»¥æœ‰ä¸€ä¸ªè¯­å¥ï¼Œä»»ä½•åœ¨è¿™é‡Œå£°æ˜çš„å˜é‡éƒ½å¯ä»¥åœ¨æ‰€æœ‰çš„æ¡ä»¶åˆ†æ”¯ä¸­ä½¿ç”¨ if num := 9; num \u003c 0 { fmt.Println(num, \"is negative\") } else if num \u003c 10 { fmt.Println(num, \"has 1 digit\") } else { fmt.Println(num, \"has multiple digit\") } } ","date":"2021-02-15","objectID":"/go-study-02/:3:1","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"switchåˆ†æ”¯ func branchSample2() { //ä¸€ä¸ªåŸºæœ¬çš„switch i := 2 switch i { case 1: fmt.Println(\"one\") case 2: fmt.Println(\"two\") case 3: fmt.Println(\"three\") } //åœ¨ä¸€ä¸ªcaseè¯­å¥ä¸­å¯ä»¥ä½¿ç”¨é€—å·åˆ†å‰²å¤šä¸ªè¡¨è¾¾å¼ //ä½¿ç”¨äº†å¯é€‰çš„defaultåˆ†æ”¯ switch time.Now().Weekday() { case time.Saturday, time.Sunday: fmt.Println(\"It's the weekend\") default: fmt.Println(\"It's a weekday\") } //ä¸å¸¦è¡¨è¾¾å¼çš„switchæ˜¯å®ç°if/elseçš„å¦ä¸€ç§æ–¹å¼ //è¿™é‡Œå±•ç¤ºäº†caseè¡¨è¾¾å¼æ˜¯å¦‚ä½•ä½¿ç”¨éå¸¸é‡çš„ t := time.Now() switch { case t.Hour() \u003c 12: fmt.Println(\"it's before noon\") default: fmt.Println(\"it's after noon\") } } ","date":"2021-02-15","objectID":"/go-study-02/:3:2","tags":["golang"],"title":"Go Study 02","uri":"/go-study-02/"},{"categories":["å­¦ä¹ "],"content":"Go Study 01-å˜é‡å¸¸é‡","date":"2021-02-15","objectID":"/go-study-01/","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å˜é‡å®šä¹‰ ","date":"2021-02-15","objectID":"/go-study-01/:1:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨varå…³é”®å­— var a,b,c bool var s1,s2 string = â€œhelloâ€, â€œworldâ€ å¯ä»¥æ”¾åœ¨å‡½æ•°å†…ï¼Œæˆ–ç›´æ¥æ”¾åœ¨åŒ…å†… ä½¿ç”¨var()é›†ä¸­å®šä¹‰å˜é‡ ","date":"2021-02-15","objectID":"/go-study-01/:1:1","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"è®©ç¼–è¯‘å™¨è‡ªåŠ¨å†³å®šç±»å‹ var a,b,i,s1,s2 = true, false, 3, â€œhelloâ€, â€œworldâ€ ","date":"2021-02-15","objectID":"/go-study-01/:1:2","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨:=å®šä¹‰å˜é‡ a,b,i,s1,s2 := true, false, 3, â€œhelloâ€, â€œworldâ€ åªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨ ","date":"2021-02-15","objectID":"/go-study-01/:1:3","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å†…å»ºå˜é‡ç±»å‹ bool, string (u)int, (u)int8, (u)int16, (u)int32, (u)int(64), uintptr(æŒ‡é’ˆ) byte, rune float32, float64, complex64, complex128 (complexæ˜¯å¤æ•°) ","date":"2021-02-15","objectID":"/go-study-01/:2:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å¼ºåˆ¶ç±»å‹è½¬æ¢ ç±»å‹è½¬æ¢æ˜¯å¼ºåˆ¶çš„ var a,b int = 3, 4 var int = math.Sqrt(aa + bb) (é”™è¯¯) var int = int(math.Sqrt(float64(aa + bb))) (æ­£ç¡®) ","date":"2021-02-15","objectID":"/go-study-01/:3:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å¸¸é‡å®šä¹‰ const filename = â€œabc.txtâ€ const æ•°å€¼å¯ä»¥ä½œä¸ºå„ç§ç±»å‹ä½¿ç”¨ const a, b = 3, 4 var c int = int(math.Sqrt(aa + bb)) ","date":"2021-02-15","objectID":"/go-study-01/:4:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"ä½¿ç”¨å¸¸é‡å®šä¹‰æšä¸¾ç±»å‹ æ™®é€šæšä¸¾ç±»å‹ const ( cpp = 1 java = 2 python = 3 golang = 4 ) è‡ªå¢å€¼æšä¸¾ç±»å‹ const ( cpp = iota java python golang ) ","date":"2021-02-15","objectID":"/go-study-01/:5:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å˜é‡å®šä¹‰è¦ç‚¹å›é¡¾ å˜é‡ç±»å‹å†™åœ¨å˜é‡åä¹‹å ç¼–è¯‘å™¨å¯æ¨æµ‹å˜é‡ç±»å‹ æ²¡æœ‰charï¼Œåªæœ‰rune åŸç”Ÿæ”¯æŒå¤æ•°ç±»å‹ ","date":"2021-02-15","objectID":"/go-study-01/:6:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"æ¡ˆä¾‹ ","date":"2021-02-15","objectID":"/go-study-01/:7:0","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å€¼ Goæ‹¥æœ‰å„å€¼ç±»å‹ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ï¼Œæ•´å‹ï¼Œæµ®ç‚¹å‹ï¼Œå¸ƒå°”å‹ç­‰ func value() { //å­—ç¬¦ä¸²é€šè¿‡+è¿æ¥ fmt.Println(\"go\" + \"lang\") //æµ®ç‚¹æ•°å’Œæ•´æ•° fmt.Println(\"1+1=\", 1+1) fmt.Println(\"7.0/3.0=\", 7.0/3.0) //å¸ƒå°”å‹å’Œé€»è¾‘è¿ç®—ç¬¦ fmt.Println(true \u0026\u0026 false) fmt.Println(true || false) fmt.Println(!true) } ","date":"2021-02-15","objectID":"/go-study-01/:7:1","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å˜é‡ åœ¨Goä¸­ï¼Œå˜é‡è¢«æ˜¾å¼å£°æ˜ï¼Œå¹¶è¢«ç¼–è¯‘å™¨æ‰€ç”¨æ¥æ£€æŸ¥å‡½æ•°è°ƒç”¨æ—¶çš„ç±»å‹æ­£ç¡®æ€§ func varible() { //å£°æ˜ä¸€ä¸ªå˜é‡ var a string = \"initial\" fmt.Println(a) //å£°æ˜å¤šä¸ªå˜é‡ var b, c int = 1, 2 fmt.Println(b, c) //Go å°†è‡ªåŠ¨æ¨æ–­å·²ç»åˆå§‹åŒ–çš„å˜é‡ç±»å‹ var d = true fmt.Printf(\"%T %v\\n\", d, d) //å£°æ˜å˜é‡ä¸”æ²¡æœ‰ç»™å‡ºå¯¹åº”åˆå§‹å€¼ï¼Œå˜é‡ä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶å€¼ var e int fmt.Println(e) //:=è¯­å¥æ˜¯ç”³æ˜å¹¶åˆå§‹åŒ–å˜é‡çš„ç®€å†™ f := \"short\" fmt.Println(f) } ","date":"2021-02-15","objectID":"/go-study-01/:7:2","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"å¸¸é‡ Goæ”¯æŒå­—ç¬¦ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å’Œæ•°å€¼å¸¸é‡ func constant() { //constç”¨äºå£°æ˜ä¸€ä¸ªå¸¸é‡ const s = \"constant\" fmt.Println(\"s=\", s) //constè¯­å¥å¯ä»¥å‡ºç°åœ¨ä»»ä½•varè¯­å¥å¯ä»¥å‡ºç°çš„åœ°æ–¹ const n = 500000000 fmt.Println(n) //å¸¸æ•°è¡¨è¾¾å¼å¯ä»¥æ‰§è¡Œä»»æ„ç²¾åº¦çš„è¿ç®— const d = 3e20 / n fmt.Println(\"d = 3e20/n : \", d) //æ•°å€¼å‹å¸¸é‡æ˜¯æ²¡æœ‰ç¡®å®šçš„ç±»å‹ï¼Œç›´åˆ°ä»–ä»¬è¢«ç»™å®šä¸€ä¸ªç±»å‹ï¼Œæ¯”å¦‚è¯´ä¸€æ¬¡æ˜¾ç¤ºçš„ç±»å‹è½¬åŒ– fmt.Println(\"int64(d) = \", int64(d)) //å½“ä¸Šä¸‹æ–‡éœ€è¦çš„æ—¶å€™ï¼Œä¸€ä¸ªæ•°å¯ä»¥è¢«ç»™å®šä¸€ä¸ªç±»å‹ï¼Œæ¯”å¦‚å˜é‡èµ‹å€¼æˆ–å‡½æ•°è°ƒç”¨ //ä¸¾ä¸ªæ —å­ï¼Œè¿™é‡Œçš„math.Sin()éœ€è¦ä¸€ä¸ªfloat64å‚æ•° fmt.Println(\"math.Sin(n) = \", math.Sin(n)) } ","date":"2021-02-15","objectID":"/go-study-01/:7:3","tags":["golang"],"title":"Go Study 01","uri":"/go-study-01/"},{"categories":["å­¦ä¹ "],"content":"Linux Network 02","date":"2021-02-14","objectID":"/linux-network-02/","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 02","uri":"/linux-network-02/"},{"categories":["å­¦ä¹ "],"content":"Socket(å¥—æ¥å­—)ç¼–ç¨‹ ","date":"2021-02-14","objectID":"/linux-network-02/:1:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 02","uri":"/linux-network-02/"},{"categories":["å­¦ä¹ "],"content":"å¥—æ¥å­—æ¦‚å¿µ åœ¨TCP/IPåè®®ä¸­ï¼Œâ€œIPåœ°å€+TCPæˆ–UDPç«¯å£å·â€å”¯ä¸€æ ‡è¯†ç½‘ç»œé€šè®¯ä¸­çš„ä¸€ä¸ªè¿›ç¨‹ã€‚â€œIPåœ°å€+ç«¯å£å·â€å°±å¯¹åº”ä¸€ä¸ªsocketã€‚æ¬²å»ºç«‹è¿æ¥çš„ä¸¤ä¸ªè¿›ç¨‹å„è‡ªæœ‰ä¸€ä¸ªsocketæ¥æ ‡è¯†ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªsocketç»„æˆçš„socket pairå°±å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè¿æ¥ã€‚å› æ­¤å¯ä»¥ç”¨Socketæ¥æè¿°ç½‘ç»œè¿æ¥çš„ä¸€å¯¹ä¸€å…³ç³» socketé€šä¿¡åŸç†socketé€šä¿¡åŸç† \"\rsocketé€šä¿¡åŸç†\r åœ¨ç½‘ç»œé€šä¿¡ä¸­ï¼Œå¥—æ¥å­—ä¸€å®šæ˜¯æˆå¯¹å‡ºç°çš„ã€‚ä¸€ç«¯çš„å‘é€ç¼“å†²åŒºå¯¹åº”å¯¹ç«¯çš„æ¥æ”¶ç¼“å†²åŒºã€‚æˆ‘ä»¬ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ç´¢å‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒº ","date":"2021-02-14","objectID":"/linux-network-02/:1:1","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 02","uri":"/linux-network-02/"},{"categories":["å­¦ä¹ "],"content":"Linux Network 01","date":"2021-02-13","objectID":"/linux-network-01/","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"åè®®çš„æ¦‚å¿µ ","date":"2021-02-13","objectID":"/linux-network-01/:1:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯åè®®ï¼Ÿ ä»åº”ç”¨çš„è§’åº¦å‡ºå‘ï¼Œåè®®å¯ä»¥ç†è§£ä¸ºâ€œè§„åˆ™â€ï¼Œæ˜¯æ•°æ®ä¼ è¾“å’Œæ•°æ®è§£é‡Šçš„è§„åˆ™ ","date":"2021-02-13","objectID":"/linux-network-01/:1:1","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"å…¸å‹åè®® ä¼ è¾“å±‚ å¸¸è§çš„åè®®æœ‰TCP/UDPåè®® åº”ç”¨å±‚ å¸¸è§çš„åè®®æœ‰HTTP/FTPåè®® ç½‘ç»œå±‚ å¸¸è§çš„åè®®æœ‰IP/ICMP/IGMPåè®® ç½‘ç»œæ¥å£å±‚ å¸¸è§çš„åè®®æœ‰ARP/RARPåè®® TCPä¼ è¾“æ§åˆ¶åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é åœ°ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®® UDPç”¨æˆ·æ•°æ®æŠ¥åè®®æ˜¯OSIå‚è€ƒæ¨¡å‹ä¸­ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›é¢å‘äº‹åŠ¡çš„ç®€å•ä¸å¯é ä¿¡æ¯ä¼ é€æœåŠ¡ HTTPè¶…æ–‡æœ¬ä¼ è¾“åè®®æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€å¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®® FTPæ–‡ä»¶ä¼ è¾“åè®® IPåè®®æ˜¯å› ç‰¹ç½‘äº’è”åè®® ICMPåè®®æ˜¯Internetæ§åˆ¶æŠ¥æ–‡åè®®ï¼Œå®ƒæ˜¯TCP/IPåè®®æ—çš„ä¸€ä¸ªå­åè®®ï¼Œç”¨äºåœ¨IPä¸»æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶æ¶ˆæ¯ IGMPåè®®æ˜¯Internetç»„ç®¡ç†åè®®ï¼Œæ˜¯å› ç‰¹ç½‘åè®®å®¶æ—ä¸­çš„ä¸€ä¸ªç»„æ’­åè®®ã€‚è¯¥åè®®è¿è¡Œåœ¨ä¸»æœºå’Œç»„æ’­è·¯ç”±å™¨ä¹‹é—´ ARPåè®®æ˜¯æ­£å‘åœ°å€è§£æåè®®ï¼Œé€šè¿‡å·²çŸ¥IPå¯»æ‰¾å¯¹åº”ä¸»æœºçš„MACåœ°å€ RARPåè®®æ˜¯åå‘åœ°å€è½¬æ¢åè®®ï¼Œé€šè¿‡MACåœ°å€ç¡®å®šIPåœ°å€ ","date":"2021-02-13","objectID":"/linux-network-01/:1:2","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"ç½‘ç»œåº”ç”¨ç¨‹åºè®¾è®¡æ¨¡å¼ ","date":"2021-02-13","objectID":"/linux-network-01/:2:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"C/Sæ¨¡å¼ ä¼ ç»Ÿçš„ç½‘ç»œåº”ç”¨è®¾è®¡æ¨¡å¼ï¼Œå®¢æˆ·æœº(client)/æœåŠ¡å™¨(server)æ¨¡å¼ã€‚éœ€è¦åœ¨é€šè®¯ä¸¤ç«¯å„è‡ªéƒ¨ç½²å®¢æˆ·æœºå’ŒæœåŠ¡å™¨æ¥å®Œæˆæ•°æ®é€šä¿¡ ","date":"2021-02-13","objectID":"/linux-network-01/:2:1","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"B/Sæ¨¡å¼ æµè§ˆå™¨(Brower)/æœåŠ¡å™¨(server)æ¨¡å¼ã€‚åªéœ€è¦åœ¨ä¸€ç«¯éƒ¨ç½²æœåŠ¡å™¨ï¼Œè€Œå¦ä¸€ç«¯ä½¿ç”¨æ¯å°PCéƒ½é»˜è®¤é…ç½®çš„æµè§ˆå™¨å³å¯å®Œæˆæ•°æ®çš„ä¼ è¾“ ","date":"2021-02-13","objectID":"/linux-network-01/:2:2","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"C/Sä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ 1ã€åè®®é€‰ç”¨çµæ´» 2ã€æ•°æ®å¯ä»¥æå‰ç¼“å­˜ ç¼ºç‚¹ 1ã€å¯¹ç”¨æˆ·å®‰å…¨æ„æˆå¨èƒ 2ã€å¼€å‘å·¥ä½œé‡è¾ƒå¤§ ","date":"2021-02-13","objectID":"/linux-network-01/:2:3","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"B/Sä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ 1ã€ä¸ä¼šå®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œå®‰å…¨æ€§é«˜ 2ã€åªéœ€è¦å¼€å‘æœåŠ¡ç«¯ï¼Œå·¥ä½œé‡å‡å° 3ã€å¯ä»¥è·¨å¹³å° ç¼ºç‚¹ 1ã€éœ€è¦æ”¯æŒHTTPåè®® 2ã€ä¸èƒ½è¿›è¡Œæ•°æ®ç¼“å­˜ ","date":"2021-02-13","objectID":"/linux-network-01/:2:4","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"åˆ†å±‚æ¨¡å‹ OSIå‚è€ƒæ¨¡å‹ TCP/IPæ¨¡å‹ åº”ç”¨å±‚-- è¡¨ç¤ºå±‚ |-\u003e åº”ç”¨å±‚ ä¼šè¯å±‚-- ä¼ è¾“å±‚ ä¼ è¾“å±‚ ç½‘ç»œå±‚ ç½‘ç»œå±‚ æ•°æ®é“¾è·¯å±‚-|-\u003e ç½‘ç»œæ¥å£å±‚ ç‰©ç†å±‚------ ","date":"2021-02-13","objectID":"/linux-network-01/:3:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"OSIä¸ƒå±‚æ¨¡å‹ 1ã€ç‰©ç†å±‚ï¼šä¸»è¦å®šä¹‰ç‰©ç†è®¾å¤‡æ ‡å‡†ï¼Œå¦‚ç½‘çº¿çš„æ¥å£ç±»å‹ã€å…‰çº¤çš„æ¥å£ç±»å‹ã€å„ç§ä¼ è¾“ä»‹è´¨çš„ä¼ è¾“é€Ÿç‡ç­‰ã€‚ä»–çš„ä¸»è¦ä½œç”¨æ˜¯ä¼ è¾“æ¯”ç‰¹æµ 2ã€æ•°æ®é“¾è·¯å±‚ï¼šå®šä¹‰äº†å¦‚ä½•è®©æ ¼å¼åŒ–æ•°æ®ä»¥å¸§ä¸ºå•ä½è¿›è¡Œä¼ è¾“ï¼Œä»¥åŠå¦‚ä½•è®©æ§åˆ¶å¯¹ç‰©ç†ä»‹è´¨è®¿é—®ã€‚è¿™ä¸€å±‚é€šå¸¸è¿˜æä¾›é”™è¯¯æ£€æµ‹å’Œçº æ­£ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å¯é ä¼ è¾“ 3ã€ç½‘ç»œå±‚ï¼šåœ¨ä½äºä¸åŒåœ°ç†ä½ç½®çš„ç½‘ç»œä¸­çš„ä¸¤ä¸ªä¸»æœºç³»ç»Ÿä¹‹é—´æä¾›é“¾æ¥å’Œè·¯å¾„é€‰æ‹©ã€‚Internetçš„å‘å±•ä½¿å¾—ä»ä¸–ç•Œå„ç«™ç‚¹è®¿é—®ä¿¡æ¯çš„ç”¨æˆ·æ•°å¤§å¤§å¢åŠ ï¼Œè€Œç½‘ç»œå±‚æ­£æ˜¯ç®¡ç†è¿™ç§è¿æ¥çš„å±‚ 4ã€ä¼ è¾“å±‚ï¼šå®šä¹‰äº†ä¸€äº›ä¼ è¾“æ•°æ®çš„åè®®å’Œç«¯å£å·(wwwç«¯å£80ç­‰)ï¼Œå¦‚ï¼šTCP(ä¼ è¾“æ§åˆ¶åè®®ï¼Œä¼ è¾“æ•ˆç‡ä½ï¼Œå¯é æ€§å¼ºï¼Œç”¨äºä¼ è¾“å¯é æ€§è¦æ±‚é«˜ï¼Œæ•°æ®é‡å¤§çš„æ•°æ®)ï¼ŒUDP(ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œä¸TCPç‰¹æ€§æ°æ°ç›¸åï¼Œç”¨äºä¼ è¾“å¯é æ€§è¦æ±‚ä¸é«˜ï¼Œæ•°æ®é‡å°çš„æ•°æ®ï¼Œå¦‚QQèŠå¤©æ•°æ®å°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ä¼ è¾“çš„)ã€‚ä¸»è¦æ˜¯å°†ä¸‹å±‚æ¥å—çš„æ•°æ®è¿›è¡Œåˆ†æ®µå’Œä¼ è¾“ï¼Œè¾¾åˆ°ç›®çš„åœ°å€åå†è¿›è¡Œé‡ç»„ï¼Œå¸¸å¸¸æŠŠè¿™ä¸€å±‚æ•°æ®å«åšæ®µã€‚ 5ã€ä¼šè¯å±‚ï¼šé€šè¿‡ä¼ è¾“å±‚(ç«¯å£å·ï¼šä¼ è¾“ç«¯å£ä¸æ¥æ”¶ç«¯å£)å»ºç«‹æ•°æ®ä¼ è¾“çš„é€šè·¯ã€‚ä¸»è¦åœ¨ä½ çš„ç³»ç»Ÿä¹‹é—´å‘èµ·ä¼šè¯æˆ–è€…æ¥å—ä¼šè¯è¯·æ±‚(è®¾å¤‡ä¹‹é—´éœ€è¦äº’ç›¸è®¤è¯†å¯ä»¥æ˜¯IPä¹Ÿå¯ä»¥æ˜¯MACæˆ–è€…æ˜¯ä¸»æœºå)ã€‚ 6ã€è¡¨ç¤ºå±‚ï¼šå¯ç¡®ä¿ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨å±‚æ‰€å‘é€çš„ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨è¯»å–ã€‚å¦‚ï¼šPCç¨‹åºä¸å¦ä¸€å°è®¡ç®—æœºè¿›è¡Œé€šä¿¡ï¼Œå…¶ä¸­ä¸€å°è®¡ç®—æœºä½¿ç”¨æ‰©å±•äºŒä¸€åè¿›åˆ¶äº¤æ¢ç (EBCDIC)ï¼Œè€Œå¦ä¸€å°åˆ™ä½¿ç”¨ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ç (ASCII)æ¥è¡¨ç¤ºç›¸åŒå­—ç¬¦ï¼Œå¦‚æœ‰å¿…è¦ï¼Œè¡¨ç¤ºå±‚ä¼šé€šè¿‡ä½¿ç”¨ä¸€ç§é€šæ ¼å¼æ¥å®ç°å¤šç§æ•°æ®æ ¼å¼ä¹‹é—´çš„è½¬æ¢ã€‚ 7ã€åº”ç”¨å±‚ï¼šæ˜¯æœ€é è¿‘ç”¨æˆ·çš„OSIå±‚ï¼Œè¿™ä¸€å±‚ä¸ºç”¨æˆ·çš„åº”ç”¨ç¨‹åº(ä¾‹å¦‚ç”µå­é‚®ä»¶ã€æ–‡ä»¶ä¼ è¾“å’Œç»ˆç«¯ä»¿çœŸ)æä¾›ç½‘ç»œæœåŠ¡ ","date":"2021-02-13","objectID":"/linux-network-01/:3:1","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"TCP/IPå››å±‚æ¨¡å‹ TCP/IPç½‘ç»œåè®®æ ˆåˆ†ä¸ºåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚å››å±‚ å…¶ä¸­åº”ç”¨å±‚å…¸å‹çš„æ˜¯FTPåè®®ï¼Œä¼ è¾“å±‚å…¸å‹çš„æ˜¯TCPæˆ–UDPåè®®ï¼Œç½‘ç»œå±‚å…¸å‹çš„æ˜¯IPåè®®ï¼Œé“¾è·¯å±‚å…¸å‹çš„æ˜¯ä»¥å¤ªç½‘å¸§åè®® TCP/IPæ¨¡å‹TCP/IPæ¨¡å‹ \"\rTCP/IPæ¨¡å‹\r ","date":"2021-02-13","objectID":"/linux-network-01/:3:2","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"é€šä¿¡è¿‡ç¨‹ é€šä¿¡è¿‡ç¨‹é€šä¿¡è¿‡ç¨‹ \"\ré€šä¿¡è¿‡ç¨‹\r ","date":"2021-02-13","objectID":"/linux-network-01/:4:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"åè®®æ ¼å¼ ","date":"2021-02-13","objectID":"/linux-network-01/:5:0","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"æ•°æ®åŒ…å°è£… æ•°æ®åŒ…å°è£…TCP/IPæ•°æ®åŒ…å°è£… \"\ræ•°æ®åŒ…å°è£…\r ","date":"2021-02-13","objectID":"/linux-network-01/:5:1","tags":["Linuxç½‘ç»œç¼–ç¨‹"],"title":"Linux Network 01","uri":"/linux-network-01/"},{"categories":["å­¦ä¹ "],"content":"java02","date":"2021-02-10","objectID":"/java02/","tags":["java"],"title":"Java02","uri":"/java02/"},{"categories":["å­¦ä¹ "],"content":"æ ‡è¯†ç¬¦æ³¨æ„ç‚¹ æ‰€æœ‰çš„æ ‡è¯†ç¬¦éƒ½åº”è¯¥ä»¥å­—æ¯(A-Zæˆ–è€…a-z)ï¼Œç¾å…ƒç¬¦($)æˆ–è€…ä¸‹åˆ’çº¿(_)å¼€å§‹ é¦–å­—ç¬¦ä¹‹åå¯ä»¥æ˜¯å­—æ¯(A-Zæˆ–è€…a-z)ï¼Œç¾å…ƒç¬¦($)ï¼Œä¸‹åˆ’çº¿(_)æˆ–æ•°å­—çš„ä»»ä½•å­—ç¬¦ç»„åˆ ä¸èƒ½ä½¿ç”¨å…³é”®å­—ä½œä¸ºå˜é‡åæˆ–è€…æ–¹æ³•å æ ‡è¯†ç¬¦æ˜¯å¤§å°å†™æ•æ„Ÿçš„ åˆæ³•æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼šageã€$salaryã€_valueã€__1_value éæ³•æ ‡è¯†ç¬¦ä¸¾ä¾‹ï¼š123abcã€-salaryã€#abc å¯ä»¥ä½¿ç”¨ä¸­æ–‡å‘½åï¼Œä½†æ˜¯ä¸€èˆ¬ä¸å»ºè®®è¿™æ ·å»ä½¿ç”¨ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨æ‹¼éŸ³ï¼Œå¾ˆLow æ•°æ®ç±»å‹ ","date":"2021-02-10","objectID":"/java02/:0:0","tags":["java"],"title":"Java02","uri":"/java02/"},{"categories":["å­¦ä¹ "],"content":"å¼ºç±»å‹è¯­è¨€ è¦æ±‚å˜é‡çš„ä½¿ç”¨è¦ä¸¥æ ¼ç¬¦åˆè§„å®šï¼Œæ‰€æœ‰å˜é‡éƒ½å¿…é¡»å…ˆå®šä¹‰åæ‰èƒ½ä½¿ç”¨ ","date":"2021-02-10","objectID":"/java02/:1:0","tags":["java"],"title":"Java02","uri":"/java02/"},{"categories":["å­¦ä¹ "],"content":"å¼±ç±»å‹è¯­è¨€ ","date":"2021-02-10","objectID":"/java02/:2:0","tags":["java"],"title":"Java02","uri":"/java02/"},{"categories":["å­¦ä¹ "],"content":"javaçš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±» åŸºæœ¬ç±»å‹(primitive type) æ•°å€¼ç±»å‹ æ•´æ•°ç±»å‹ byteå ä¸€ä¸ªå­—èŠ‚èŒƒå›´ï¼š-128~127 shortå ä¸¤ä¸ªå­—èŠ‚èŒƒå›´ï¼š-32768~32767 intå å››ä¸ªå­—èŠ‚èŒƒå›´ï¼šâ€¦ longå å…«ä¸ªå­—èŠ‚èŒƒå›´ï¼šâ€¦ æµ®ç‚¹ç±»å‹ floatå å››ä¸ªå­—èŠ‚ doubleå å…«ä¸ªå­—èŠ‚ å­—ç¬¦ç±»å‹ charå ä¸¤ä¸ªå­—èŠ‚ booleanç±»å‹ï¼šå ä¸€ä½å…¶å€¼åªæœ‰trueå’Œfalseä¸¤ä¸ª å¼•ç”¨ç±»å‹(reference type) ç±» æ¥å£ æ•°ç»„ ä»€ä¹ˆæ˜¯å­—èŠ‚ ä½(bit)ï¼šæ˜¯è®¡ç®—æœºå†…éƒ¨æ•°æ®å‚¨å­˜çš„æœ€å°å•ä½ï¼Œ11001100æ˜¯ä¸€ä¸ªå…«ä½äºŒè¿›åˆ¶æ•° å­—èŠ‚(byte)ï¼šæ˜¯è®¡ç®—æœºæ•°æ®å¤„ç†çš„åŸºæœ¬å•ä½ï¼Œä¹ æƒ¯ä¸Šç”¨å¤§å†™Bæ¥è¡¨ç¤º 1B(byteï¼Œå­—èŠ‚) = 8bit(ä½) å­—ç¬¦ï¼šæ˜¯æŒ‡è®¡ç®—æœºä¸­ä½¿ç”¨çš„å­—æ¯ã€æ•°å­—ã€å­—å’Œç¬¦å· 1bitè¡¨ç¤º1ä½ 1Byteè¡¨ç¤ºä¸€ä¸ªå­—èŠ‚ 1B=8b 1024B = 1KB 1024KB = 1M 1024M = 1G ç±»å‹è½¬æ¢ ç”±äºjavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥è¦è¿›è¡Œæœ‰äº›è¿ç®—çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°ç±»å‹è½¬æ¢ ä½-\u003eé«˜ byte,short,char-\u003eint-\u003elong-\u003efloat-\u003edouble è¿ç®—ä¸­ï¼Œä¸åŒçš„æ•°æ®ç±»å‹å…ˆè½¬æ¢æˆåŒä¸€ç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®— å¼ºåˆ¶ç±»å‹è½¬æ¢ (ç±»å‹)å˜é‡å é«˜åˆ°ä½ è‡ªåŠ¨ç±»å‹è½¬æ¢ ä½åˆ°é«˜ æ³¨æ„ç‚¹ï¼š 1ã€ä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢ 2ã€ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢æˆä¸ç›¸å…³çš„ç±»å‹ 3ã€åœ¨æŠŠé«˜å®¹é‡è½¬æ¢æˆä½å®¹é‡çš„æ—¶å€™ï¼Œå¼ºåˆ¶è½¬æ¢ 4ã€è½¬æ¢çš„æ—¶å€™å¯èƒ½å­˜åœ¨å†…å­˜æº¢å‡ºæˆ–è€…ç²¾åº¦é—®é¢˜ å˜é‡ å˜é‡æ˜¯ä»€ä¹ˆï¼Ÿ å˜é‡å°±æ˜¯å¯ä»¥å˜åŒ–çš„é‡ javaæ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½å¿…é¡»å£°æ˜å…¶ç±»å‹ã€‚ javaå˜é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼Œå…¶è¦ç´ åŒ…æ‹¬å˜é‡åï¼Œå˜é‡ç±»å‹å’Œä½œç”¨åŸŸ æ³¨æ„äº‹é¡¹ï¼š æ¯ä¸ªå˜é‡éƒ½æœ‰ç±»å‹ï¼Œç±»å‹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ å˜é‡åå¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ å˜é‡å£°æ˜æ˜¯ä¸€æ¡å®Œæ•´çš„è¯­å¥ï¼Œå› æ­¤æ¯ä¸€ä¸ªå£°æ˜éƒ½å¿…é¡»ä»¥åˆ†å·ç»“æŸ å˜é‡çš„å‘½åè§„èŒƒ æ‰€æœ‰å˜é‡ã€æ–¹æ³•ã€ç±»åï¼šè§åçŸ¥æ„ ç±»æˆå‘˜å˜é‡ï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ï¼šmonthSalary å±€éƒ¨å˜é‡ï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ å¸¸é‡ï¼šå¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ï¼šMAX_VALUE ç±»åï¼šé¦–å­—æ¯å¤§å†™å’Œé©¼å³°åŸåˆ™ï¼šManï¼ŒGoodMan æ–¹æ³•åï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ï¼šrun()ï¼ŒrunRun() å¸¸é‡ å¸¸é‡(Constant)ï¼šåˆå§‹åŒ–(initialize)åä¸èƒ½å†æ”¹å˜å€¼ï¼ä¸ä¼šå˜åŠ¨çš„å€¼ æ‰€è°“å¸¸é‡å¯ä»¥ç†è§£ä¸ºä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒçš„å€¼è¢«è®¾å®šåï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¸å…è®¸è¢«æ”¹å˜ final å¸¸é‡å = å€¼; å¸¸é‡åä¸€èˆ¬ä½¿ç”¨å¤§å†™å­—ç¬¦ ","date":"2021-02-10","objectID":"/java02/:3:0","tags":["java"],"title":"Java02","uri":"/java02/"},{"categories":["å­¦ä¹ "],"content":"java01","date":"2021-02-09","objectID":"/java01/","tags":["java"],"title":"Java01","uri":"/java01/"},{"categories":["å­¦ä¹ "],"content":"javaæ˜¯ä¸€é—¨è·¨å¹³å°è¯­è¨€(jvmè™šæ‹Ÿæœº) javaç‰¹æ€§å’Œä¼˜åŠ¿ ç®€å•æ€§ é¢å‘å¯¹è±¡ å¯ç§»æ¤æ€§(write once, run anywhere) é«˜æ€§èƒ½ åˆ†å¸ƒå¼ åŠ¨æ€æ€§ å¤šçº¿ç¨‹ å®‰å…¨æ€§ å¥å£®æ€§ javaä¸‰å¤§ç‰ˆæœ¬ javaSEï¼šæ ‡å‡†ç‰ˆ(æ¡Œé¢ç¨‹åºï¼Œæ§åˆ¶å°å¼€å‘â€¦) javaMEï¼šåµŒå…¥å¼å¼€å‘(æ‰‹æœºï¼Œå°å®¶ç”µâ€¦) javaEEï¼šEä¼ä¸šçº§å¼€å‘(webç«¯ï¼ŒæœåŠ¡å™¨å¼€å‘â€¦) JDKã€JREã€JVM JDKï¼šJava Development Kit(javaå¼€å‘è€…å·¥å…·) JREï¼šJava Runtime Environment(javaè¿è¡Œæ—¶ç¯å¢ƒ) JVMï¼šJava Virtual Machine(javaè™šæ‹Ÿæœº) JDK\u003eJRE\u003eJVM","date":"2021-02-09","objectID":"/java01/:0:0","tags":["java"],"title":"Java01","uri":"/java01/"},{"categories":["å­¦ä¹ "],"content":"doså¸¸ç”¨å‘½ä»¤","date":"2021-02-08","objectID":"/dos-code/","tags":["dos"],"title":"Dos Code","uri":"/dos-code/"},{"categories":["å­¦ä¹ "],"content":"ç›˜ç¬¦åˆ‡æ¢ åˆ‡æ¢åˆ°Cç›˜ï¼š c: åˆ‡æ¢åˆ°Eç›˜ï¼š e: æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ dir åˆ‡æ¢ç›®å½• cd change directory cd .. æ¸…ç†å±å¹• cls é€€å‡ºç»ˆç«¯ exit æŸ¥çœ‹ç”µè„‘ip ipconfig æ‰“å¼€åº”ç”¨ calc mspaint notepad pingå‘½ä»¤ ping 192.168.1.* æ–‡ä»¶æ“ä½œ åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼šmd ç›®å½•å ç§»é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼šrd ç›®å½•å åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼š cd\u003e æ–‡ä»¶å ç§»é™¤ä¸€ä¸ªæ–‡ä»¶ï¼š del æ–‡ä»¶å","date":"2021-02-08","objectID":"/dos-code/:0:0","tags":["dos"],"title":"Dos Code","uri":"/dos-code/"},{"categories":["å­¦ä¹ "],"content":"markdownå­¦ä¹ 01","date":"2021-02-07","objectID":"/markdown-study01/","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"1 æ ‡é¢˜ ","date":"2021-02-07","objectID":"/markdown-study01/:0:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"h2 æ ‡é¢˜ ","date":"2021-02-07","objectID":"/markdown-study01/:1:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"h3 æ ‡é¢˜ h4 æ ‡é¢˜ h5 æ ‡é¢˜ h6 æ ‡é¢˜ã€ è¦æ·»åŠ è‡ªå®šä¹‰æ ‡é¢˜IDï¼Œè¯·åœ¨ä¸æ ‡é¢˜ç›¸åŒçš„è¡Œä¸­å°†è‡ªå®šä¹‰IDæ”¾åœ¨èŠ±æ‹¬å·ä¸­ ###ä¸€ä¸ªå¾ˆæ£’çš„æ ‡é¢˜ {#custom-id} 2 æ³¨é‡Š æ³¨é‡Šå’ŒHTMLå…¼å®¹çš„ 3 æ°´å¹³çº¿ HTMLä¸­çš„\u003chr\u003eæ ‡ç­¾æ˜¯ç”¨æ¥åœ¨æ®µè½å…ƒç´ ä¹‹é—´åˆ›å»ºä¸€ä¸ªâ€œä¸“é¢˜é—´éš”â€çš„ Markdownå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š -â€“ï¼šä¸‰ä¸ªè¿ç»­çš„ç ´æŠ˜å· ___ï¼šä¸‰ä¸ªè¿ç»­çš„ä¸‹åˆ’çº¿ ***ï¼šä¸‰ä¸ªè¿ç»­çš„æ˜Ÿå· 4 æ®µè½ HTMLä¸­å°†ç”¨\u003cp\u003e\u003c/p\u003eæ ‡ç­¾åŒ…è£¹ Markdownç›´æ¥æŒ‰ç…§çº¯æ–‡æœ¬çš„æ–¹å¼ä¹¦å†™æ®µè½ 5 å†…è”HTMLå…ƒç´  è¿™æ˜¯HTML 6 å¼ºè°ƒ ","date":"2021-02-07","objectID":"/markdown-study01/:1:1","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"åŠ ç²— ç”¨äºå¼ºè°ƒå¸¦æœ‰è¾ƒç²—å­—ä½“çš„æ–‡æœ¬ç‰‡æ®µ ä»¥ä¸‹æ–‡æœ¬ä¼šè¢«æ¸²æŸ“ä¸ºç²—ä½“ **æ¸²æŸ“ä¸ºç²—ä½“** __æ¸²æŸ“ä¸ºç²—ä½“__ è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003cstrong\u003eæ¸²æŸ“ä¸ºç²—ä½“\u003c/strong\u003e ","date":"2021-02-07","objectID":"/markdown-study01/:2:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"æ–œä½“ ç”¨äºå¼ºè°ƒå¸¦æœ‰æ–œä½“çš„æ–‡æœ¬ç‰‡æ®µ ä»¥ä¸‹æ–‡æœ¬ç‰‡æ®µè¢«æ¸²æŸ“æˆæ–œä½“ *æ¸²æŸ“ä¸ºæ–œä½“* _æ¸²æŸ“ä¸ºæ–œä½“_ è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003cem\u003eæ¸²æŸ“ä¸ºæ–œä½“\u003c/em\u003e ","date":"2021-02-07","objectID":"/markdown-study01/:3:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"åˆ é™¤çº¿ ä»¥ä¸‹æ–‡æœ¬ç‰‡æ®µä¼šè¢«æ¸²æŸ“æˆåˆ é™¤çº¿ ~~è¿™æ®µæ–‡æœ¬å¸¦æœ‰åˆ é™¤çº¿~~ è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003cdel\u003eè¿™æ®µæ–‡æœ¬å¸¦æœ‰åˆ é™¤çº¿\u003c/del\u003e è¿™æ®µæ–‡æœ¬å¸¦æœ‰åˆ é™¤çº¿ ","date":"2021-02-07","objectID":"/markdown-study01/:4:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"ç»„åˆ åŠ ç²—ï¼Œæ–œä½“å’Œåˆ é™¤çº¿å¯ä»¥ç»„åˆä½¿ç”¨ ***åŠ ç²—å’Œæ–œä½“*** ~~**åˆ é™¤çº¿å’ŒåŠ ç²—**~~ ~~*åˆ é™¤å’Œæ–œä½“*~~ ~~***åŠ ç²—ï¼Œæ–œä½“å’Œåˆ é™¤çº¿***~~ è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003cem\u003e\u003cstrong\u003eåŠ ç²—å’Œæ–œä½“\u003c/strong\u003e\u003c/em\u003e \u003cdel\u003e\u003cstrong\u003eåˆ é™¤çº¿å’ŒåŠ ç²—\u003c/strong\u003e\u003c/em\u003e \u003cdel\u003e\u003cem\u003eåˆ é™¤çº¿å’Œæ–œä½“\u003cem\u003e\u003c/del\u003e \u003cdel\u003e\u003cem\u003e\u003cstrong\u003eåŠ ç²—ï¼Œæ–œä½“å’Œåˆ é™¤çº¿\u003c/strong\u003e\u003c/em\u003e\u003c/del\u003e åŠ ç²—å’Œæ–œä½“ åˆ é™¤çº¿å’ŒåŠ ç²— åˆ é™¤å’Œæ–œä½“ åŠ ç²—ï¼Œæ–œä½“å’Œåˆ é™¤çº¿ 7 å¼•ç”¨ ç”¨äºåœ¨æ–‡æ¡£ä¸­å¼•ç”¨å…¶ä»–æ¥æºçš„å†…å®¹å— åœ¨è¦å¼•ç”¨çš„ä»»ä½•æ–‡æœ¬ä¹‹å‰æ·»åŠ \u003e: \u003e **Fusion Drive** combines a hard drive with a flash storage è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003cblockquote\u003e \u003cp\u003e \u003cstrong\u003eFusion Drive\u003c/strong\u003e combines a hard drive with a flash storage \u003c/p\u003e \u003c/blockquote\u003e å¼•ç”¨ä¹Ÿå¯ä»¥åµŒå¥— \u003e **Fusion Drive** combines a hard drive with a flash storage \u003e\u003e 111 Fusion Drive combines a hard drive with a flash storage 111 8 åˆ—è¡¨ ","date":"2021-02-07","objectID":"/markdown-study01/:5:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"æ— åºåˆ—è¡¨ ä¸€ç³»åˆ—é¡¹çš„åˆ—è¡¨ï¼Œå…¶ä¸­é¡¹çš„é¡ºåºæ²¡æœ‰æ˜æ˜¾å…³ç³» ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•ç¬¦å·æ¥è¡¨ç¤ºæ— åºåˆ—è¡¨ä¸­çš„é¡¹ * ä¸€é¡¹å†…å®¹ * å­å†…å®¹ - ä¸€é¡¹å†…å®¹ + ä¸€é¡¹å†…å®¹ ä¸€é¡¹å†…å®¹ å­å†…å®¹ ä¸€é¡¹å†…å®¹ ä¸€é¡¹å†…å®¹ ","date":"2021-02-07","objectID":"/markdown-study01/:6:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"æœ‰åºåˆ—è¡¨ ä¸€ç³»åˆ—é¡¹çš„åˆ—è¡¨ï¼Œå…¶ä¸­é¡¹çš„é¡ºåºç¡®å®å¾ˆé‡è¦ 1. a 2. b 3. c è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003col\u003e \u003cli\u003ea\u003c/li\u003e \u003cli\u003eb\u003c/li\u003e \u003cli\u003ec\u003c/li\u003e \u003c/ol\u003e a b c ","date":"2021-02-07","objectID":"/markdown-study01/:7:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"ä»»åŠ¡åˆ—è¡¨ ä»»åŠ¡åˆ—è¡¨ä½¿ä½ å¯ä»¥åˆ›å»ºå¸¦æœ‰å¤é€‰æ¡†çš„åˆ—è¡¨ï¼Œè¦åˆ›å»ºåˆ—è¡¨ï¼Œè¯·åœ¨ä»»åŠ¡åˆ—è¡¨é¡¹ä¹‹å‰æ·»åŠ ç ´æŠ˜å·(-)å’Œå¸¦æœ‰ç©ºæ ¼çš„æ–¹æ‹¬å·([ ])ï¼Œè¦é€‰æ‹©å¤é€‰æ¡†ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¹‹é—´æ·»åŠ x([x]) - [x] a - [ ] b - [ ] c Write the press release Update the website Contact the media 9 ä»£ç  ","date":"2021-02-07","objectID":"/markdown-study01/:8:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"è¡Œå†…ä»£ç  ç”¨\\åŒ…è£…è¡Œå†…ä»£ç æ®µ åœ¨è¿™ä¸ªä¾‹å­ä¸­, \\\u003csection\u003e\\\u003c/section\u003e ä¼šè¢«åŒ…è£¹æˆ **ä»£ç **. \u003cp\u003e åœ¨è¿™ä¸ªä¾‹å­ä¸­, \u003ccode\u003e\u0026lt;section\u0026gt;\u0026lt;/section\u0026gt;\u003c/code\u003e ä¼šè¢«åŒ…è£¹æˆ \u003cstrong\u003eä»£ç \u003c/strong\u003e. \u003c/p\u003e å‘ˆç°çš„è¾“å‡ºæ•ˆæœå¦‚ä¸‹ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­, \u003csection\u003e\u003c/section\u003e ä¼šè¢«åŒ…è£¹æˆ ä»£ç . ","date":"2021-02-07","objectID":"/markdown-study01/:9:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"ç¼©è¿›ä»£ç  // Some comments line 1 of code line 2 of code line 3 of code è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ ·ï¼š \u003cpre\u003e \u003ccode\u003e // Some comments line 1 of code line 2 of code line 3 of code \u003c/code\u003e \u003c/pre\u003e å‘ˆç°çš„è¾“å‡ºæ•ˆæœå¦‚ä¸‹ï¼š // Some comments line 1 of code line 2 of code line 3 of code ","date":"2021-02-07","objectID":"/markdown-study01/:10:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"å›´æ ä»£ç å— ä½¿ç”¨â€œå›´æ â€```æ¥ç”Ÿæˆä¸€æ®µå¸¦æœ‰è¯­è¨€å±æ€§çš„ä»£ç å— Sample text here... Sample text here... 10 è¡¨æ ¼ é€šè¿‡åœ¨æ¯ä¸ªå•å…ƒæ ¼ä¹‹é—´æ·»åŠ ç«–çº¿ä½œä¸ºåˆ†éš”çº¿ï¼Œå¹¶åœ¨æ ‡é¢˜ä¸‹æ·»åŠ ä¸€è¡Œç ´æŠ˜å·(ä¹Ÿç”±ç«–çº¿åˆ†éš”)æ¥åˆ›å»ºè¡¨æ ¼ï¼Œæ³¨æ„ç«–çº¿ä¸éœ€è¦å‚ç›´å¯¹é½ åœ¨ä»»ä½•æ ‡é¢˜ä¸‹æ–¹çš„ç ´æŠ˜å·å³ä¾§æ·»åŠ å†’å·å°†ä½¿è¯¥åˆ—çš„æ–‡æœ¬å³å¯¹é½ åœ¨ä»»ä½•æ ‡é¢˜ä¸‹æ–¹çš„ç ´æŠ˜å·ä¸¤è¾¹æ·»åŠ å†’å·å°†ä½¿è¯¥åˆ—çš„å¯¹é½æ–‡æœ¬å±…ä¸­ | Option | Description | | ------ | ----------- | | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. | è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003ctable\u003e \u003cthead\u003e \u003ctr\u003e \u003cth\u003eOption\u003c/th\u003e \u003cth\u003eDescription\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003edata\u003c/td\u003e \u003ctd\u003epath to data files to supply the data that will be passed into templates.\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003eengine\u003c/td\u003e \u003ctd\u003eengine to be used for processing templates. Handlebars is the default.\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003eext\u003c/td\u003e \u003ctd\u003eextension to be used for dest files.\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files. é“¾æ¥ ","date":"2021-02-07","objectID":"/markdown-study01/:11:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"åŸºæœ¬é“¾æ¥ \u003chttps://assemble.io\u003e \u003ccontact@revolunet.com\u003e [Assemble](https://assemble.io) è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003ca href=\"https://assemble.io\"\u003ehttps://assemble.io\u003c/a\u003e \u003ca href=\"mailto:contact@revolunet.com\"\u003econtact@revolunet.com\u003c/a\u003e \u003ca href=\"https://assemble.io\"\u003eAssemble\u003c/a\u003e å‘ˆç°çš„è¾“å‡ºæ•ˆæœå¦‚ä¸‹(å°†é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šï¼Œæ²¡æœ‰æç¤º) https://assemble.io contact@revolunet.com Assemble ","date":"2021-02-07","objectID":"/markdown-study01/:12:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["å­¦ä¹ "],"content":"æ·»åŠ ä¸€ä¸ªæ ‡é¢˜ [Upstage](https://github.com/upstage/ \"Visit Upstage!\") è¾“å‡ºçš„HTMLçœ‹èµ·æ¥åƒè¿™æ · \u003ca href=\"https://github.com/upstage/\" title=\"Visit Upstage!\"\u003eUpstage\u003c/a\u003e å‘ˆç°çš„è¾“å‡ºæ•ˆæœå¦‚ä¸‹(å°†é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šï¼Œä¼šæœ‰ä¸€è¡Œæç¤º) Upstage 12 è„šæ³¨ è„šæ³¨ä½¿ä½ å¯ä»¥æ·»åŠ æ³¨é‡Šå’Œå‚è€ƒï¼Œè€Œä¸ä¼šä½¿æ–‡æ¡£æ­£æ–‡æ··ä¹±ï¼Œå½“ä½ ä½¿ç”¨è„šæ³¨æ—¶ï¼Œä¼šåœ¨æ·»åŠ è„šæ³¨å¼•ç”¨çš„ä½ç½®å‡ºç°å¸¦æœ‰é“¾æ¥çš„ä¸Šæ ‡æ ‡å·ï¼Œè¯»è€…å¯ä»¥å•å‡»é“¾æ¥ä»¥è·³è‡³é¡µé¢åº•éƒ¨çš„è„šæ³¨å†…å®¹ è¦åˆ›å»ºè„šæ³¨å¼•ç”¨ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¸­æ·»åŠ æ’å…¥ç¬¦å·å’Œæ ‡è¯†ç¬¦ (1)ï¼Œæ ‡è¯†ç¬¦å¯ä»¥æ˜¯æ•°å­—æˆ–å•è¯ï¼Œä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚æ ‡è¯†ç¬¦ä»…å°†è„šæ³¨å¼•ç”¨ä¸è„šæ³¨æœ¬èº«ç›¸å…³è” - åœ¨è„šæ³¨è¾“å‡ºä¸­, è„šæ³¨æŒ‰é¡ºåºç¼–å·ã€‚ åœ¨ä¸­æ‹¬å·å†…ä½¿ç”¨æ’å…¥ç¬¦å·å’Œæ•°å­—ä»¥åŠç”¨å†’å·å’Œæ–‡æœ¬æ¥æ·»åŠ è„šæ³¨å†…å®¹ (1ï¼šè¿™æ˜¯ä¸€æ®µè„šæ³¨)ã€‚ä½ ä¸ä¸€å®šè¦åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ è„šæ³¨. å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨é™¤åˆ—è¡¨ï¼Œå¼•ç”¨å’Œè¡¨æ ¼ç­‰å…ƒç´ ä¹‹å¤–çš„ä»»ä½•ä½ç½®ã€‚ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨[^1]. è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨[^label] [^1]: è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^label]: è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨1. è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨2 13 å›¾ç‰‡ å›¾ç‰‡çš„è¯­æ³•ä¸é“¾æ¥ç›¸ä¼¼ï¼Œä½†åŒ…å«ä¸€ä¸ªåœ¨å‰é¢çš„æ„Ÿå¹å· ![Minion](https://octodex.github.com/images/minion.png) ![Alt text](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\") The StormtroopocatAlt text \"\rThe Stormtroopocat\r è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ â†©ï¸ è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ â†©ï¸ ","date":"2021-02-07","objectID":"/markdown-study01/:13:0","tags":["markdown"],"title":"Markdown Study01","uri":"/markdown-study01/"},{"categories":["ç”Ÿæ´»"],"content":"ç¬¬ä¸€ç¯‡blog","date":"2021-02-05","objectID":"/first_post/","tags":["æˆ‘çš„"],"title":"First_post","uri":"/first_post/"},{"categories":["ç”Ÿæ´»"],"content":"first post LoveItä¸»é¢˜ä¸­æ–‡æ–‡æ¡£ emojiè¡¨æƒ… å»éœ²è¥å•¦! â›º å¾ˆå¿«å°±å›æ¥. çœŸå¼€å¿ƒ! ğŸ˜‚ blogå‰ç½®å‚æ•°æ³¨è§£ ","date":"2021-02-05","objectID":"/first_post/:0:0","tags":["æˆ‘çš„"],"title":"First_post","uri":"/first_post/"},{"categories":null,"content":"aa ","date":"0001-01-01","objectID":"/about/:0:0","tags":null,"title":"","uri":"/about/"}]